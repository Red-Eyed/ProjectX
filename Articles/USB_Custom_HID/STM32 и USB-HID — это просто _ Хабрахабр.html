<!DOCTYPE html>
<!-- saved from url=(0033)https://habrahabr.ru/post/208026/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script id="an.yandex.ru/resource/context_static_r1049.js" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/context_static_r1049.js"></script>
    
    <meta content="width=1024" name="viewport">

    

    <title>STM32 и USB-HID — это просто / Хабрахабр</title>

      <meta name="description" content="На дворе 2014 год, а для связи микроконтроллеров с ПК самым популярным средством является обычный последовательный порт. С ним легко начать работать, он до примитивности прост в понимании — просто...">

      <meta name="keywords" content="STM32, USB-HID, связь ПК-МК, пора заводить хаб STM32">

      <meta property="fb:app_id" content="444736788986613"> 
<meta property="og:type" content="article"> 
<meta property="og:url" content="https://habrahabr.ru/post/208026/"> 
<meta property="og:title" content="STM32 и USB-HID — это просто">
	<meta property="og:image" content="http://habrastorage.org/getpro/habr/post_images/6b1/512/75d/6b151275d8392a0eefe1c90524bebded.jpg">
	<link rel="image_src" href="http://habrastorage.org/getpro/habr/post_images/6b1/512/75d/6b151275d8392a0eefe1c90524bebded.jpg"><meta property="og:image" content="https://habrastorage.org/getpro/habr/post_images/6b1/512/75d/6b151275d8392a0eefe1c90524bebded.jpg">
	<link rel="image_src" href="./STM32 и USB-HID — это просто _ Хабрахабр_files/6b151275d8392a0eefe1c90524bebded.jpg"><meta property="og:image" content="http://habrastorage.org/getpro/habr/post_images/ee0/b51/3ab/ee0b513ab61780097991d4b56e1f48a8.jpg">
	<link rel="image_src" href="http://habrastorage.org/getpro/habr/post_images/ee0/b51/3ab/ee0b513ab61780097991d4b56e1f48a8.jpg"><meta property="og:image" content="https://habrastorage.org/getpro/habr/post_images/ee0/b51/3ab/ee0b513ab61780097991d4b56e1f48a8.jpg">
	<link rel="image_src" href="./STM32 и USB-HID — это просто _ Хабрахабр_files/ee0b513ab61780097991d4b56e1f48a8.jpg"><meta property="og:image" content="http://habrastorage.org/getpro/habr/post_images/1a5/d76/a97/1a5d76a97741feca055b76b65c7e7e23.png">
	<link rel="image_src" href="http://habrastorage.org/getpro/habr/post_images/1a5/d76/a97/1a5d76a97741feca055b76b65c7e7e23.png"><meta property="og:image" content="https://habrastorage.org/getpro/habr/post_images/1a5/d76/a97/1a5d76a97741feca055b76b65c7e7e23.png">
	<link rel="image_src" href="./STM32 и USB-HID — это просто _ Хабрахабр_files/1a5d76a97741feca055b76b65c7e7e23.png"><meta property="og:image" content="http://habrastorage.org/getpro/habr/post_images/248/5b8/0a1/2485b80a183fdbfd8482aea83a16615c.png">
	<link rel="image_src" href="http://habrastorage.org/getpro/habr/post_images/248/5b8/0a1/2485b80a183fdbfd8482aea83a16615c.png"><meta property="og:image" content="https://habrastorage.org/getpro/habr/post_images/248/5b8/0a1/2485b80a183fdbfd8482aea83a16615c.png">
	<link rel="image_src" href="./STM32 и USB-HID — это просто _ Хабрахабр_files/2485b80a183fdbfd8482aea83a16615c.png">
	
<meta property="og:description" content="На дворе 2014 год, а для связи микроконтроллеров с ПК самым популярным средством является обычный последовательный порт. С ним легко начать работать, он до...">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@habrahabr">
  <meta property="al:android:url" content="habrahabr://post/208026">
<meta property="al:android:app_name" content="Habrahabr">
<meta property="al:android:package" content="ru.habrahabr">
<meta property="al:windows_phone:url" content="habrahabr://post/208026">
<meta property="al:windows_phone:app_name" content="Habrahabr">
<meta property="al:windows_phone:app_id" content="460a6bd6-8955-470f-935e-9ea1726a6060">
  <link rel="canonical" href="./STM32 и USB-HID — это просто _ Хабрахабр_files/STM32 и USB-HID — это просто _ Хабрахабр.html">
  <link rel="alternate" media="only screen and (max-width: 640px)" href="https://m.habrahabr.ru/post/208026/">



      <link href="./STM32 и USB-HID — это просто _ Хабрахабр_files/post_common_css.css" rel="stylesheet" media="all">
  <link href="./STM32 и USB-HID — это просто _ Хабрахабр_files/all.css" rel="stylesheet" media="all">

    <link href="./STM32 и USB-HID — это просто _ Хабрахабр_files/global_main.css" rel="stylesheet" media="all">

    <script src="./STM32 и USB-HID — это просто _ Хабрахабр_files/context.js" type="text/javascript" async=""></script><script type="text/javascript" async="" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/watch.js"></script><script async="" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/analytics.js"></script><script type="text/javascript" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/global_main.js"></script><style type="text/css"></style>
      <script type="text/javascript" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/post_common_js.js"></script>
  <script type="text/javascript" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/all.js"></script>


    
    

    <meta name="yandex-verification" content="67d46b975fa41645">
    
    <meta content="Хабрахабр" name="apple-mobile-web-app-title">

<link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://habrahabr.ru/images/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://habrahabr.ru/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://habrahabr.ru/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://habrahabr.ru/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://habrahabr.ru/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://habrahabr.ru/images/favicons/apple-touch-icon-152x152.png">
<link rel="icon" type="image/png" href="https://habrahabr.ru/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="https://habrahabr.ru/images/favicons/favicon-16x16.png" sizes="16x16">
<meta name="application-name" content="Хабрахабр">
<meta name="msapplication-TileColor" content="#FFFFFF">
<meta name="msapplication-TileImage" content="mstile-144x144.png">

      
      <script>
        var N = 5;
        var ar_duo1 = Math.floor(Math.random()*N+1);
      </script>
      <script type="text/javascript" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/adriver.js"></script>

    <link title="Хабрахабр / Комментарии к публикации «STM32 и USB-HID — это просто»" type="application/rss+xml" rel="alternate" href="https://habrahabr.ru/rss/post/208026/">

    <script src="https://habracdn.net/habr/javascripts/1454604077/_parts/advertising.js"></script>

<script type="text/javascript">

  if (typeof adriver == 'undefined')
  {
    var adb1 = 'yes';
  }

  var user_type = "guest";

  var page_type = "publish_ugc";

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-726094-1',  'auto');
  ga('create', 'UA-726094-24', 'auto', {'name': 'HGM'});

  ga('require', 'displayfeatures');
  ga('set', 'dimension1', user_type); // user type - guest/readonly/habrauser


  ga('set', 'dimension4', adb1);

  ga('set', 'dimension5', page_type);


  if(typeof removeUtms === 'undefined') {
    removeUtms = function(){};
  }

  ga('HGM.set', 'dimension1', user_type);
  ga('HGM.set', 'dimension2', "habrahabr");
  ga('HGM.send', 'pageview');

  ga('send', 'pageview', { 'hitCallback': removeUtms });


</script>


  <script charset="utf-8" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/watch.js"></script><style type="text/css">.yap-yandex_ad-posterVertical,.yap-yandex_ad-posterVertical yatag{display:block!important;box-sizing:content-box!important}.yap-yandex_ad-posterVertical,.yap-yandex_ad-posterVertical a,.yap-yandex_ad-posterVertical em,.yap-yandex_ad-posterVertical img,.yap-yandex_ad-posterVertical table,.yap-yandex_ad-posterVertical tbody,.yap-yandex_ad-posterVertical tr,.yap-yandex_ad-posterVertical td{font-size:inherit!important;background:none!important;border:none!important;border-radius:0!important;border-spacing:0!important;border-collapse:collapse!important;box-sizing:content-box!important;clear:none!important;float:none!important;font-variant:normal!important;font-weight:400!important;height:auto!important;letter-spacing:normal!important;line-height:normal!important;margin:0!important;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;outline:none!important;padding:0!important;position:static!important;text-align:left!important;text-decoration:none!important;text-indent:0!important;text-transform:none!important;vertical-align:baseline!important;visibility:visible!important;word-spacing:normal!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;-ms-border-radius:0!important;-o-border-radius:0!important}.yap-yandex_ad-posterVertical table{display:table!important;empty-cells:hide!important;font-size:100%!important;table-layout:fixed!important}.yap-yandex_ad-posterVertical td{display:table-cell!important;font-size:100%!important;vertical-align:middle!important}#yap-yandex_ad-posterVertical .yap-layout_block_728x90 .yap-title-block{white-space:normal!important}#yap-yandex_ad-posterVertical .yap-layout_block_vertical .yap-title-block{display:block!important}#yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-title-block,#yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-title-block{display:inline!important}#yap-yandex_ad-posterVertical .yap-type-vertical .yap-logo{position:static!important}#yap-yandex_ad-posterVertical .yap-layout_block_row .yap-logo{top:0!important}.yap-yandex_ad-posterVertical{overflow:visible!important;white-space:normal!important;width:100%!important;font-size:100%!important;color:#000000!important;font-family:verdana, sans-serif!important;position:relative!important;z-index:1!important}.yap-yandex_ad-posterVertical .yap-layout{overflow:hidden!important;position:relative!important;z-index:1!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50{font-size:13px!important}.yap-yandex_ad-posterVertical .yap-layout__items{width:100%!important;border-collapse:separate!important}.yap-yandex_ad-posterVertical .yap-layout__outer{position:relative!important;z-index:1!important;zoom:1!important}.yap-yandex_ad-posterVertical .yap-layout__inner{overflow:hidden!important;width:auto!important;padding:.7em!important}.yap-yandex_ad-posterVertical .yap-layout_type_medium .yap-layout__inner{padding:.6em .1em .6em .6em!important}.yap-yandex_ad-posterVertical .yap-layout_type_medium .yap-layout__warning{margin-right:.4em!important}.yap-yandex_ad-posterVertical .yap-layout__body{margin-top:0.23em!important}.yap-yandex_ad-posterVertical .yap-layout__sitelinks,.yap-yandex_ad-posterVertical .yap-layout__schedule,.yap-yandex_ad-posterVertical .yap-layout__warning{margin-top:.23em!important}.yap-yandex_ad-posterVertical .yap-layout__adtune{display:none!important;position:absolute!important;right:1px!important;top:1px!important;cursor:pointer!important;z-index:10!important}.yap-yandex_ad-posterVertical .yap-layout__item:hover .yap-layout__adtune{display:block!important}.yap-yandex_ad-posterVertical .yap-layout__adtune-message{display:none!important}.yap-yandex_ad-posterVertical .yap-layout__item_abused .yap-layout__inner,.yap-yandex_ad-posterVertical .yap-layout__item_abused .yap-layout__inner *{visibility:hidden!important}.yap-yandex_ad-posterVertical .yap-layout__item_abused .yap-layout__adtune-message{display:block!important}.yap-yandex_ad-posterVertical .yap-layout__picture-rating{margin-top:.23em!important}.yap-yandex_ad-posterVertical .yap-layout__app{margin-top:.4em!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-layout__extra{margin-top:-1px!important}.yap-yandex_ad-posterVertical .yap-layout__wrapper{background:transparent!important;border-width:0!important;border-color:#FBE5C0!important;border-style:solid!important;border-radius:0!important;position:relative!important;z-index:1!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;-ms-border-radius:0!important;-o-border-radius:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_horizontal .yap-layout__wrapper{margin-right:-10px!important}.yap-yandex_ad-posterVertical .yap-layout_block_grid .yap-layout__wrapper{margin-right:-10px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed-vertical .yap-layout__wrapper{height:NaNpx!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed-horizontal .yap-layout__wrapper{margin-left:17px!important;width:NaNpx!important;height:NaNpx!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-layout__wrapper{padding-left:17px!important;border:none!important;background:transparent!important}.yap-yandex_ad-posterVertical .yap-layout__logo{display:inline-block!important;padding-left:.7em!important;box-sizing:border-box!important;background:transparent!important}.yap-yandex_ad-posterVertical .yap-layout_type_medium .yap-layout__logo{padding-left:.6em!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed-vertical .yap-layout__logo{padding-left:5px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed-horizontal .yap-layout__logo{overflow:hidden!important;position:absolute!important;left:0!important;top:0!important;width:17px!important;height:100%!important;padding:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__logo{z-index:1!important;position:relative!important;float:left!important;margin-right:.5em!important;padding-left:.4em!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-layout__logo{overflow:hidden!important;position:absolute!important;left:0!important;top:0!important;width:17px!important;height:100%!important;padding:0!important;margin:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__item_abused .yap-layout__logo,.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__item_abused .yap-layout__logo *{visibility:visible!important}.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-layout__logo{float:none!important;display:inline-block!important;vertical-align:!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-layout__logo{padding:.4em .8em!important;font-size:120%!important;color:#666!important;background:none!important}.yap-yandex_ad-posterVertical .yap-layout__item{vertical-align:top!important;border-width:1px!important;border-color:#FBE5C0!important;border-style:solid!important;border-radius:0!important;background:transparent!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;-ms-border-radius:0!important;-o-border-radius:0!important}.yap-yandex_ad-posterVertical .yap-layout__item_abused{background:#fff!important}.yap-yandex_ad-posterVertical .yap-layout_block_vertical .yap-layout__item{border-bottom-width:1px!important}.yap-yandex_ad-posterVertical .yap-layout_block_vertical tr:last-child .yap-layout__item{border-bottom-width:!important}.yap-yandex_ad-posterVertical .yap-layout_block_horizontal .yap-layout__item{width:50.00%!important;border-right-width:1px!important}.yap-yandex_ad-posterVertical .yap-layout_block_horizontal .yap-layout__item:last-child{border-right-width:!important}.yap-yandex_ad-posterVertical .yap-layout_block_grid .yap-layout__item{width:100.00%!important}.yap-yandex_ad-posterVertical .yap-layout_block_grid .yap-layout__item_nth_1,.yap-yandex_ad-posterVertical .yap-layout_block_grid .yap-layout__item_nth_2{border-bottom-width:!important}.yap-yandex_ad-posterVertical .yap-layout_block_grid .yap-layout__item_nth_1,.yap-yandex_ad-posterVertical .yap-layout_block_grid .yap-layout__item_nth_3{border-right-width:!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed-vertical .yap-layout__item{vertical-align:middle!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__item{overflow:hidden!important;padding:.1539em 15px .1539em .1539em!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__item{tap-highlight-color:rgba(0,0,0,0)!important;outline:none!important;cursor:pointer!important;-webkit-tap-highlight-color:rgba(0,0,0,0)!important;-moz-tap-highlight-color:rgba(0,0,0,0)!important;-ms-tap-highlight-color:rgba(0,0,0,0)!important;-o-tap-highlight-color:rgba(0,0,0,0)!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__item_picture_false{background-color:#fff!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__item_abused{background:#fff!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-layout__item{height:48px!important;border-width:0!important;border-color:#FBE5C0!important;border-style:solid!important;border-radius:0!important;background:transparent!important;padding:0 15px 0 0!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;-ms-border-radius:0!important;-o-border-radius:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-layout__item.yap-layout__item_picture_false{padding-left:5px!important}.yap-yandex_ad-posterVertical .yap-layout_block_single240x400 .yap-contacts__item_domain{padding-right:0!important}.yap-yandex_ad-posterVertical .yap-layout_type_wide .yap-layout__picture,.yap-yandex_ad-posterVertical .yap-layout_type_medium .yap-layout__picture,.yap-yandex_ad-posterVertical .yap-layout_type_compatible .yap-layout__picture{float:left!important;padding-right:.7em!important}.yap-yandex_ad-posterVertical .yap-layout_type_medium .yap-layout__picture{padding-right:.6em!important}.yap-yandex_ad-posterVertical .yap-layout_type_narrow .yap-layout__picture{padding-bottom:.7em!important;margin:0 auto!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_type_wide .yap-layout__picture,.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_type_medium .yap-layout__picture,.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_type_compatible .yap-layout__picture,.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_728x90.yap-layout_block_msn .yap-layout__picture{padding-right:5px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_adaptive .yap-layout__picture{padding-right:6px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_type_narrow .yap-layout__picture{padding-bottom:5px!important;position:relative!important;left:-2px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_adaptive.yap-layout_type_narrow .yap-layout__picture{padding:0 0 7px!important;left:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_728x90 .yap-layout__picture{padding:0!important}.yap-yandex_ad-posterVertical .yap-layout_type_wide.yap-layout_block_728x90 .yap-layout__item_nth_1 .yap-layout__picture{overflow:hidden!important;border-radius:0!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;-ms-border-radius:0!important;-o-border-radius:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_320x50 .yap-layout__picture{padding:0!important;overflow:hidden!important;border-radius:0!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;-ms-border-radius:0!important;-o-border-radius:0!important}.yap-yandex_ad-posterVertical .yap-layout_type_wide.yap-layout_block_msn .yap-layout__item_nth_1 .yap-layout__picture{overflow:visible!important;border-radius:0!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;-ms-border-radius:0!important;-o-border-radius:0!important}.yap-yandex_ad-posterVertical .yap-layout_type_narrow.yap-layout_block_single_vertical .yap-layout__picture{padding-bottom:12px!important;margin:0!important;text-align:center!important;width:auto!important;left:0!important}.yap-yandex_ad-posterVertical .yap-layout_type_narrow.yap-layout_block_single_vertical.yap-layout_block_single_small .yap-layout__picture{padding-bottom:8px!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__picture{float:none!important;display:block!important;padding:0!important;margin-bottom:0!important;margin-right:0!important;background-position:center center!important;background-repeat:no-repeat!important;background-size:contain!important;box-shadow:inset 0 0 0 1px rgba(0,0,0,.1)!important;border:none!important;position:absolute!important;z-index:2!important;left:50%!important;top:50%!important;-webkit-background-size:contain!important;-moz-background-size:contain!important;-ms-background-size:contain!important;-o-background-size:contain!important;-webkit-box-shadow:inset 0 0 0 1px rgba(0,0,0,.1)!important;-moz-box-shadow:inset 0 0 0 1px rgba(0,0,0,.1)!important;-ms-box-shadow:inset 0 0 0 1px rgba(0,0,0,.1)!important;-o-box-shadow:inset 0 0 0 1px rgba(0,0,0,.1)!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__picture_plain{border:none!important;box-shadow:none!important;-webkit-box-shadow:none!important;-moz-box-shadow:none!important;-ms-box-shadow:none!important;-o-box-shadow:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-layout__picture{padding-right:.6em!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-layout__picture{overflow:hidden!important;float:left!important;margin:-2px 5px -2px 0!important;border-radius:0!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;-ms-border-radius:0!important;-o-border-radius:0!important}.yap-yandex_ad-posterVertical .yap-layout_type_wide .yap-layout__content,.yap-yandex_ad-posterVertical .yap-layout_type_medium .yap-layout__content{overflow:hidden!important}.yap-yandex_ad-posterVertical .yap-layout__item_picture_false .yap-layout__content{overflow:visible!important}.yap-yandex_ad-posterVertical .yap-layout_type_wide .yap-layout__item_age .yap-layout__content,.yap-yandex_ad-posterVertical .yap-layout_type_medium .yap-layout__item_age .yap-layout__content{padding-bottom:1px!important}.yap-yandex_ad-posterVertical .yap-layout_block_728x90 .yap-layout__content{padding:4px 1px 4px 5px!important}.yap-yandex_ad-posterVertical .yap-layout_block_adaptive .yap-layout__content{zoom:1!important}.yap-yandex_ad-posterVertical .yap-layout_block_728x90.yap-layout_block_msn .yap-layout__content{padding:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_320x50 .yap-layout__content{padding:2px 1px 1px 5px!important}#yap-yandex_ad-posterVertical .yap-layout_block_single .yap-layout__content{font-size:15px!important}#yap-yandex_ad-posterVertical .yap-layout_block_single.yap-layout_block_single_medium .yap-layout__content{font-size:14px!important}#yap-yandex_ad-posterVertical .yap-layout_block_single.yap-layout_block_single_small .yap-layout__content{font-size:13px!important}.yap-yandex_ad-posterVertical .yap-layout_type_narrow.yap-layout_block_single_vertical .yap-layout__content{text-align:center!important}.yap-yandex_ad-posterVertical .yap-layout_type_wide.yap-layout_block_single728x90 .yap-layout__content{padding:4px 9px!important}#yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__content{overflow:hidden!important}.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-layout__content{display:inline!important;margin-left:.6em!important;text-overflow:ellipsis!important;-webkit-text-overflow:ellipsis!important;-moz-text-overflow:ellipsis!important;-ms-text-overflow:ellipsis!important;-o-text-overflow:ellipsis!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__content{position:relative!important;z-index:1!important;zoom:1!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-layout__content{padding:2px 2px 2px 0!important}.yap-yandex_ad-posterVertical .yap-layout__contacts{margin-top:.23em!important}.yap-yandex_ad-posterVertical .yap-layout_hide_contacts.yap-layout_hide_domain .yap-layout__contacts{display:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_320x50 .yap-layout__contacts{margin-top:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_single .yap-layout__contacts,.yap-yandex_ad-posterVertical .yap-layout_block_single_vertical .yap-layout__contacts{margin-top:5px!important}.yap-yandex_ad-posterVertical .yap-layout_block_single.yap-layout_block_single_small .yap-layout__contacts{margin-top:4px!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__contacts{margin-top:.63em!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-layout__contacts{padding-top:.6em!important;margin-top:0!important;overflow:hidden!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru-vertical .yap-layout__contacts{clear:both!important;zoom:1!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-layout__contacts{margin-top:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_single728x90 .yap-layout__contacts{margin-top:6px!important}.yap-yandex_ad-posterVertical .yap-layout__action{margin-left:.4em!important;text-decoration:none!important;color:#0066CC!important}.yap-yandex_ad-posterVertical .yap-layout__action:hover{color:#0066FF!important}.yap-yandex_ad-posterVertical .yap-layout__action-price{display:inline!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-layout__action{margin-left:0!important}.yap-yandex_ad-posterVertical .yap-layout__rating{position:relative!important;top:.1em!important;display:inline-block!important;vertical-align:top!important;margin-left:.5em!important;font-size:.8em!important}.yap-yandex_ad-posterVertical .yap-layout_hide-title-rating .yap-layout__rating{display:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-layout__rating{margin-left:1em!important}.yap-yandex_ad-posterVertical .yap-layout__age{vertical-align:top!important;display:inline-block!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__age{position:absolute!important;right:0!important;top:0!important;margin:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-layout__age{display:inline!important;position:static!important;margin-left:.6em!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-layout__age{top:2px!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__age{vertical-align:baseline!important}.yap-yandex_ad-posterVertical .yap-layout__address{zoom:1!important;overflow:hidden!important;width:100%!important;margin-top:.23em!important}.yap-yandex_ad-posterVertical .yap-layout_hide_address .yap-layout__address{display:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-layout__address{width:auto!important}.yap-yandex_ad-posterVertical .yap-layout_block_vertical .yap-layout__items{border-spacing:0 5px!important;margin-top:-5px!important;margin-bottom:-5px!important}.yap-yandex_ad-posterVertical .yap-layout_block_horizontal .yap-layout__items{border-spacing:5px 0!important;margin-left:-5px!important}.yap-yandex_ad-posterVertical .yap-layout_block_grid .yap-layout__items{border-spacing:5px 5px!important;margin:-5px!important}.yap-yandex_ad-posterVertical{width:!important;height:!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed{font-size:13px!important;width:px!important;height:px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_fixed-medium{font-size:11px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_fixed-small{font-size:10px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_invisible,.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_invisible *{visibility:hidden!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed .yap-layout__items{height:100%!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed .yap-layout__inner{padding:5px 1px 5px 5px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_728x90 .yap-layout__inner{padding:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_728x90.yap-layout_block_msn .yap-layout__inner{padding:4px 1px 4px 4px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_adaptive .yap-layout__inner{padding:5px 6px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed .yap-layout__warning{margin-right:4px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_fixed-small .yap-layout__warning{margin-top:0!important}.yap-yandex_ad-posterVertical .yap-layout_hide_sitelinks .yap-layout__sitelinks,.yap-yandex_ad-posterVertical .yap-layout_hide_schedule .yap-layout__schedule{display:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed-horizontal.yap-layout_text-inline .yap-layout__title,.yap-yandex_ad-posterVertical .yap-layout_block_fixed-horizontal.yap-layout_text-inline .yap-layout__body{display:inline!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed-horizontal.yap-layout_text-inline .yap-layout__title{margin-right:5px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed-horizontal.yap-layout_text-inline .yap-layout__body{margin-top:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_320x100 .yap-layout__inner{padding:4px 1px 4px 4px!important}.yap-yandex_ad-posterVertical .yap-layout_block_160x600 .yap-layout__inner{padding-right:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_320x50 .yap-layout__inner{padding:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_320x50 .yap-layout__body,.yap-yandex_ad-posterVertical .yap-layout_block_320x50 .yap-layout__sitelinks,.yap-yandex_ad-posterVertical .yap-layout_block_320x50 .yap-layout__schedule,.yap-yandex_ad-posterVertical .yap-layout_block_320x50 .yap-layout__warning{margin-top:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed .yap-layout__app{margin-top:.23em!important}.yap-yandex_ad-posterVertical .yap-layout_block_320x50 .yap-layout__app{margin-top:0!important;padding-bottom:.2em!important}.yap-yandex_ad-posterVertical .yap-layout_hide_app .yap-layout__app{display:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_type_narrow .yap-layout__app{padding-right:4px!important}.yap-yandex_ad-posterVertical .yap-layout_block_single_vertical .yap-picture-block__link,.yap-yandex_ad-posterVertical .yap-layout_block_single_vertical .yap-picture-block__img{display:inline-block!important}.yap-yandex_ad-posterVertical .yap-layout_type_narrow.yap-layout_block_single_vertical .yap-layout__inner{padding:10px 25px!important}.yap-yandex_ad-posterVertical .yap-layout_type_narrow.yap-layout_block_single240x400 .yap-layout__inner{padding:10px!important}.yap-yandex_ad-posterVertical .yap-layout_block_single .yap-layout__warning,.yap-yandex_ad-posterVertical .yap-layout_block_single .yap-layout__body{margin-top:5px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_single.yap-layout_block_horizontal .yap-layout__item_app .yap-layout__body{margin-top:3px!important}.yap-yandex_ad-posterVertical .yap-layout_block_single.yap-layout_block_single_small .yap-layout__warning,.yap-yandex_ad-posterVertical .yap-layout_block_single.yap-layout_block_single_small .yap-layout__body{margin-top:4px!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_single .yap-layout__warning{margin-right:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_single.yap-layout_block_vertical .yap-layout__app{margin:10px 0 0!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_single.yap-layout_block_horizontal .yap-layout__app{margin:2px 0 0!important}.yap-yandex_ad-posterVertical .yap-layout_block_msn{font-size:11px!important}.yap-yandex_ad-posterVertical .yap-layout_block_msn.yap-layout_size_1{font-size:10px!important}.yap-yandex_ad-posterVertical .yap-layout_block_msn.yap-layout_size_2{font-size:9px!important}.yap-yandex_ad-posterVertical .yap-layout_block_msn .yap-layout__warning{font-size:12px!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact{min-width:290px!important;overflow:hidden!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__inner{padding:0!important;position:relative!important;z-index:1!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__inner,.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__title{overflow:hidden!important;text-overflow:ellipsis!important;-webkit-text-overflow:ellipsis!important;-moz-text-overflow:ellipsis!important;-ms-text-overflow:ellipsis!important;-o-text-overflow:ellipsis!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__title{white-space:nowrap!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__item_age_true .yap-layout__title{padding-right:3em!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__title-domain{display:inline!important;padding-left:.4em!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact.yap-layout_hide-title-domain .yap-layout__title-domain{display:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__body{margin-top:0!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;-webkit-text-overflow:ellipsis!important;-moz-text-overflow:ellipsis!important;-ms-text-overflow:ellipsis!important;-o-text-overflow:ellipsis!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__adtune{position:absolute!important;right:2px!important;top:4px!important;z-index:1!important}.yap-yandex_ad-posterVertical .yap-layout_block_row{min-width:500px!important;white-space:nowrap!important}.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-layout__title,.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-layout__body{display:inline!important}.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-layout__item_age_true .yap-layout__title{padding-right:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-layout__title-domain{display:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-layout__body,.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-layout__body-domain{margin-left:.4em!important}.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-layout__adtune{right:1px!important;top:50%!important;margin-top:-7px!important}.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-layout__inner{padding:!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster{max-width:300px!important;min-width:200px!important;font-size:13px!important;-webkit-font-smoothing:antialiased!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__outer,.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__inner{overflow:hidden!important;position:relative!important;z-index:1!important;zoom:1!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__inner{padding:0!important;margin:7px!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__title,.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__slider,.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__warning{padding:9px!important;background:#fff!important;position:relative!important;z-index:3!important;margin:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__title{padding-right:25px!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__body{margin:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__arrow{position:absolute!important;bottom:0!important;right:0!important;width:28px!important;height:28px!important;line-height:28px!important;text-align:center!important;transition:opacity 300ms ease-in-out,transform 300ms ease-in-out,bottom 300ms ease-in-out!important;opacity:.6!important;-webkit-transition:opacity 300ms ease-in-out,-webkit-transform 300ms ease-in-out,bottom 300ms ease-in-out!important;-moz-transition:opacity 300ms ease-in-out,-moz-transform 300ms ease-in-out,bottom 300ms ease-in-out!important;-ms-transition:opacity 300ms ease-in-out,-ms-transform 300ms ease-in-out,bottom 300ms ease-in-out!important;-o-transition:opacity 300ms ease-in-out,-o-transform 300ms ease-in-out,bottom 300ms ease-in-out!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__item_sticky-arrow_true .yap-layout__arrow{bottom:3px!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__arrow_roll-up{right:-28px!important;opacity:0!important;transform:translateY(-15px)rotateX(180deg)!important;transition:opacity 300ms ease-in-out,transform 300ms ease-in-out,right 0ms linear 300ms!important;-webkit-transform:translateY(-15px)rotateX(180deg)!important;-moz-transform:translateY(-15px)rotateX(180deg)!important;-ms-transform:translateY(-15px)rotateX(180deg)!important;-o-transform:translateY(-15px)rotateX(180deg)!important;-webkit-transition:opacity 300ms ease-in-out,-webkit-transform 300ms ease-in-out,right 0 linear 300ms!important;-moz-transition:opacity 300ms ease-in-out,-moz-transform 300ms ease-in-out,right 0ms linear 300ms!important;-ms-transition:opacity 300ms ease-in-out,-ms-transform 300ms ease-in-out,right 0 linear 300ms!important;-o-transition:opacity 300ms ease-in-out,-o-transform 300ms ease-in-out,right 0 linear 300ms!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__arrow path,.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__arrow path:hover{fill:#000000!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__adtune{z-index:4!important;display:block!important;position:absolute!important;right:7px!important;top:7px!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__sitelinks{margin-top:.55em!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__schedule,.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__app{margin-top:.63em!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__title-domain,.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__title-rating{margin-top:.23em!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__title-domain{font-size:15px!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__bg{position:absolute!important;z-index:1!important;top:0!important;left:0!important;width:100%!important;height:100%!important;text-align:center!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__bg_svg,.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__bg_old-ie{top:-30%!important;left:-50%!important;width:200%!important;height:200%!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__bg-img{width:100%!important;height:100%!important;background-position:50% 50%!important;background-size:contain!important;background-repeat:no-repeat!important;background-color:#fff!important;opacity:.3!important;transform:scale(2)!important;transform-origin:center 30%!important;filter:blur(2px)!important;-webkit-background-size:contain!important;-moz-background-size:contain!important;-ms-background-size:contain!important;-o-background-size:contain!important;-webkit-transform:scale(2)!important;-moz-transform:scale(2)!important;-ms-transform:scale(2)!important;-o-transform:scale(2)!important;-webkit-transform-origin:center 30%!important;-moz-transform-origin:center 30%!important;-ms-transform-origin:center 30%!important;-o-transform-origin:center 30%!important;-webkit-filter:blur(2px)!important;-moz-filter:blur(2px)!important;-ms-filter:blur(2px)!important;-o-filter:blur(2px)!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__bg_svg svg{position:absolute!important;top:0!important;left:0!important;width:100%!important;height:100%!important;opacity:.3!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__bg_old-ie img{height:100%!important;display:inline-block!important;opacity:.3!important;filter:alpha(opacity=30)!important;-webkit-filter:alpha(opacity=30)!important;-moz-filter:alpha(opacity=30)!important;-ms-filter:alpha(opacity=30)!important;-o-filter:alpha(opacity=30)!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__slider{z-index:2!important;box-sizing:border-box!important;padding-top:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster.yap-layout_transition_true .yap-layout__slider{transition:transform 300ms ease-in-out,opacity 300ms ease-in-out!important;transform:translateY(-100%)!important;transform-origin:left top!important;opacity:0!important;-webkit-transition:-webkit-transform 300ms ease-in-out,opacity 300ms ease-in-out!important;-moz-transition:-moz-transform 300ms ease-in-out,opacity 300ms ease-in-out!important;-ms-transition:-ms-transform 300ms ease-in-out,opacity 300ms ease-in-out!important;-o-transition:-o-transform 300ms ease-in-out,opacity 300ms ease-in-out!important;-webkit-transform:translateY(-100%)!important;-moz-transform:translateY(-100%)!important;-ms-transform:translateY(-100%)!important;-o-transform:translateY(-100%)!important;-webkit-transform-origin:left top!important;-moz-transform-origin:left top!important;-ms-transform-origin:left top!important;-o-transform-origin:left top!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster.yap-layout_transition_true .yap-layout__item_picture_false .yap-layout__slider,.yap-yandex_ad-posterVertical .yap-layout_block_poster.yap-layout_transition_true.yap-layout_touch_false .yap-layout__item:hover .yap-layout__slider,.yap-yandex_ad-posterVertical .yap-layout_block_poster.yap-layout_transition_true .yap-layout__item_hover .yap-layout__slider{transform:none!important;opacity:1!important;-webkit-transform:none!important;-moz-transform:none!important;-ms-transform:none!important;-o-transform:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster.yap-layout_touch_false .yap-layout__item:hover .yap-layout__arrow,.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__item_hover .yap-layout__arrow{transform:translateY(30px)!important;opacity:0!important;-webkit-transform:translateY(30px)!important;-moz-transform:translateY(30px)!important;-ms-transform:translateY(30px)!important;-o-transform:translateY(30px)!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__item_hover .yap-layout__arrow_roll-up{right:0!important;display:block!important;opacity:.6!important;transform:rotateX(180deg)!important;transition:opacity 300ms ease-in-out,transform 300ms ease-in-out,right 0ms linear!important;-webkit-transform:rotateX(180deg)!important;-moz-transform:rotateX(180deg)!important;-ms-transform:rotateX(180deg)!important;-o-transform:rotateX(180deg)!important;-webkit-transition:opacity 300ms ease-in-out,-webkit-transform 300ms ease-in-out,right 0 linear!important;-moz-transition:opacity 300ms ease-in-out,-moz-transform 300ms ease-in-out,right 0ms linear!important;-ms-transition:opacity 300ms ease-in-out,-ms-transform 300ms ease-in-out,right 0 linear!important;-o-transition:opacity 300ms ease-in-out,-o-transform 300ms ease-in-out,right 0 linear!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__item_abused .yap-layout__bg{display:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster-horizontal{max-width:600px!important;min-width:400px!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster-horizontal .yap-layout__outer,.yap-yandex_ad-posterVertical .yap-layout_block_poster-horizontal .yap-layout__slider-inner,.yap-yandex_ad-posterVertical .yap-layout_block_poster-horizontal .yap-layout__title{box-sizing:border-box!important}.yap-yandex_ad-posterVertical .yap-vk-main{display:block!important;font-family:Tahoma,Arial,Verdana,Lucida Sans,sans-serif!important;font-style:normal!important;font-weight:400!important;width:118px!important;padding:0!important;margin:0!important}.yap-yandex_ad-posterVertical .yap-vk-main yatag{display:block!important}.yap-yandex_ad-posterVertical .yap-vk-main img{border:0!important;display:inline-block!important}.yap-yandex_ad-posterVertical .yap-vk-logo,.yap-yandex_ad-posterVertical .yap-vk-logo *{color:#777!important;font-size:.91em!important;line-height:11px!important;font-weight:400!important;font-style:normal!important}.yap-yandex_ad-posterVertical .yap-vk-logo{padding:3px 0 4px!important;text-align:center!important}.yap-yandex_ad-posterVertical .yap-vk-main a.yap-vk-item,.yap-yandex_ad-posterVertical .yap-vk-main a.yap-vk-item:hover,.yap-yandex_ad-posterVertical .yap-vk-main a.yap-vk-item:visited{position:relative!important;display:block!important;padding:8px 3px 11px!important;text-decoration:none!important;color:#000!important;text-align:center!important;border-bottom:1px solid #DCE3E9!important}.yap-yandex_ad-posterVertical .yap-vk-main a.yap-vk-item.yap-vk-item-1{border-top:1px solid #DCE3E9!important}.yap-yandex_ad-posterVertical .yap-vk-title{color:#0066CC!important;font-weight:700!important;word-wrap:break-word!important}.yap-yandex_ad-posterVertical .yap-vk-domain{color:#777!important;font-size:.91em!important;padding-top:3px!important;word-wrap:break-word!important}.yap-yandex_ad-posterVertical .yap-vk-image{padding-top:9px!important}.yap-yandex_ad-posterVertical .yap-vk-body{padding-top:10px!important;word-wrap:break-word!important}.yap-yandex_ad-posterVertical .yap-vk-warning,.yap-yandex_ad-posterVertical .yap-vk-age{color:#777!important;font-size:.82em!important;line-height:130%!important;padding-top:10px!important}.yap-yandex_ad-posterVertical .yap-vk__app{margin-top:9px!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru{font-size:10px!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-layout__inner{padding:.4em .8em 1.2em!important;overflow:hidden!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-layout__title{margin-bottom:.5em!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-layout__body{margin-top:0!important;overflow:hidden!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-layout__warning{padding-top:.6em!important;margin-top:0!important;overflow:hidden!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-layout__warning{clear:both!important;zoom:1!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-layout__adtune{right:3px!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-layout__app{display:table-cell!important;margin:0!important;padding-top:.4em!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-body-text,.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-layout__app{font-size:120%!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-domain{font-size:110%!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-warning{border-radius:0!important;font-size:100%!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;-ms-border-radius:0!important;-o-border-radius:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-domain:hover{color:#006600!important}.yap-yandex_ad-posterVertical .yap-logo-block{position:relative!important;z-index:1!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed .yap-logo-block{height:16px!important}.yap-yandex_ad-posterVertical .yap-logo-block__text{font-family:Arial,sans-serif!important;font-size:87%!important;padding-right:4px!important;line-height:1.4!important;font-weight:400!important;color:#000!important;text-decoration:none!important}.yap-yandex_ad-posterVertical .yap-logo-block__text em{font-weight:400!important;font-style:normal!important;vertical-align:baseline!important}.yap-yandex_ad-posterVertical .yap-logo-block__arrow{position:absolute!important;z-index:1!important;right:-9px!important;top:0!important;width:9px!important;height:100%!important;background-image:none!important;background-position:center right!important;background-repeat:no-repeat!important;margin-top:!important}.yap-yandex_ad-posterVertical .yap-logo-fallback{display:none!important}.yap-yandex_ad-posterVertical .yap-logo-block.yap-logo-block_type_vertical{display:block!important;position:absolute!important;z-index:1!important;left:0!important;bottom:6px!important;width:0!important;height:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-logo-block{bottom:0!important}.yap-yandex_ad-posterVertical .yap-logo-block_type_vertical .yap-logo-block__text{display:inline-block!important;transform:rotate(270deg)!important;transform-origin:left top!important;font-size:10px!important;line-height:17px!important;padding:0!important;-webkit-transform:rotate(270deg)!important;-moz-transform:rotate(270deg)!important;-ms-transform:rotate(270deg)!important;-o-transform:rotate(270deg)!important;-webkit-transform-origin:left top!important;-moz-transform-origin:left top!important;-ms-transform-origin:left top!important;-o-transform-origin:left top!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-logo-block_type_vertical .yap-logo-block__text{width:50px!important;text-align:center!important}.yap-yandex_ad-posterVertical .yap-logo-block_type_vertical .yap-logo-block__arrow{display:none!important}.yap-yandex_ad-posterVertical .yap-logo-fallback{display:block!important;width:100%!important;height:100%!important;position:absolute!important;z-index:1!important;bottom:6px!important;left:0!important;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAABFCAMAAABE4oc2AAAAeFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVyEiIAAAAJ3RSTlMAByQoEAMKZBIN39RsQR8Zp3otFelUm42AX006tTLyxL1YzK6UiJ9zbzQkAAABa0lEQVQoz3WRWZLDIAxExR4bY/AW79kmGd3/hgMiTuVn+sN+pWqpEQAAr+CQeHXee0KOUaVM2DYfg3fpo8lQeqj6gsr77dEwom4wOMyasDJ3U2VDYea1I9J2CkOp81y1QThRcCgCuxLChIhHonD1m6pYHXLtWoC3kjD5Ag3zOC0vNCYFm9nMMTqiOiXlNsQH9pLY0ags1lw5QV1uAS+Saq0QXKgIPKk+Y4j9pL7WwK1KrvMJvlGg3UbDf2RsEzVfG7w4caRU5+bIG4ujqExG3sLcEXXo4P6+nYrm5pN5xW32DojRQ9VZ6WKkPv14rlipPHS5cPg84bExS8rl3Y5mJZK9+217mdPU9kkTQZQ5baG0LFUoR40ck4aUIiYmddyY8Ou8PU5WQ5Z2eBvSf9/b3dUyGbaAv7GNxMLnKeSNsX+P7qfx1Yzjs4hZl+VeLsvCovMGbAOSuCpm35tZ3eL7Rp6Ia2fzQj6db5bwB7VAGypfQp1XAAAAAElFTkSuQmCC) !important;background-position:center bottom!important;background-repeat:no-repeat!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed .yap-logo-block__text{font-size:11px!important}.yap-yandex_ad-posterVertical .yap-layout_block_msn .yap-logo-block__text{font-size:10px!important;color:#666!important}.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-logo__text{text-decoration:!important}.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-logo__text:hover{text-decoration:!important}.yap-yandex_ad-posterVertical .yap-picture-block__link,.yap-yandex_ad-posterVertical .yap-picture-block__img{display:block!important}.yap-yandex_ad-posterVertical .yap-favicon{position:relative!important;margin-top:-0.2em!important;margin-right:.3em!important;width:1em!important;height:1em!important;min-width:8px!important;max-width:16px!important;min-height:8px!important;max-height:16px!important;display:inline-block!important;vertical-align:middle!important}.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-favicon,.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-favicon,.yap-yandex_ad-posterVertical .yap-layout_block_single .yap-favicon{width:16px!important;height:16px!important}.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-favicon{margin-top:0!important}.yap-yandex_ad-posterVertical .yap-title-block{display:inline!important}.yap-yandex_ad-posterVertical .yap-title-block hl{vertical-align:baseline!important}.yap-yandex_ad-posterVertical .yap-title-block__text{color:#0066CC!important;text-decoration:none!important;font-weight:normal!important}.yap-yandex_ad-posterVertical .yap-title-block__text:hover{color:#0066FF!important}.yap-yandex_ad-posterVertical .yap-title-block__text{display:inline!important;line-height:1.1!important;vertical-align:baseline!important}#yap-yandex_ad-posterVertical .yap-title-block__text{font-size:142%!important}#yap-yandex_ad-posterVertical .yap-layout_block_fixed .yap-title-block__text{font-size:!important}#yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_fixed-medium .yap-title-block__text{font-size:16px!important}#yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_block_fixed-small .yap-title-block__text{font-size:13px!important}#yap-yandex_ad-posterVertical .yap-layout_block_320x50.yap-layout_block_fixed.yap-layout_block_fixed-small .yap-title-block__text,#yap-yandex_ad-posterVertical .yap-layout_block_adaptive.yap-layout_block_fixed.yap-layout_block_fixed-small .yap-title-block__text{font-size:12px!important;font-weight:700!important}#yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-title-block__text{font-size:100%!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-title-block__text{white-space:nowrap!important;font-weight:bold!important}#yap-yandex_ad-posterVertical .yap-layout_block_msn .yap-title-block__text{font-size:118%!important;font-weight:700!important}#yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-title-block__text{font-size:150%!important}#yap-yandex_ad-posterVertical .yap-layout_block_single .yap-layout__content .yap-title-block__text{font-size:24px!important;line-height:26px!important}#yap-yandex_ad-posterVertical .yap-layout_block_single.yap-layout_block_single728x90 .yap-layout__content .yap-title-block__text{font-size:28px!important;line-height:30px!important}#yap-yandex_ad-posterVertical .yap-layout_block_single.yap-layout_block_single_medium .yap-layout__content .yap-title-block__text{font-size:20px!important;line-height:22px!important}#yap-yandex_ad-posterVertical .yap-layout_block_single.yap-layout_block_single_small .yap-layout__content .yap-title-block__text{font-size:18px!important;line-height:20px!important}#yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-title-block__text{font-weight:700!important}.yap-yandex_ad-posterVertical .yap-body-text{display:inline!important;font-weight:400!important;line-height:1.2!important;text-decoration:none!important;color:#000000!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-body-text wbr{display:none!important}.yap-yandex_ad-posterVertical .yap-adtune__button{width:14px!important;height:14px!important}.yap-yandex_ad-posterVertical .yap-adtune__image{width:8px!important;height:8px!important;margin:3px!important;opacity:.6!important}.yap-yandex_ad-posterVertical .yap-adtune__image svg{display:block!important}.yap-yandex_ad-posterVertical .yap-adtune__image polygon{fill:#000000!important}.yap-yandex_ad-posterVertical .yap-adtune .yap-adtune__text{font:15px/15px Arial,sans-serif!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-adtune__text{position:relative!important;top:-2px!important}.yap-yandex_ad-posterVertical .yap-adtune__tooltip{display:none!important;position:absolute!important;right:18px!important;top:-2px!important;max-width:120px!important;padding:1px 4px 2px!important;font:11px/14.7px Arial,sans-serif!important;color:#fff!important;white-space:nowrap!important;background:#333!important}.yap-yandex_ad-posterVertical .yap-adtune__button:hover .yap-adtune__tooltip{display:block!important}.yap-yandex_ad-posterVertical .yap-adtune_touch_true .yap-adtune__button:hover .yap-adtune__tooltip{display:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-adtune__tooltip{top:0!important;padding:0 4px 1px!important}.yap-yandex_ad-posterVertical .yap-adtune__tooltip:before,.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-adtune__tooltip:before{position:absolute!important;right:-4px!important;top:50%!important;margin-top:-4px!important;width:8px!important;height:8px!important;background:#333!important;transform:rotate(45deg)!important;transform-origin:center!important;content:""!important;-webkit-transform:rotate(45deg)!important;-moz-transform:rotate(45deg)!important;-ms-transform:rotate(45deg)!important;-o-transform:rotate(45deg)!important;-webkit-transform-origin:center!important;-moz-transform-origin:center!important;-ms-transform-origin:center!important;-o-transform-origin:center!important}.yap-yandex_ad-posterVertical .yap-adtune_oldie_true .yap-adtune__tooltip:before{overflow:hidden!important;width:5px!important;height:11px!important;margin-top:-7px!important;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAALCAYAAAC3ZUeVAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAABMSURBVBjTYzA2Ni5hQAdAwX9GRkaJ6IL/gfgPEAegC4LwNyC2QRcE4Q9Ao/TQBf8DBY+iC74xNDTUQjHTxMTEGtnMX0ABL4LuxPARAEB/MGK8nMgKAAAAAElFTkSuQmCC") right center no-repeat!important}.yap-yandex_ad-posterVertical .yap-adtune__tooltip-text{position:relative!important;color:#fff!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__item_abused .yap-layout__adtune{display:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__adtune-message{position:absolute!important;z-index:1!important;left:100px!important;right:0!important;top:0!important;height:100%!important;width:!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-layout__adtune-message{left:17px!important}.yap-yandex_ad-posterVertical .yap-adtune-message{position:absolute!important;left:0!important;top:0!important;width:100%!important;height:100%!important;z-index:6!important}.yap-yandex_ad-posterVertical .yap-adtune-message__table,.yap-yandex_ad-posterVertical .yap-adtune-message__text{width:100%!important;height:100%!important}.yap-yandex_ad-posterVertical .yap-adtune-message__text{vertical-align:middle!important;text-align:center!important;font-size:13px!important}.yap-yandex_ad-posterVertical .yap-contacts__item{display:inline-block!important;vertical-align:baseline!important;padding-right:1em!important;font-size:100%!important;line-height:1.1!important}.yap-yandex_ad-posterVertical .yap-contacts__item:last-child{padding-right:0!important}.yap-yandex_ad-posterVertical .yap-layout_hide_contacts .yap-contacts__item{display:none!important}.yap-yandex_ad-posterVertical .yap-layout_hide_contacts .yap-contacts__item_domain{display:inline-block!important}.yap-yandex_ad-posterVertical .yap-layout_hide_domain .yap-contacts__item_domain{display:none!important}.yap-yandex_ad-posterVertical .yap-contacts__phone{white-space:nowrap!important}.yap-yandex_ad-posterVertical .yap-contacts__item-link,.yap-yandex_ad-posterVertical .yap-contacts__item-text{display:inline!important;text-decoration:none!important;color:#006600!important}.yap-yandex_ad-posterVertical .yap-contacts__item-link:hover{text-decoration:none!important;color:#0066FF!important}.yap-yandex_ad-posterVertical .yap-contacts__info-icon{margin:0!important;border:1px solid!important;padding:1px!important;width:1em!important;line-height:1.2!important;display:inline-block!important;font-size:70%!important;text-align:center!important;vertical-align:top!important;border-radius:3px!important;color:#197519!important;border-color:#B2D1B2!important;-webkit-border-radius:3px!important;-moz-border-radius:3px!important;-ms-border-radius:3px!important;-o-border-radius:3px!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-contacts__domain{display:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_msn .yap-contacts__item-link,.yap-yandex_ad-posterVertical .yap-layout_block_msn .yap-contacts__item-text{font-weight:700!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-contacts__item-link,.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-contacts__item-text{font-size:110%!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-contacts__item-link:hover{color:#006600!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-contacts{overflow:hidden!important;text-overflow:ellipsis!important;-webkit-text-overflow:ellipsis!important;-moz-text-overflow:ellipsis!important;-ms-text-overflow:ellipsis!important;-o-text-overflow:ellipsis!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-contacts__item{display:inline!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-contacts__info-icon{font-size:60%!important}.yap-yandex_ad-posterVertical .yap-contacts__item_go{margin-top:-3px!important;padding-right:0!important;display:inline-block!important;vertical-align:middle!important}.yap-yandex_ad-posterVertical .yap-layout_hide_go .yap-contacts__item_go{display:none!important}.yap-yandex_ad-posterVertical .yap-address{float:left!important;width:auto!important;max-width:100%!important}.yap-yandex_ad-posterVertical .yap-address__text{overflow:hidden!important}.yap-yandex_ad-posterVertical .yap-address__text-wrap{overflow:hidden!important;white-space:nowrap!important;text-overflow:ellipsis!important;color:#006600!important;-webkit-text-overflow:ellipsis!important;-moz-text-overflow:ellipsis!important;-ms-text-overflow:ellipsis!important;-o-text-overflow:ellipsis!important}.yap-yandex_ad-posterVertical .yap-address__geo{float:right!important;text-align:right!important;padding:0 1px 0 1em!important}.yap-yandex_ad-posterVertical .yap-address__geo .yap-contacts__item-text{margin-right:.4em!important}.yap-yandex_ad-posterVertical .yap-layout_type_narrow .yap-address__geo,.yap-yandex_ad-posterVertical .yap-layout_type_medium .yap-address__geo,.yap-yandex_ad-posterVertical .yap-layout_type_compatible .yap-address__geo{float:none!important;padding:0!important;text-align:left!important}.yap-yandex_ad-posterVertical .yap-layout_block_fixed.yap-layout_type_wide .yap-address__geo{padding-right:5px!important}.yap-yandex_ad-posterVertical .yap-layout_block_single240x400 .yap-address{margin-top:5px!important;float:none!important;font-size:.8em!important;text-align:center!important}.yap-yandex_ad-posterVertical .yap-layout_block_single240x400 .yap-address__geo{display:inline-block!important;padding-right:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_single240x400 .yap-address__geo .yap-contacts__item-text{color:#000000!important}.yap-yandex_ad-posterVertical .yap-layout_block_single240x400 .yap-contacts__info-icon{color:#191919!important;border-color:#B2B2B2!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-address,.yap-yandex_ad-posterVertical .yap-layout_block_single728x90 .yap-address{float:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-address__geo,.yap-yandex_ad-posterVertical .yap-layout_block_single728x90 .yap-address__geo{float:none!important;padding-left:0!important;display:inline!important}.yap-yandex_ad-posterVertical .yap-layout_hide-geo .yap-address__geo{display:none!important}.yap-yandex_ad-posterVertical .yap-button{position:relative!important;margin:0!important;padding:0!important;display:inline-block!important;border:0!important;border-radius:3px!important;outline:0!important;text-align:center!important;font-size:13px!important;line-height:22px!important;color:#000!important;background:#CCCCCC!important;user-select:none!important;-webkit-tap-highlight-color:rgba(0,0,0,0)!important;-webkit-border-radius:3px!important;-moz-border-radius:3px!important;-ms-border-radius:3px!important;-o-border-radius:3px!important;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;-o-user-select:none!important}.yap-yandex_ad-posterVertical .yap-button:before{position:absolute!important;top:1px!important;right:1px!important;bottom:1px!important;left:1px!important;content:""!important;border-radius:2px!important;background:#FFF!important;-webkit-border-radius:2px!important;-moz-border-radius:2px!important;-ms-border-radius:2px!important;-o-border-radius:2px!important}.yap-yandex_ad-posterVertical .yap-button:hover{color:#fff!important;background:#0066FF!important}.yap-yandex_ad-posterVertical .yap-button:hover:before{background:#0066FF!important}.yap-yandex_ad-posterVertical .yap-button__text{position:relative!important;margin:0 13px!important;display:inline-block!important;vertical-align:top!important}.yap-yandex_ad-posterVertical .yap-domain{display:inline!important;color:#006600!important}.yap-yandex_ad-posterVertical .yap-domain:hover{text-decoration:none!important;color:#0066FF!important}.yap-yandex_ad-posterVertical .yap-layout_block_compact .yap-domain:hover{text-decoration:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_0x50 .yap-domain:hover{text-decoration:none!important}.yap-yandex_ad-posterVertical .yap-layout_block_msn .yap-domain{font-weight:700!important}.yap-yandex_ad-posterVertical .yap-age{display:inline-block!important;vertical-align:top!important;font-size:70%!important;border:1px solid #dddcda!important;border-radius:4px!important;padding:.1em .2em .05em!important;text-align:center!important;line-height:1.4!important;border-color:#D8D8D8!important;background-color:#FFFFFF!important;-webkit-border-radius:4px!important;-moz-border-radius:4px!important;-ms-border-radius:4px!important;-o-border-radius:4px!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-age{border-radius:0!important;padding:0 .2em!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;-ms-border-radius:0!important;-o-border-radius:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_row .yap-age{line-height:1.4!important}.yap-yandex_ad-posterVertical .yap-layout_block_320x50 .yap-age,.yap-yandex_ad-posterVertical .yap-layout_block_320x100 .yap-age,.yap-yandex_ad-posterVertical .yap-layout_block_msn .yap-age{line-height:1.2!important}.yap-yandex_ad-posterVertical .yap-layout_block_mailru .yap-age{margin:0!important;padding:0 .2em!important;line-height:1.4!important;font-size:105%!important;border-radius:0!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;-ms-border-radius:0!important;-o-border-radius:0!important}.yap-yandex_ad-posterVertical .yap-warning{overflow:hidden!important;padding:.15em .3em!important;border:1px solid #dddcda!important;font-size:70%!important;line-height:1.1!important;border-radius:4px!important;border-color:#D8D8D8!important;background-color:#FFFFFF!important;-webkit-border-radius:4px!important;-moz-border-radius:4px!important;-ms-border-radius:4px!important;-o-border-radius:4px!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-warning{border-radius:0!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;-ms-border-radius:0!important;-o-border-radius:0!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__item_picture_true .yap-warning{background-color:#FFFFFF!important;border-color:#FFFFFF!important;transition:border-color 200ms 100ms linear,background-color 200ms 100ms linear!important;-webkit-transition:border-color 200ms 100ms linear,background-color 200ms 100ms linear!important;-moz-transition:border-color 200ms 100ms linear,background-color 200ms 100ms linear!important;-ms-transition:border-color 200ms 100ms linear,background-color 200ms 100ms linear!important;-o-transition:border-color 200ms 100ms linear,background-color 200ms 100ms linear!important}.yap-yandex_ad-posterVertical .yap-layout_block_poster.yap-layout_touch_false .yap-layout__item_picture_true:hover .yap-warning,.yap-yandex_ad-posterVertical .yap-layout_block_poster .yap-layout__item_picture_true.yap-layout__item_hover .yap-warning{border-color:#D8D8D8!important;background-color:#FFFFFF!important}.yap-yandex_ad-posterVertical .yap-sitelinks__link{vertical-align:middle!important;display:inline-block!important;margin-right:1em!important;font-weight:400!important;color:#0066CC!important;text-decoration:none!important}.yap-yandex_ad-posterVertical .yap-sitelinks__link:hover{color:#0066FF!important}.yap-yandex_ad-posterVertical .yap-sitelinks__link:last-child{margin-right:0!important}.yap-yandex_ad-posterVertical .yap-mobile-app{padding-top:.46em!important;padding-bottom:1px!important}.yap-yandex_ad-posterVertical .yap-mobile-app_compact{padding-top:.15em!important}.yap-yandex_ad-posterVertical .yap-mobile-app__button{overflow:hidden!important;display:inline-block!important;vertical-align:top!important;height:2.15em!important;min-width:6.15em!important;margin:-.46em .62em .2em 0!important;padding:0 .77em!important;border:1px solid #006600!important;text-align:center!important;border-radius:4px!important;color:#006600!important;line-height:2.15em!important;cursor:pointer!important;-webkit-border-radius:4px!important;-moz-border-radius:4px!important;-ms-border-radius:4px!important;-o-border-radius:4px!important}.yap-yandex_ad-posterVertical .yap-mobile-app__button_width_full{display:block!important;margin-right:0!important}.yap-yandex_ad-posterVertical .yap-mobile-app__button_height_compact{height:1.54em!important;line-height:1.54em!important;margin-top:-.15em!important;margin-bottom:0!important}.yap-yandex_ad-posterVertical .yap-mobile-app__button_inline{display:inline!important;height:auto!important;line-height:normal!important}.yap-yandex_ad-posterVertical .yap-mobile-app__button:hover{color:#0066FF!important;border-color:#0066FF!important}.yap-yandex_ad-posterVertical .yap-mobile-app .yap-mobile-app__button-price{display:inline-block!important}.yap-yandex_ad-posterVertical .yap-layout_hide_price .yap-mobile-app__button-price{display:none!important}.yap-yandex_ad-posterVertical .yap-mobile-app__rating{display:inline-block!important;vertical-align:top!important;cursor:help!important}.yap-yandex_ad-posterVertical .yap-mobile-app__rating_width_full{display:block!important;margin-top:1px!important}.yap-yandex_ad-posterVertical .yap-mobile-app__rating_content_centered{text-align:center!important}.yap-yandex_ad-posterVertical .yap-layout_hide_rating .yap-mobile-app__rating{display:none!important}.yap-yandex_ad-posterVertical .yap-mobile-app__rating-votes{display:inline-block!important;vertical-align:middle!important;margin:.2em 0 0 .5em!important;font-size:.8em!important;color:#000000!important;opacity:.8!important}.yap-yandex_ad-posterVertical .yap-mobile-app__rating .yap-mobile-app__rating-stars{overflow:hidden!important;position:relative!important;display:inline-block!important;vertical-align:middle!important;height:1em!important;width:5em!important;white-space:nowrap!important}.yap-yandex_ad-posterVertical .yap-mobile-app__rating-stars-scale_filled{position:absolute!important;left:0!important;top:0!important;overflow:hidden!important}.yap-yandex_ad-posterVertical .yap-mobile-app__rating .yap-mobile-app__rating-star{display:inline-block!important;vertical-align:top!important;fill:#000000!important;opacity:.4!important}.yap-yandex_ad-posterVertical .yap-mobile-app__rating-stars-scale_filled .yap-mobile-app__rating-star{opacity:1!important;fill:#fc0!important}.yap-yandex_ad-posterVertical .yap-mobile-app__rating-star .yap-mobile-app__star-svg{display:block!important;height:1em!important;width:1em!important}</style></head>

  <body>
    <div class="layout_inner">
      <div id="TMpanel">
  <div class="container">
    <div class="bmenu">
      <a href="https://tmfeed.ru/?utm_source=tm_habrahabr&utm_medium=tm_top_panel&utm_campaign=tm_promo">TM Feed</a>
      <a href="https://habrahabr.ru/?utm_source=tm_habrahabr&utm_medium=tm_top_panel&utm_campaign=tm_promo" class="current">Хабрахабр</a>
      <a href="https://megamozg.ru/?utm_source=tm_habrahabr&utm_medium=tm_top_panel&utm_campaign=tm_promo">Мегамозг</a>
      <a href="https://geektimes.ru/?utm_source=tm_habrahabr&utm_medium=tm_top_panel&utm_campaign=tm_promo">Geektimes</a>
      <a href="https://toster.ru/?utm_source=tm_habrahabr&utm_medium=tm_top_panel&utm_campaign=tm_promo">Тостер</a>
      <a href="https://moikrug.ru/?utm_source=tm_habrahabr&utm_medium=tm_top_panel&utm_campaign=tm_promo">Мой круг</a>
      <a href="https://freelansim.ru/?utm_source=habrahabr&utm_medium=referral&utm_campaign=mainpage&utm_content=head_link">Фрилансим</a>
    </div>
      <div class="bmenu_inner" style="display:inline-block!important;visibility:visible!important;">
        <span class="bmenu__label">Спецпроекты:</span>
        <span class="bmenu slink"><a href="http://bit.ly/1O3dot2" target="_blank" style="color: #00008B">Cобери стартап</a><a href="http://bit.ly/1kZIV7G" target="_blank" style="color: #b19d59">Колонки Marshall</a><a href="http://bit.ly/1Lays5o" target="_blank" style="color: red">Cтартапам БЕСПЛАТНО</a></span>
        <span id="adriver_banner_465568687"></span>
      </div>
  </div>
</div>

      <div id="layout">
        <div id="navbar_overlay" class="hidden"></div>
<div id="navbar" style="bottom: 0px;" class="fixed">
    <div class="nav_panel">
        <a href="https://habrahabr.ru/" class="logo"></a>

            <a href="https://habrahabr.ru/posts/" class="tab tab_menu" data-tab="menu_tab" title="Меню"><span class="g-icon g-icon-burger"></span></a>
            <a href="https://habrahabr.ru/auth/login/" class="tab tab_login" id="login" title="Войти"><span class="g-icon g-icon-lock"></span></a>

        <a href="https://habrahabr.ru/post/208026/#" class="scroll_to_up scroll_to_up_for_guest" id="scroll_to_top" title="Наверх"></a>
    </div>

    <div class="nav_tabs_content ">
        <div class="nav_tab hidden" id="menu_tab">
            <div class="title">Разделы</div>
            <form action="https://habrahabr.ru/search/" method="get" class="global_search_form">
                <div>
                    <input type="text" name="q" placeholder="Поиск">
                </div>
            </form>
            <div class="menu">
                <a href="https://habrahabr.ru/posts/top/">Публикации</a>
                <a href="https://habrahabr.ru/hubs/">Хабы</a>
                <a href="https://habrahabr.ru/companies/">Компании</a>
                <a href="https://habrahabr.ru/users/">Пользователи</a>
                <a href="https://habrahabr.ru/sandbox/">Песочница</a>
                <div class="line"></div>
                <a href="https://toster.ru/" class="new_window">Q&amp;A</a>
                <a href="https://moikrug.ru/?utm_source=tm_habrahabr&utm_medium=tm_left_menu&utm_campaign=tm_promo" class="new_window">Вакансии</a>
            </div>

              
                  <div class="line"></div>
                  <div class="title">Спецпроекты</div>
                  <div class="menu">
                <a href="http://bit.ly/1KGwmEH" target="_blank">$27000 на хостинг</a>
                
                <a href="http://bit.ly/1QKAScp" target="_blank">Соберите свой стартап</a>
                
                <a href="http://bit.ly/1ZWuLUH" target="_blank">Обзор колонок Marshall</a>
                </div>
        </div>


    </div>
</div>

        <div class="inner">

          <script type="text/javascript">

    $(document).on('click', '.adb-close', function(){
        $('.lain_13_what_are_you_doing').animate({ 'height': 0 });

        createCookie('adb-p', '1', 1);
    });

    function readCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    }

    $(document).ready(function(){
        if (adb1 == 'yes' && !readCookie('adb-p'))
        {
            $('.lain_13_what_are_you_doing').show();
        }
    });
</script>
<div class="lain_13_what_are_you_doing" style="display: block;">
    <div class="adb-text">
        Привет, Хабрапользователь. Кажется, ты используешь AdBlock. Хабрахабр <br>
        развивается и существует за счет доходов от рекламы. Добавь нас в исключения.
    </div>
    <a class="adb-btn" href="https://habrahabr.ru/adblock/">открытое письмо</a>
    <a class="adb-btn" href="https://habrahabr.ru/adblock/?how=1">как отключить</a>
    <div class="adb-close"></div>
</div>



          

            <div class="profile-header">

  <div class="profile-header__summary author-info author-info_profile ">
    <a href="https://habrahabr.ru/users/RaJa/" class="author-info__image">
        <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb.png" class="author-info__image-pic">

    </a>

    <div class="author-info__desc">
      <div class="author-info__username">
         <a href="https://habrahabr.ru/users/RaJa/" class="author-info__name">Andrew Kambaroff</a> 
        <a href="https://habrahabr.ru/users/RaJa/" class="author-info__nickname">@RaJa</a>
        
      </div>
        <div class="author-info__specialization">
          Робототехника, программирование, обучение
        </div>
    </div>
  </div>

    <div class="profile-header__stats">

      <div class="karma__widjet voting-wjt js-karma  ">

        <div class="voting-wjt__counter js-karma-mark voting-wjt__counter_positive " title="239 голосов">
          <div class="voting-wjt__counter-score js-karma_num">167,0</div>
          <div class="voting-wjt__label">карма</div>
        </div>

      </div>

      <div class="user-rating" title="Рейтинг пользователя">
        <div class="user-rating__value">0,0</div>
        <div class="user-rating__label">рейтинг</div>
      </div>

    </div>


</div>

  <div class="column-wrapper">
    <div class="content_left js-content_left">
        <div class="tabs">
    <ul class="tabs-menu tabs-menu_habrahabr">
          <li class="tabs-menu__item tabs-menu__item_user-profile tabs-menu__item_inline">
            <a href="https://habrahabr.ru/users/RaJa/" class="tab-item tab-item_stacked ">
              <span class="tab-item__value stats">
                <span class="stats__counters stats__counters_big">
                  <strong class="counter"></strong>
                </span>
                <span class="stats__value">Профиль</span>
            </span></a>
          </li>
          <li class="tabs-menu__item tabs-menu__item_user-profile tabs-menu__item_inline">
            <a href="https://habrahabr.ru/users/RaJa/topics/" class="tab-item tab-item_stacked tab-item_current">
              <span class="tab-item__value stats">
                <span class="stats__counters stats__counters_big">
                  <strong class="counter">5</strong>
                </span>
                <span class="stats__value">Публикации</span>
            </span></a>
          </li>
          <li class="tabs-menu__item tabs-menu__item_user-profile tabs-menu__item_inline">
            <a href="https://habrahabr.ru/users/RaJa/comments/" class="tab-item tab-item_stacked ">
              <span class="tab-item__value stats">
                <span class="stats__counters stats__counters_big">
                  <strong class="counter">469</strong>
                </span>
                <span class="stats__value">Комментарии</span>
            </span></a>
          </li>
          <li class="tabs-menu__item tabs-menu__item_user-profile tabs-menu__item_inline">
            <a href="https://habrahabr.ru/users/RaJa/favorites/" class="tab-item tab-item_stacked ">
              <span class="tab-item__value stats">
                <span class="stats__counters stats__counters_big">
                  <strong class="counter">117</strong>
                </span>
                <span class="stats__value">Избранное</span>
            </span></a>
          </li>
          <li class="tabs-menu__item tabs-menu__item_user-profile tabs-menu__item_inline">
            <a href="https://habrahabr.ru/users/RaJa/subscription/followers/" class="tab-item tab-item_stacked ">
              <span class="tab-item__value stats">
                <span class="stats__counters stats__counters_big">
                  <strong class="counter">55</strong>
                </span>
                <span class="stats__value">Подписчики</span>
            </span></a>
          </li>
    </ul>

  </div>


      <div class="post_show">
        

  <div class="post shortcuts_item" id="post_208026">
    <div class="published"> 3 января 2014 в 01:27</div>
    <h1 class="title">
      

        <span class="post_title">STM32 и USB-HID — это просто</span>

      <span class="flag flag_tutorial" title="Обучающий материал">tutorial</span>

      

    </h1>

      <div class="hubs">
      <a href="https://habrahabr.ru/hub/controllers/" class="hub " title="Вы не подписаны на этот хаб">Программирование микроконтроллеров</a><span class="profiled_hub" title="Профильный хаб">*</span>
  </div>


    <div class="content html_format">
      На дворе 2014 год, а для связи микроконтроллеров с ПК самым популярным средством является обычный последовательный порт. С ним легко начать работать, он до примитивности прост в понимании — просто поток байт.<br>
Однако все современные стандарты исключили COM порт из состава ПК и приходится использовать USB-UART переходники, чтобы получить доступ к своему проекту на МК. Не всегда он есть под рукой. Не всегда такой переходник работает стабильно из-за проблем с драйверами. Есть и другие недостатки.<br>
Но каждый раз, когда заходит разговор о том, применять USB или последовательный порт, находится множество поклонников логической простоты UART. И у них есть на то основания. Однако, хорошо ведь иметь альтернативу?<br>
<img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/6b151275d8392a0eefe1c90524bebded.jpg"><br>
Меня давно просили рассказать как организовать пакетный обмен данными между ПК и МК на примере STM32F103. Я дам готовый рабочий проект и расскажу как его адаптировать для своих нужд. А уж вы сами решите — нужно оно вам или нет.<br>
<br>
У нас есть плата с современным недорогим микроконтроллером STM32F103C8 со встроенной аппаратной поддержкой USB, я рассказывал о ней ранее<br>
<img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/ee0b513ab61780097991d4b56e1f48a8.jpg"><br>
<a name="habracut"></a><br>
Я сказал, что у <b>последовательного порта</b> есть и другие недостатки:<br>
-часто COM порт отсутствует в ПК или ноутбуке<br>
-питание устройству нужно подавать отдельно<br>
-даже при наличии COM порта в ПК необходимо согласовывать уровни сигналов: ПК использует интерфейс RS232 с дифференциальными уровнями сигналов +15В и -15В, а микроконтроллеры — TTL уровни (+5В, +3.3В, униполярные).<br>
-часто в системе образуются десятки виртуальных COM портов и найти тот порт, что соответствует вашему устройству может оказаться непросто.<br>
В свою очередь <b>USB</b> с нами уже многие годы и имеет свои преимущества:<br>
-Возможность подачи питания от HOST устройства<br>
-Удобная реализация пакетного обмена<br>
-Возможность одновременного подключения к устройству несколькими программами<br>
-Возможность однозначной идентификации подключенного устройства<br>
-Аппаратная поддержка во многих современных МК, что исключает необходимость переходников<br>
Функционал USB чрезвычайно богатый, но это порождает проблему — разобраться не так просто, как с последовательным интерфейсом. Есть отдельный класс устройств — USB-HID, которые не требуют установки драйверов, специально предназначены для взаимодействия с человеком и различными устройствами ввода-вывода. Идеально для организации обмена данными с МК. Лично мне нравится пакетный режим обмена. Это удобная абстракция. К тому же разбирать пакетные сообщения несколько проще и удобнее, чем работать с простым потоком байт.<br>
<br>
<h4>Выбор профиля HID</h4><br>
USB-HID — довольно обширный класс устройств, поэтому прежде всего придется выбрать какое именно устройство мы будем создавать.<br>
Мы можем создать эмуляцию клавиатуры, мыши, джойстика и других устройств ввода, а можем создать свое устройство, чтобы не зависеть от довольно жестких рамок стандарта и свободно обмениваться данными с ПК.<br>
Я расскажу как cделать <b>Custom HID</b> device. Это дает максимальную свободу. Чтобы не затягивать статью, постарюсь рассказать максимально кратко — описаний стандарта в сети и без меня много, но лично мне они слабо помогли, когда понадобилось решить конкретную задачу.<br>
<br>
<h4>Структура проекта</h4><br>
Я использую <a href="http://ravenium.ru/emblocks-ide/">EmBlocks</a> для разработки под STM32. Вы можете использовать любую удобную среду, проект не очень сложно адаптировать.<br>
К <a href="http://ravenium.ru/stm32-emblocks-%D0%BC%D0%B8%D0%B3%D0%B0%D0%B5%D0%BC-%D1%81%D0%B2%D0%B5%D1%82%D0%BE%D0%B4%D0%B8%D0%BE%D0%B4%D0%BE%D0%BC/">базовой структуре</a> проекта добавлены:<br>
<ul>
<li>Папка <b>USB-FS</b> с библиотекой «STM32F10x, STM32L1xx and STM32F3xx USB-FS-Device Driver» версии 4.0.0.</li>
<li>В папках Inc и Src файлы: <br>
 <b>platform_config.h</b> — здесь собраны определения, касающиеся конкретной платы и семейства МК<br>
 <b>stm32_it.h, stm32_it.c</b> — здесь определены обработчики прерываний<br>
 <b>usb_conf.h, usb_endp.c</b> — здесь определяются конечные точки (Endpoint), размеры и адреса их буферов, функции-обработчики<br>
 <b>usb_desc.h, usb_desc.c</b> — здесь собрана информаци о самом устройстве — как оно будет определяться при подключении к ПК и определены размеры и формат пакетов данных<br>
 <b>hw_config.c</b> — здесь собрана вся работа с отправкой данных на ПК<br>
 <b>hw_config.h, usb_istr.h, usb_prop.h, usb_pwr.h</b><br>
<b> usb_istr.c, usb_prop.c, usb_pwr.c</b> — нужны для работы USB-FS библиотеки, но лезть в них необязательно</li>
</ul><br>
Все эти файлы мы добавляем в любой проект, использующий USB.<br>
<h4>Инициализация USB</h4><br>
Для корректной работы USB модуля важна частота работы МК. Далеко не все частоты позволяют правильно задать тактирование USB. В нашем случае используется кварцевый генератор на 8МГц и МК работает на частоте 72МГц, а USB модуль на 48МГц.<br>
В main.c достаточно включить всего несколько строк кода<br>
<div class="spoiler spoiler_open"><b class="spoiler_title">main.c</b><div class="spoiler_text" style="display: block;"><pre><code class="cpp hljs"><span class="hljs-comment">/* Includes ------------------------------------------------------------------*/</span>
<span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">"hw_config.h"</span></span>
<span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">"usb_lib.h"</span></span>
<span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">"usb_pwr.h"</span></span>

<span class="hljs-comment">/* Private variables ---------------------------------------------------------*/</span>
__IO <span class="hljs-keyword">uint8_t</span> PrevXferComplete = <span class="hljs-number">1</span>;

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>
</span>{
  Set_System();

  USB_Interrupts_Config();

  Set_USBClock();

  USB_Init();


  <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>)
  {

    <span class="hljs-keyword">if</span> (bDeviceState == CONFIGURED)
    {
      <span class="hljs-keyword">if</span> (PrevXferComplete)
      {
        RHIDCheckState();
      }
    }
  }
}
</code></pre><br>
</div></div><br>
В функции <b>Set_System()</b> производится настройка пина подтяжки линии D+ к питанию для программного подключения/отключения устройства от ПК (в нашей плате не используется), настраивается прерывание и инициализируются светодиоды и кнопки для демонстрационного проекта.<br>
В <b>USB_Interrupts_Config()</b> настраиваются прерывания в зависимости от семейства МК (поддерживаются F10x, F37x, L1x).<br>
Функция <b>USB_Init()</b> запускает работу USB модуля. Если временно нужно отключить для отладки работу с USB, просто закомментируйте эту строку.<br>
Далее в бесконечном цикле проверяется, удалось ли сконфигурировать USB модуль при подключении к ПК. Если все сработало верно и устройство успешно подключилось, ПК включен и не находится в режиме энергосбережения, то состояние будет CONFIGURED.<br>
Далее проверяется, была ли закончена предыдущая передача данных в ПК и если да, то готовится к отправке новый пакет в функции <b>RHIDCheckState()</b><br>
<br>
<h4>Размер пакета и частота передачи</h4><br>
USB-HID девайс не может сам инициировать передачу, т.к. координацией шины занимается host устройство — ПК. Поэтому при подготовке USB дескриптора нашего устройства, мы пишем, как часто нужно опрашивать наше устройство. По спецификации максимальная частота опроса — 1кГц и максимальный размер передаваемого за раз пакета — 64 байта. Если этого недостаточно — придется использовать другие режимы работы — вроде USB bulk, но там уже без драйверов не обойтись.<br>
За настройку взаимодействия с ПК отвечают 3 дескриптора:<br>
<div class="spoiler spoiler_open"><b class="spoiler_title">Дескриптор устройства</b><div class="spoiler_text" style="display: block;"><pre><code class="cpp hljs"><span class="hljs-comment">/* USB Standard Device Descriptor */</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> RHID_DeviceDescriptor[RHID_SIZ_DEVICE_DESC] =
  {
		    RHID_SIZ_DEVICE_DESC,         <span class="hljs-comment">// общая длина дескриптора устройства в байтах</span>
		    USB_DEVICE_DESCRIPTOR_TYPE, <span class="hljs-comment">// bDescriptorType - показывает, что это за дескриптор. В данном случае - Device descriptor</span>
		    <span class="hljs-number">0x00</span>, <span class="hljs-number">0x02</span>,                 <span class="hljs-comment">// bcdUSB - какую версию стандарта USB поддерживает устройство. 2.0</span>

			<span class="hljs-comment">// класс, подкласс устройства и протокол, по стандарту USB. У нас нули, означает каждый интерфейс сам за себя</span>
		    <span class="hljs-number">0x00</span>,                       <span class="hljs-comment">//bDeviceClass</span>
		    <span class="hljs-number">0x00</span>,                       <span class="hljs-comment">//bDeviceSubClass</span>
		    <span class="hljs-number">0x00</span>,                       <span class="hljs-comment">//bDeviceProtocol</span>

		    <span class="hljs-number">0x40</span>,                       <span class="hljs-comment">//bMaxPacketSize - максимальный размер пакетов для Endpoint 0 (при конфигурировании)</span>

			<span class="hljs-comment">// те самые пресловутые VID и PID,  по которым и определяется, что же это за устройство.</span>
		    <span class="hljs-number">0x83</span>, <span class="hljs-number">0x04</span>,                 <span class="hljs-comment">//idVendor (0x0483)</span>
		    <span class="hljs-number">0x11</span>, <span class="hljs-number">0x57</span>,                 <span class="hljs-comment">//idProduct (0x5711)</span>

		    DEVICE_VER_L, DEVICE_VER_H,                 <span class="hljs-comment">// bcdDevice rel. DEVICE_VER_H.DEVICE_VER_L  номер релиза устройства</span>

			<span class="hljs-comment">// дальше идут индексы строк, описывающих производителя, устройство и серийный номер.</span>
			<span class="hljs-comment">// Отображаются в свойствах устройства в диспетчере устройств</span>
			<span class="hljs-comment">// А по серийному номеру подключенные устройства с одинаковым VID/PID различаются системой.</span>
		    <span class="hljs-number">1</span>,                          <span class="hljs-comment">//Index of string descriptor describing manufacturer</span>
		    <span class="hljs-number">2</span>,                          <span class="hljs-comment">//Index of string descriptor describing product</span>
		    <span class="hljs-number">3</span>,                          <span class="hljs-comment">//Index of string descriptor describing the device serial number</span>
		    <span class="hljs-number">0x01</span>                        <span class="hljs-comment">// bNumConfigurations - количество возможных конфигураций. У нас одна.</span>
  }
  ; <span class="hljs-comment">/* CustomHID_DeviceDescriptor */</span>
</code></pre><br>
</div></div><br>
В комментариях все довольно прозрачно. Обратите внимание на DEVICE_VER_L, DEVICE_VER_H — это константы из usb_desc.h, которые вы можете изменить для идентификации версии своего устройства.<br>
<br>
<div class="spoiler spoiler_open"><b class="spoiler_title">Дескриптор конфигурации (описывает возможности устройства)</b><div class="spoiler_text" style="display: block;"><pre><code class="cpp hljs"><span class="hljs-comment">/* USB Configuration Descriptor */</span>
<span class="hljs-comment">/*   All Descriptors (Configuration, Interface, Endpoint, Class, Vendor */</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> RHID_ConfigDescriptor[RHID_SIZ_CONFIG_DESC] =
  {
		    <span class="hljs-number">0x09</span>, 			<span class="hljs-comment">// bLength: длина дескриптора конфигурации</span>
		    USB_CONFIGURATION_DESCRIPTOR_TYPE, <span class="hljs-comment">// bDescriptorType: тип дескриптора - конфигурация</span>
		    RHID_SIZ_CONFIG_DESC, <span class="hljs-number">0x00</span>, <span class="hljs-comment">// wTotalLength: общий размер всего дерева под данной конфигурацией в байтах</span>

		    <span class="hljs-number">0x01</span>,         <span class="hljs-comment">// bNumInterfaces: в конфигурации всего один интерфейс</span>
		    <span class="hljs-number">0x01</span>,         <span class="hljs-comment">// bConfigurationValue: индекс данной конфигурации</span>
		    <span class="hljs-number">0x00</span>,         <span class="hljs-comment">// iConfiguration: индекс строки, которая описывает эту конфигурацию</span>
		    <span class="hljs-number">0xE0</span>,         <span class="hljs-comment">// bmAttributes: признак того, что устройство будет питаться от шины USB</span>
		    <span class="hljs-number">0x32</span>,         <span class="hljs-comment">// MaxPower 100 mA: и ему хватит 100 мА</span>

				<span class="hljs-comment">/************** Дескриптор интерфейса ****************/</span>
				<span class="hljs-number">0x09</span>,         <span class="hljs-comment">// bLength: размер дескриптора интерфейса</span>
				USB_INTERFACE_DESCRIPTOR_TYPE, <span class="hljs-comment">// bDescriptorType: тип дескриптора - интерфейс</span>
				<span class="hljs-number">0x00</span>,         <span class="hljs-comment">// bInterfaceNumber: порядковый номер интерфейса - 0</span>
				<span class="hljs-number">0x00</span>,         <span class="hljs-comment">// bAlternateSetting: признак альтернативного интерфейса, у нас не используется</span>
				<span class="hljs-number">0x02</span>,         <span class="hljs-comment">// bNumEndpoints - количество эндпоинтов.</span>

				<span class="hljs-number">0x03</span>,         <span class="hljs-comment">// bInterfaceClass: класс интерфеса - HID</span>
				<span class="hljs-comment">// если бы мы косили под стандартное устройство, например клавиатуру или мышь, то надо было бы указать правильно класс и подкласс</span>
				<span class="hljs-comment">// а так у нас общее HID-устройство</span>
				<span class="hljs-number">0x00</span>,         <span class="hljs-comment">// bInterfaceSubClass : подкласс интерфейса.</span>
				<span class="hljs-number">0x00</span>,         <span class="hljs-comment">// nInterfaceProtocol : протокол интерфейса</span>

				<span class="hljs-number">0</span>,            <span class="hljs-comment">// iInterface: индекс строки, описывающей интерфейс</span>

					<span class="hljs-comment">// теперь отдельный дескриптор для уточнения того, что данный интерфейс - это HID устройство</span>
					<span class="hljs-comment">/******************** HID дескриптор ********************/</span>
					<span class="hljs-number">0x09</span>,         <span class="hljs-comment">// bLength: длина HID-дескриптора</span>
					HID_DESCRIPTOR_TYPE, <span class="hljs-comment">// bDescriptorType: тип дескриптора - HID</span>
					<span class="hljs-number">0x01</span>, <span class="hljs-number">0x01</span>,   <span class="hljs-comment">// bcdHID: номер версии HID 1.1</span>
					<span class="hljs-number">0x00</span>,         <span class="hljs-comment">// bCountryCode: код страны (если нужен)</span>
					<span class="hljs-number">0x01</span>,         <span class="hljs-comment">// bNumDescriptors: Сколько дальше будет report дескрипторов</span>
						HID_REPORT_DESCRIPTOR_TYPE,         <span class="hljs-comment">// bDescriptorType: Тип дескриптора - report</span>
						RHID_SIZ_REPORT_DESC,	<span class="hljs-number">0x00</span>, <span class="hljs-comment">// wItemLength: длина report-дескриптора</span>


					<span class="hljs-comment">/******************** дескриптор конечных точек (endpoints) ********************/</span>
					<span class="hljs-number">0x07</span>,          <span class="hljs-comment">// bLength: длина дескриптора</span>
					USB_ENDPOINT_DESCRIPTOR_TYPE, <span class="hljs-comment">// тип дескриптора - endpoints</span>

					<span class="hljs-number">0x81</span>,          <span class="hljs-comment">// bEndpointAddress: адрес конечной точки и направление 1(IN)</span>
					<span class="hljs-number">0x03</span>,          <span class="hljs-comment">// bmAttributes: тип конечной точки - Interrupt endpoint</span>
					wMaxPacketSize, <span class="hljs-number">0x00</span>,    <span class="hljs-comment">// wMaxPacketSize:  Bytes max</span>
					<span class="hljs-number">0x20</span>,          <span class="hljs-comment">// bInterval: Polling Interval (32 ms)</span>

          <span class="hljs-number">0x07</span>,	<span class="hljs-comment">/* bLength: Endpoint Descriptor size */</span>
          USB_ENDPOINT_DESCRIPTOR_TYPE,	<span class="hljs-comment">/* bDescriptorType: */</span>
            <span class="hljs-comment">/*	Endpoint descriptor type */</span>
          <span class="hljs-number">0x01</span>,	<span class="hljs-comment">/* bEndpointAddress: */</span>
            <span class="hljs-comment">/*	Endpoint Address (OUT) */</span>
          <span class="hljs-number">0x03</span>,	<span class="hljs-comment">/* bmAttributes: Interrupt endpoint */</span>
          wMaxPacketSize,	<span class="hljs-comment">/* wMaxPacketSize:  Bytes max  */</span>
          <span class="hljs-number">0x00</span>,
          <span class="hljs-number">0x20</span>,	<span class="hljs-comment">/* bInterval: Polling Interval (32 ms) */</span>
}
  ; <span class="hljs-comment">/* RHID_ConfigDescriptor */</span>
</code></pre><br>
</div></div><br>
Здесь стоит обратить внимание на константу wMaxPacketSize — она определяет максимальный размер пакета, которым мы будем обмениваться с ПК. Проект так настроен, чтобы при ее изменении менялись и размеры буферов. Но не забывайте, что больше 0x40 по стандарту указывать не стоит. С этой константой будьте осторожны — если передаваемый пакет будет отличаться по размеру — будут проблемы!<br>
Следующая за ним константа с комментарием bInterval — это период опроса устройства в миллисекундах. Для нашего устройства задано 32мс.<br>
<br>
<div class="spoiler spoiler_open"><b class="spoiler_title">Дескриптор репорта (описывает протокол)</b><div class="spoiler_text" style="display: block;"><pre><code class="cpp hljs"><span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> RHID_ReportDescriptor[RHID_SIZ_REPORT_DESC] =
  {
    <span class="hljs-number">0x06</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xff</span>,              <span class="hljs-comment">// USAGE_PAGE (Generic Desktop)</span>
    <span class="hljs-number">0x09</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">// USAGE (Vendor Usage 1)</span>
    <span class="hljs-number">0xa1</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">// COLLECTION (Application)</span>
    <span class="hljs-number">0x85</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">//   REPORT_ID (1)</span>
    <span class="hljs-number">0x09</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">//   USAGE (Vendor Usage 1)</span>
    <span class="hljs-number">0x15</span>, <span class="hljs-number">0x00</span>,                    <span class="hljs-comment">//   LOGICAL_MINIMUM (0)</span>
    <span class="hljs-number">0x25</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">//   LOGICAL_MAXIMUM (1)</span>
    <span class="hljs-number">0x75</span>, <span class="hljs-number">0x08</span>,                    <span class="hljs-comment">//   REPORT_SIZE (8)</span>
    <span class="hljs-number">0x95</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">//   REPORT_COUNT (1)</span>
    <span class="hljs-number">0xb1</span>, <span class="hljs-number">0x82</span>,                    <span class="hljs-comment">//   FEATURE (Data,Var,Abs,Vol)</span>
    <span class="hljs-number">0x85</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">//   REPORT_ID (1)</span>
    <span class="hljs-number">0x09</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">//   USAGE (Vendor Usage 1)</span>
    <span class="hljs-number">0x91</span>, <span class="hljs-number">0x82</span>,                    <span class="hljs-comment">//   OUTPUT (Data,Var,Abs,Vol)</span>

    <span class="hljs-number">0x85</span>, <span class="hljs-number">0x02</span>,                    <span class="hljs-comment">//   REPORT_ID (2)</span>
    <span class="hljs-number">0x09</span>, <span class="hljs-number">0x02</span>,                    <span class="hljs-comment">//   USAGE (Vendor Usage 2)</span>
    <span class="hljs-number">0x15</span>, <span class="hljs-number">0x00</span>,                    <span class="hljs-comment">//   LOGICAL_MINIMUM (0)</span>
    <span class="hljs-number">0x25</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">//   LOGICAL_MAXIMUM (1)</span>
    <span class="hljs-number">0x75</span>, <span class="hljs-number">0x08</span>,                    <span class="hljs-comment">//   REPORT_SIZE (8)</span>
    <span class="hljs-number">0x95</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">//   REPORT_COUNT (1)</span>
    <span class="hljs-number">0xb1</span>, <span class="hljs-number">0x82</span>,                    <span class="hljs-comment">//   FEATURE (Data,Var,Abs,Vol)</span>
    <span class="hljs-number">0x85</span>, <span class="hljs-number">0x02</span>,                    <span class="hljs-comment">//   REPORT_ID (2)</span>
    <span class="hljs-number">0x09</span>, <span class="hljs-number">0x02</span>,                    <span class="hljs-comment">//   USAGE (Vendor Usage 2)</span>
    <span class="hljs-number">0x91</span>, <span class="hljs-number">0x82</span>,                    <span class="hljs-comment">//   OUTPUT (Data,Var,Abs,Vol)</span>

    <span class="hljs-number">0x85</span>, <span class="hljs-number">0x03</span>,                    <span class="hljs-comment">//   REPORT_ID (3)</span>
    <span class="hljs-number">0x09</span>, <span class="hljs-number">0x03</span>,                    <span class="hljs-comment">//   USAGE (Vendor Usage 3)</span>
    <span class="hljs-number">0x15</span>, <span class="hljs-number">0x00</span>,                    <span class="hljs-comment">//   LOGICAL_MINIMUM (0)</span>
    <span class="hljs-number">0x26</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0x00</span>,              <span class="hljs-comment">//   LOGICAL_MAXIMUM (255)</span>
    <span class="hljs-number">0x75</span>, <span class="hljs-number">0x08</span>,                    <span class="hljs-comment">//   REPORT_SIZE (8)</span>
    <span class="hljs-number">0x95</span>, RPT3_COUNT,                    <span class="hljs-comment">//   REPORT_COUNT (N)</span>
    <span class="hljs-number">0xb1</span>, <span class="hljs-number">0x82</span>,                    <span class="hljs-comment">//   FEATURE (Data,Var,Abs,Vol)</span>
    <span class="hljs-number">0x85</span>, <span class="hljs-number">0x03</span>,                    <span class="hljs-comment">//   REPORT_ID (3)</span>
    <span class="hljs-number">0x09</span>, <span class="hljs-number">0x03</span>,                    <span class="hljs-comment">//   USAGE (Vendor Usage 3)</span>
    <span class="hljs-number">0x91</span>, <span class="hljs-number">0x82</span>,                    <span class="hljs-comment">//   OUTPUT (Data,Var,Abs,Vol)</span>

    <span class="hljs-number">0x85</span>, <span class="hljs-number">0x04</span>,                    <span class="hljs-comment">//   REPORT_ID (4)</span>
    <span class="hljs-number">0x09</span>, <span class="hljs-number">0x04</span>,                    <span class="hljs-comment">//   USAGE (Vendor Usage 4)</span>
    <span class="hljs-number">0x75</span>, <span class="hljs-number">0x08</span>,                    <span class="hljs-comment">//   REPORT_SIZE (8)</span>
    <span class="hljs-number">0x95</span>, RPT4_COUNT,                    <span class="hljs-comment">//   REPORT_COUNT (N)</span>
    <span class="hljs-number">0x81</span>, <span class="hljs-number">0x82</span>,                    <span class="hljs-comment">//   INPUT (Data,Var,Abs,Vol)</span>
    <span class="hljs-number">0xc0</span>                           <span class="hljs-comment">// END_COLLECTION</span>
}
</code></pre><br>
</div></div><br>
Это самый важный дескриптор — он описывает протокол обмена и функционал устройства. Его формирование — не самая простая задача. Если допустить ошибку при формировании дескриптора — устройство перестанет работать. Формат дескриптора очень жесткий. Есть даже специальная утилита <a href="http://www.usb.org/developers/hidpage/">HID Descriptor tool</a>. А в корне проекта лежит файл «RHID.hid» с описанным выше дескриптором для редактирования в этой утилите. Но если вы не понимаете, что делаете, лучше не лезть.<br>
Для простоты я сделал две константы:<br>
<b>RPT3_COUNT</b> — размер OUTPUT буфера в байтах для передачи пакета в МК (в примере — 1 байт)<br>
<b>RPT4_COUNT</b> — размер INPUT буфера в байтах для передачи пакета в ПК (в примере — 4 байта)<br>
Размер любого из этих буферов не должен превышать <b>wMaxPacketSize</b>. Меньше — можно.<br>
Кстати, превратить Custom HID в другой HID девайс, например, клавиатуру или джойстик можно фактически только переписав ReportDescriptor и изменив класс и подкласс устройства в дескрипторе конфигурации.<br>
<br>
<h4>Что такое Report</h4><br>
Хост (ПК) и девайс (МК) обмениваются пакетами данных заранее оговоренной структуры — report. Пакетов может быть весьма много, их можно предусмотреть на все случаи жизни — например пакет с данными о каких-то событиях в устройстве, пакет с данными, которые запрашивал ПК, пакет с командой для МК. Все, что угодно. Но структура всех пакетов должна быть описана в структуре RHID_ReportDescriptor. <br>
ПК и МК различают репорты по ID, который идет первым байтом в пакете.<br>
В нашем примере 4 типа репортов:<br>
<ul>
<li>REPORT_ID = 1 и 2 — команда МК включить/выключить LED1/LED2. Содержит поле размером 1 бит с желаемым состоянием светодиода и поддерживает отправку как методом SET_REPORT так и методом SET_FEATURE (об этом чуть позже).</li>
<li>REPORT_ID = 3 — передает один байт в МК. Просто, чтобы показать, как передать данные МК. Мы будем передавать положение ползунка.</li>
<li>REPORT_ID = 4 — это репорт для передачи данных ПК. Возвращает информацию о текущем состоянии светодиодов, кнопок (если они есть) и возвращает переданный в репорте с ID=3 байт, чтобы показать, что данные приняты.</li>
</ul><br>
Если вы не до конца разобрались в том, как формировать дескриптор репортов, то просто меняйте константы RPT3_COUNT и RPT4_COUNT, устанавливая нужный размер исходящих и входящих (с точки зрения ПК) пакетов. Остальные репорты можно просто не трогать, они не помешают. Не забывайте, что первым байтом должен быть ID репорта.<br>
<br>
<h4>Цикл обмена</h4><br>
Итак, мы сконфигурировали наше устройство, установив PID, VID, номер версии, настроили размеры входящих и исходящих пакетов и готовы к работе.<br>
Каждые 32мс, как мы и просили в дескрипторе конфигурации, хост будет нас опрашивать и в функции RHIDCheckState мы проверяем — если у нас есть, что отправить, то формируем пакет данных для хоста.<br>
<div class="spoiler spoiler_open"><b class="spoiler_title">RHIDCheckState - функция отправки данных</b><div class="spoiler_text" style="display: block;"><pre><code class="cpp hljs"><span class="hljs-comment">/*******************************************************************************
* Function Name : RHIDCheckState.
* Description   : Decodes the RHID state.
* Input         : None.
* Output        : None.
* Return value  : The state value.
*******************************************************************************/</span>
<span class="hljs-keyword">uint16_t</span> btn1_prev, btn2_prev;
<span class="hljs-keyword">uint8_t</span> Buffer[RPT4_COUNT+<span class="hljs-number">1</span>];
<span class="hljs-keyword">uint8_t</span> RHIDCheckState(<span class="hljs-keyword">void</span>)
{
    <span class="hljs-keyword">uint16_t</span> btn1=<span class="hljs-number">0</span>, btn2=<span class="hljs-number">0</span>;
    btn1 = GPIO_ReadInputDataBit(BTN1_PORT, BTN1_PIN);
    btn2 = GPIO_ReadInputDataBit(BTN2_PORT, BTN2_PIN);
    Buffer[<span class="hljs-number">0</span>] = <span class="hljs-number">4</span>;
    Buffer[<span class="hljs-number">1</span>] = btn1;
    Buffer[<span class="hljs-number">2</span>] = btn2;
    Buffer[<span class="hljs-number">3</span>] = (GPIO_ReadInputDataBit(LED_PORT, LED1_PIN) | GPIO_ReadInputDataBit(LED_PORT, LED2_PIN)&lt;&lt;<span class="hljs-number">1</span>);

    <span class="hljs-comment">/* Reset the control token to inform upper layer that a transfer is ongoing */</span>
    PrevXferComplete = <span class="hljs-number">0</span>;

    <span class="hljs-comment">/* Copy buffer date info in ENDP1 Tx Packet Memory Area*/</span>
    USB_SIL_Write(EP1_IN, Buffer, RPT4_COUNT+<span class="hljs-number">1</span>);
    <span class="hljs-comment">/* Enable endpoint for transmission */</span>
    SetEPTxValid(ENDP1);

    <span class="hljs-keyword">return</span> (btn1 | btn2&lt;&lt;<span class="hljs-number">1</span>);
}
</code></pre><br>
</div></div><br>
Массив <b>uint8_t Buffer[RPT4_COUNT+1]</b> определен как размер полезных данных входящего (рассматривается всегда с точки зрения хоста) пакета + байт ID. Это важно — если размер буфера будет отличаться — будут проблемы. Поэтому для изменения размеров буфера редактируйте значение константы в usb_desc.h.<br>
В функции мы собираем данные в пакет, устанавливаем флаг PrevXferComplete = 0, говорящий о том, что данные отправляются и вызываем функциии библиотеки USB_SIL_Write и SetEPTxValid для отправки данных хосту.<br>
Все, на этом передача данных хосту закончена.<br>
<br>
С приемом данных немного сложнее — есть два способа послать данные девайсу — один из них заключается в использовании описанных в дескрипторе репорта возможностей устройства (Features), с соответствующими параметрами посредством функции <b>SET_FEAUTRE</b>. Это некоторая абстракция, для красивого управления устройством с кучей функций, чтобы можно было вызывать осмысленные функции, а не просто слать поток байт.<br>
Второй способ — это работа с устройством как с файлом — просто записываем в него пакет как в файл. Этот метод называется <b>SET_REPORT</b>. На деле работает чуть-чуть медленнее.<br>
Наше устройство поддерживает оба метода, о чем мы и сказали хосту в дескрипторе репортов.<br>
<br>
<h5>Обработка SET_FEATURE</h5><br>
Данные, отправленные методом SET_FEAUTRE обрабатываются в usb_prop.c<br>
<br>
<div class="spoiler spoiler_open"><b class="spoiler_title">функция HID_Status_In</b><div class="spoiler_text" style="display: block;"><pre><code class="cpp hljs"><span class="hljs-comment">/*******************************************************************************
* Function Name  : HID_Status_In.
* Description    : HID status IN routine.
* Input          : None.
* Output         : None.
* Return         : None.
*******************************************************************************/</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">HID_Status_In</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>
</span>{
  BitAction Led_State;

  <span class="hljs-keyword">if</span> (Report_Buf[<span class="hljs-number">1</span>] == <span class="hljs-number">0</span>)
  {
    Led_State = Bit_RESET;
  }
  <span class="hljs-keyword">else</span>
  {
    Led_State = Bit_SET;
  }

  <span class="hljs-keyword">switch</span> (Report_Buf[<span class="hljs-number">0</span>])
  {
    <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-comment">/* Led 1 */</span>
     <span class="hljs-keyword">if</span> (Led_State != Bit_RESET)
     {
       GPIO_SetBits(LED_PORT,LED1_PIN);
     }
     <span class="hljs-keyword">else</span>
     {
       GPIO_ResetBits(LED_PORT,LED1_PIN);
     }
     <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>: <span class="hljs-comment">/* Led 2 */</span>
     <span class="hljs-keyword">if</span> (Led_State != Bit_RESET)
     {
       GPIO_SetBits(LED_PORT,LED2_PIN);
     }
     <span class="hljs-keyword">else</span>
     {
       GPIO_ResetBits(LED_PORT,LED2_PIN);
     }
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: <span class="hljs-comment">/* Led 1&amp;2 */</span>
       Buffer[<span class="hljs-number">4</span>]=Report_Buf[<span class="hljs-number">1</span>];
     <span class="hljs-keyword">break</span>;
  }
}
</code></pre><br>
</div></div><br>
Здесь мы проверяем первый байт в репорте и в соответствии с ним обрабатываем остаток пакета — управляем светодиодами или просто берем байт, отправленный нам хостом и кладем в пакет для последующей отправки обратно в функции RHIDCheckState.<br>
Под Report_Buf зарезервировано wMaxPacketSize байт, чтобы влез любой пакет, который нам отправит хост.<br>
<br>
Данные, отправленные методом SET_REPORT обрабатываются в usb_endp.c<br>
<div class="spoiler"><b class="spoiler_title">функция EP1_OUT_Callback</b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-comment">/*******************************************************************************
* Function Name  : EP1_OUT_Callback.
* Description    : EP1 OUT Callback Routine.
* Input          : None.
* Output         : None.
* Return         : None.
*******************************************************************************/</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">EP1_OUT_Callback</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>
</span>{
  BitAction Led_State;

  <span class="hljs-comment">/* Read received data (2 bytes) */</span>
  USB_SIL_Read(EP1_OUT, Receive_Buffer);

  <span class="hljs-keyword">if</span> (Receive_Buffer[<span class="hljs-number">1</span>] == <span class="hljs-number">0</span>)
  {
    Led_State = Bit_RESET;
  }
  <span class="hljs-keyword">else</span>
  {
    Led_State = Bit_SET;
  }


  <span class="hljs-keyword">switch</span> (Receive_Buffer[<span class="hljs-number">0</span>])
  {
    <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-comment">/* Led 1 */</span>
     <span class="hljs-keyword">if</span> (Led_State != Bit_RESET)
     {
       GPIO_SetBits(LED_PORT,LED1_PIN);
     }
     <span class="hljs-keyword">else</span>
     {
       GPIO_ResetBits(LED_PORT,LED1_PIN);
     }
     <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>: <span class="hljs-comment">/* Led 2 */</span>
     <span class="hljs-keyword">if</span> (Led_State != Bit_RESET)
     {
       GPIO_SetBits(LED_PORT,LED2_PIN);
     }
     <span class="hljs-keyword">else</span>
     {
       GPIO_ResetBits(LED_PORT,LED2_PIN);
     }
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: <span class="hljs-comment">/* Led 1&amp;2 */</span>
        Buffer[<span class="hljs-number">4</span>]=Receive_Buffer[<span class="hljs-number">1</span>];
     <span class="hljs-keyword">break</span>;
  }

  SetEPRxStatus(ENDP1, EP_RX_VALID);
}
</code></pre><br>
</div></div><br>
Здесь почти то же самое, только нужно самостоятельно забрать данные вызовом USB_SIL_Read(EP1_OUT, Receive_Buffer) и в конце сообщить, что мы закончили вызовом SetEPRxStatus(ENDP1, EP_RX_VALID);<br>
<br>
Настраивать устройство, передавать и принимать данные в пакетах нужного размера с нужной нам периодичностью мы научились.<br>
Собираем проект и прошиваем в устройство.<br>
Работать, это будет примерно так:<br>
<iframe width="560" height="315" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/tXuZpR0LMZI.html" frameborder="0" allowfullscreen=""></iframe><br>
<br>
Проект поддерживает взаимодействие с утилитой USB HID Demonstrator от ST Microelectronics.<br>
Страница Device capabilities отображает возможности, описанные в Report Descriptor.<br>
Input/Output transfer позволяет вручную поотправлять данные девайсу и посмотреть пакет, который от него приходит.<br>
Graphic view позволяет управлять светодиодами, чекбоксами Led 1, Led 2, настроив соответствующий им Report ID, а также передавать байт ползунком (ReportID=3)<br>
<img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/1a5d76a97741feca055b76b65c7e7e23.png"><br>
<br>
Также я написал маленькую демо-софтинку, которая автоматически определяет подключение к компу и отключение нашего девайса по его VID и PID, отображает статус — подключено/отключено индикатором рядом с чекбоксом Auto Connect<br>
<img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/2485b80a183fdbfd8482aea83a16615c.png"><br>
Радиокнока <b>Send using</b> позволяет выбрать метод отправки данных девайсу.<br>
<b>Report:</b> отображает полученный от девайса пакет побайтно, начиная с ReportID.<br>
Щелкая по светодиодам ниже — управляем светодиодами девайса. Их состояние отображает текущее состояние девайса. Считывается из репорта от девайса.<br>
Перемещая ползунок, мы отправляем Report с ID=3 и значением, соответствующим позиции ползунка. Девайс вернет это значение в 4 байте репорта.<br>
В выпадающем комбобоксе отображаются HID девайсы, найденные в системе и если найден наш девайс, то отображается его название.<br>
<br>
Скачать все, что необходимо, можно на <a href="https://github.com/RavWin/RHIDDemo">GitHub</a>. В составе:<br>
<b>DT</b> — HID Descriptor tool<br>
<b>tstHID-STM32F103</b> — проект для EmBlocks<br>
<b>USB HID Demonstrator</b> — утилита от ST Microelectronics<br>
<b>HIDSTM32.exe</b> — моя демо-софтинка на Delphi аналогичного фукнционала, но не требующая настройки<br>
<br>
Если остались вопросы — пишите в комментариях. Постараюсь ответить. Я постарался не утопить суть в куче мелочей, чтобы сложилось общее понимание. Остальное уже можно понять, изучая проект. Но если вам нужно быстро сделать свое устройство, а лезть в дебри некогда — все, что вам нужно, я описал.<br>
<br>
<b>P.S.</b> По умолчанию при уходе хоста в режим энергосбережения, девайс засыпает вместе с ним, а если подключить девайс к спящему ПК, то он тоже уйдет в слип. Поэтому если мы просто воткнем в девайс блок питания или запитаем от батареи, то работать он не будет, считая, что подключен к спящему ПК (пакетов конфигурации то от БП не придет точно). Я изменил библиотеку так, чтобы устройство работало и при подключении просто БП. Поэтому девайс будет работать как при подключениии к ПК так и автономно. (У меня ушло немало времени, чтобы разобраться с этим.)

      
      <div class="clear"></div>
    </div>

    
  <ul class="tags icon_tag">
      <li><a href="https://habrahabr.ru/search/?q=%5BSTM32%5D&target_type=posts" rel="tag">STM32</a>, </li>
      <li><a href="https://habrahabr.ru/search/?q=%5BUSB-HID%5D&target_type=posts" rel="tag">USB-HID</a>, </li>
      <li><a href="https://habrahabr.ru/search/?q=%5B%D1%81%D0%B2%D1%8F%D0%B7%D1%8C%20%D0%9F%D0%9A-%D0%9C%D0%9A%5D&target_type=posts" rel="tag">связь ПК-МК</a>, </li>
      <li><a href="https://habrahabr.ru/search/?q=%5B%D0%BF%D0%BE%D1%80%D0%B0%20%D0%B7%D0%B0%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D1%8C%20%D1%85%D0%B0%D0%B1%20STM32%5D&target_type=posts" rel="tag">пора заводить хаб STM32</a></li>
  </ul>


      <div class="infopanel_wrapper">
    <ul class="postinfo-panel postinfo-panel_post" id="infopanel_post_208026">

          <li class="postinfo-panel__item">
            <div class="voting-wjt voting-wjt_infopanel js-voting  ">
                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи.">
                  <span>↑</span>
                </button>

              <div class="voting-wjt__counter voting-wjt__counter_positive  js-mark">
                  <span class="voting-wjt__counter-score js-score" title="Общий рейтинг 103: ↑101 и ↓2">+99</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи.">
                  <span>↓</span>
                </button>

            </div>
          </li>

      <li class="postinfo-panel__item">
        <div class="views-count_post" title="Просмотры публикации">97,2k</div>
      </li>

      <li class="postinfo-panel__item">
        <div class="favorite-wjt favorite">
            <button type="button" disabled="" class="favorite-wjt__button favorite-wjt__button_disabled" onclick="return false;" title="Только зарегистрированные пользователи могут добавлять публикации в избранное">
              <span>Добавить в избранное</span>
            </button>
          <span class="favorite-wjt__counter js-favs_count" title="Количество пользователей, добавивших публикацию в избранное">575</span>
        </div>
      </li>




      <!-- шеринг в соцсети -->
        <li class="postinfo-panel__item postinfo-panel__item_socials  postinfo-panel__item_socials_right ">
          <ul class="post-share">
            <li class="post-share__item">
              <a href="https://twitter.com/intent/tweet?text=STM32+%D0%B8+USB-HID+%E2%80%94+%D1%8D%D1%82%D0%BE+%D0%BF%D1%80%D0%BE%D1%81%D1%82%D0%BE+http://habr.ru/p/208026/+via+%40habrahabr+%23habr" class="post-share__item-link twitter" title="Опубликовать ссылку в Twitter" target="_blank"></a>
            </li>
            <li class="post-share__item">
              <a href="https://vk.com/share.php?url=https://habrahabr.ru/post/208026/" class="post-share__item-link vkontakte" title="Опубликовать ссылку во ВКонтакте" onclick="window.open(this.href, &#39;Опубликовать ссылку во Вконтакте&#39;, &#39;width=800,height=300&#39;); return false"></a>
            </li>
            <li class="post-share__item">
              <a href="https://www.facebook.com/sharer/sharer.php?u=https://habrahabr.ru/post/208026/" class="post-share__item-link facebook" title="Опубликовать ссылку в Facebook" onclick="window.open(this.href, &#39;Опубликовать ссылку в Facebook&#39;, &#39;width=640,height=436,toolbar=0,status=0&#39;); return false"></a>
            </li>
            <li class="post-share__item">
              <a href="https://getpocket.com/edit?url=https://habrahabr.ru/post/208026/" target="_blank" class="post-share__item-link pocket" title="Добавить ссылку в Pocket"></a>
            </li>
          </ul>
        </li>

      <!-- кнопка пожаловаться -->
    </ul>
  </div>


        

  <div class="author-info ">
    <a href="https://habrahabr.ru/users/RaJa" class="author-info__image">
        <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb.png" class="author-info__image-pic">
    </a>

    <div class="author-info__desc">
      <div class="author-info__username">
          <a href="https://habrahabr.ru/users/RaJa" class="author-info__name">Andrew Kambaroff</a>
        <a href="https://habrahabr.ru/users/RaJa" class="author-info__nickname">@RaJa</a>

        <div class="karma__widjet voting-wjt voting-wjt_small js-karma  " title="Карма пользователя">


          <div class="voting-wjt__counter voting-wjt__counter_positive">
            <span class="voting-wjt__label">карма</span>
            <span class="voting-wjt__counter-score js-karma_num">167,0</span>
          </div>

        </div>

        <div class="user-rating" title="Рейтинг пользователя">
          <span class="user-rating__label">рейтинг</span>
          <span class="user-rating__value">0,0</span>
        </div>

      </div>

        <div class="author-info__specialization">
          Робототехника, программирование, обучение
        </div>

    </div>
  </div>


  </div>

      </div>
      <div class="utKkEdKo" style="margin-top: 20px;"><iframe src="./STM32 и USB-HID — это просто _ Хабрахабр_files/saved_resource.html" width="100%" height="70" style="display: block !important;visibility: visible !important;"></iframe></div>

        

    <div class="similar-posts">
      <h2 class="similar-posts__title">Похожие публикации</h2>

      <ul class="content-list content-list_posts">
          <li class="content-list__item">
            <div class="post-preview">
              <div class="post-preview__rating">+26</div>
              <div class="post-preview__desc">
                <a class="post-preview__link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;similar_posts&#39;, &#39;common&#39;); }" href="https://habrahabr.ru/post/153571/">Evil USB HID-эмулятор или просто Peensy</a>
                <span class="post-preview__attrs inline-list inline-list_attrs">
                  <span class="inline-list__item views-count">19,2k</span>
                  <span class="inline-list__item favorites-count">126</span>
                  <span class="inline-list__item comments-count">14</span>
                </span>
              </div>
            </div>
          </li>
          <li class="content-list__item">
            <div class="post-preview">
              <div class="post-preview__rating">+56</div>
              <div class="post-preview__desc">
                <a class="post-preview__link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;similar_posts&#39;, &#39;common&#39;); }" href="https://habrahabr.ru/post/116709/">Приобщение к миру USB-устройств на примере микроконтроллеров от Silicon Laboratories</a>
                <span class="post-preview__attrs inline-list inline-list_attrs">
                  <span class="inline-list__item views-count">20,4k</span>
                  <span class="inline-list__item favorites-count">67</span>
                  <span class="inline-list__item comments-count">18</span>
                </span>
              </div>
            </div>
          </li>
          <li class="content-list__item">
            <div class="post-preview">
              <div class="post-preview__rating">+11</div>
              <div class="post-preview__desc">
                <a class="post-preview__link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;similar_posts&#39;, &#39;common&#39;); }" href="https://habrahabr.ru/post/112244/">Android-смартфон превратили в поддельную USB-клавиатуру</a>
                <span class="post-preview__attrs inline-list inline-list_attrs">
                  <span class="inline-list__item views-count">4,5k</span>
                  <span class="inline-list__item favorites-count">7</span>
                  <span class="inline-list__item comments-count">39</span>
                </span>
              </div>
            </div>
          </li>
      </ul>
    </div>


    </div>

    <div class="sidebar_right js-sidebar_right">
          <div class="ktVfZRTlONPj" style="display: block !important; visibility: visible !important;"><a href="http://special.geektimes.ru/hp/360/" target="_blank" style="width: 300px; height: 500px; display: block !important; visibility: visible !important; margin-bottom: 20px; background: url(https://habrastorage.org/files/93e/dac/fcb/93edacfcbf0541b1a04079f7e4d570bb.jpg);"></a>
  </div>


        

  <div class="live-broadcast live-broadcast_habrahabr daily_best_posts float_block" style="width: 300px; opacity: 1;">
    <h2 class="live-broadcast__title">Самое читаемое</h2>
    <div class="live-broadcast__tabs tabs" id="broadcast_tabs_posts">
      <ul class="tabs__menu tabs__menu_posts menu menu_inline">
        <li class="menu__item active"><a href="https://habrahabr.ru/post/208026/#broadcast_posts_now" class="menu__item-tab">Сейчас</a></li>
        <li class="menu__item"><a href="https://habrahabr.ru/post/208026/#broadcast_posts_week" class="menu__item-tab">Неделя</a></li>
        <li class="menu__item"><a href="https://habrahabr.ru/post/208026/#broadcast_posts_month" class="menu__item-tab">Месяц</a></li>
      </ul>

        <div class="tabs__content" id="broadcast_posts_now" style="display: block;">
            <ul class="content-list content-list_comments">
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276593/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Создание архитектуры программы или как проектировать табуретку</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276593/#comments" class="content-list__item-counter icon_comments">3</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/google/blog/275421/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Новые подкасты о профессиональной разработке под Android</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/google/blog/275421/#comments" class="content-list__item-counter icon_comments">1</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276539/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Это будущее</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276539/#comments" class="content-list__item-counter icon_comments">32</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/275729/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Руководство по HTML/CSS/JavaScript</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/275729/#comments" class="content-list__item-counter icon_comments">29</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/itinvest/blog/276545/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">ФБР: Трейдеры хедж-фондов делились инсайдерской информацией в игровом чате Call of Duty</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/itinvest/blog/276545/#comments" class="content-list__item-counter icon_comments">12</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276551/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Процедурно генерируемые карты мира на Unity C#, часть 4 (трафик)</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276551/#comments" class="content-list__item-counter icon_comments">5</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/mailru/blog/276523/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Самая базовая потребность: как мы реализовали DNS-хостинг в «Mail.Ru для бизнеса»</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/mailru/blog/276523/#comments" class="content-list__item-counter icon_comments">76</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/yandex/blog/276035/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">БЭМ-методология: с чего всё начиналось и зачем это всё нужно</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/yandex/blog/276035/#comments" class="content-list__item-counter icon_comments">34</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276557/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Методика создания образов на примере Docker</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276557/#comments" class="content-list__item-counter icon_comments">0</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276575/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Пересылка больших файлов. Автоматическое получение ссылки для скачивания на почту</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276575/#comments" class="content-list__item-counter icon_comments">0</a>
                </li>
            </ul>
        </div>
        <div class="tabs__content" id="broadcast_posts_week" style="display: none;">
            <ul class="content-list content-list_comments">
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276153/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Сколько Google заплатила за потерянный домен google.com</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276153/#comments" class="content-list__item-counter icon_comments">33</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276173/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Практические методы самомотивации программиста</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276173/#comments" class="content-list__item-counter icon_comments">97</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/pt/blog/276459/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Взломать PayPal за 73 секунды</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/pt/blog/276459/#comments" class="content-list__item-counter icon_comments">22</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276249/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Лучшие бесплатные коллекции векторных иконок</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276249/#comments" class="content-list__item-counter icon_comments">20</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276317/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Я не умный, я просто сидел над этим дольше вас</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276317/#comments" class="content-list__item-counter icon_comments">33</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276447/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Как я написал игру за 3 года</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276447/#comments" class="content-list__item-counter icon_comments">59</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276135/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Parse.com закрывается</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276135/#comments" class="content-list__item-counter icon_comments">72</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276141/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Обходим блокировку сайта DPI двумя скриптами</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276141/#comments" class="content-list__item-counter icon_comments">53</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/mailru/blog/276451/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Иван Григоров: «Для топовых багхантеров $25К в месяц — не проблема»</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/mailru/blog/276451/#comments" class="content-list__item-counter icon_comments">17</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276417/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Конец эры глобального CSS</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276417/#comments" class="content-list__item-counter icon_comments">32</a>
                </li>
            </ul>
        </div>
        <div class="tabs__content" id="broadcast_posts_month" style="display: none;">
            <ul class="content-list content-list_comments">
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/272937/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Почему ваш любимый мессенджер должен умереть</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/272937/#comments" class="content-list__item-counter icon_comments">339</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276153/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Сколько Google заплатила за потерянный домен google.com</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276153/#comments" class="content-list__item-counter icon_comments">33</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/infopulse/blog/275951/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Несколько вещей, о которых стоит помнить программисту в возрасте</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/infopulse/blog/275951/#comments" class="content-list__item-counter icon_comments">125</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/275993/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Откуда берутся плохие программисты и в чем их проблема</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/275993/#comments" class="content-list__item-counter icon_comments">135</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/mailru/blog/274855/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Опасное видео: как я нашёл уязвимость в видеохостингах и не умер через 7 дней</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/mailru/blog/274855/#comments" class="content-list__item-counter icon_comments">66</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/1cloud/blog/274735/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Сколько на самом деле стоит гигабайт трафика? (В самом худшем случае)</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/1cloud/blog/274735/#comments" class="content-list__item-counter icon_comments">63</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/274621/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Инструменты для взлома, мелькавшие в сериале Mr Robot</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/274621/#comments" class="content-list__item-counter icon_comments">83</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/275135/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Почему я пишу игры на C (да, на C)</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/275135/#comments" class="content-list__item-counter icon_comments">251</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/dca/blog/274027/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Рекурентная нейронная сеть в 10 строчек кода оценила отзывы зрителей нового эпизода “Звездных войн”</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/dca/blog/274027/#comments" class="content-list__item-counter icon_comments">47</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/275963/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="content-list__item-link">Python и красивые ножки: как я бы знакомил сына с математикой и программированием</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/275963/#comments" class="content-list__item-counter icon_comments">65</a>
                </li>
            </ul>
        </div>
    </div>
  </div>

        


        <div class="ya_banners">
  <div id="yandex_ad"><yatag class="yap-yandex_ad-posterVertical" id="yap-yandex_ad-posterVertical"><yatag class="yap-layout yap-main yap-font-size yap-layout_type_medium yap-type-vertical yap-layout_block_vertical yap-layout_transition_true yap-layout_touch_false yap-layout_block_poster yap-layout_block_poster-vertical"><yatag class="yap-layout__logo yap-logo yap-logo-bg-color"><yatag class="yap-logo-block"><yatag class="yap-logo-block__position yap-logo-position"><a class="yap-logo-block__text yap-logo-text yap-logo-color yap-logo-bg-color" target="_blank" href="https://direct.yandex.ru/?partner">Яндекс.Директ</a></yatag><yatag class="yap-logo-block__arrow yap-logo-arrow"></yatag></yatag></yatag><yatag class="yap-layout__wrapper yap-list-wrapper yap-font-family yap-border-color"><table class="yap-layout__items yap-list"><tbody><tr><td data-id="501281944" class="yap-layout__item yap-item yap-border-color yap-layout__item_nth_1 yap-layout__item_picture_true yap-layout__item_sticky-arrow_"><yatag class="yap-layout__outer"><yatag class="yap-layout__bg "><yatag class="yap-layout__bg-img" style="background-image: url(//avatars-fast.yandex.net/get-direct/K0wPtlaiM1Np0QzQCHZ6Xw/y150)"></yatag></yatag><yatag class="yap-layout__inner yap-item-inner"><yatag class="yap-layout__title"><yatag class="yap-title-block yap-title"><a href="https://an.yandex.ru/count/7S3yPLafP7q40000ZhDqMsi5XP9p99K2cm5kGxS2Am68kp2QyGI9ioEeLmEO__________yFdPou4hhup5jD6FasZ0McJeguIG_U0RszAz8c0ge1fQ33U0Iygvru196teUtU0e-vCzIz29-rz0nx3PEF29bYGeoNcXAsa0iJjPZU3w2UJYIlbveIivtu7hIOtW_PdZGbsf2z7vIQLncdYuUei41PSmUi2AxvwLtedKCMAmMmiXBHZmMn0RAWqW02kPou4hl-llcxG25FRW71__________yFnOyFpRT93zu1phN3_BK2qm5z6m00?test-tag=332420241" target="_blank" class="yap-title-block__text yap-title-text yap-title-font-size yap-title-color yap-title-hover-color">Радиоуправляемые вертолеты</a></yatag><yatag class="yap-layout__title-domain"><a class="yap-domain yap-domain-text" target="_blank" href="https://an.yandex.ru/count/7S3yPLafP7q40000ZhDqMsi5XP9p99K2cm5kGxS2Am68kp2QyGI9ioEeLmEO__________yFdPou4hhup5jD6FasZ0McJeguIG_U0RszAz8c0ge1fQ33U0Iygvru196teUtU0e-vCzIz29-rz0nx3PEF29bYGeoNcXAsa0iJjPZU3w2UJYIlbveIivtu7hIOtW_PdZGbsf2z7vIQLncdYuUei41PSmUi2AxvwLtedKCMAmMmiXBHZmMn0RAWqW02kPou4hl-llcxG25FRW71__________yFnOyFpRT93zu1phN3_BK2qm5z6m00?test-tag=332420241"><img class="yap-favicon" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/rozetka.com.ua" alt="">rozetka.<wbr>com.<wbr>ua</a></yatag><yatag class="yap-layout__arrow"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="11px" height="7px" viewBox="0 0 12 7"><path d="M11,1.4L5.5,7L0,1.4L0.5,0.875L5.5,6L10.5,0.875L11,1.4z"></path></svg></yatag><yatag class="yap-layout__arrow yap-layout__arrow_roll-up"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="11px" height="7px" viewBox="0 0 12 7"><path d="M11,1.4L5.5,7L0,1.4L0.5,0.875L5.5,6L10.5,0.875L11,1.4z"></path></svg></yatag></yatag><yatag class="yap-layout__content"><yatag class="yap-layout__picture " style="background-image: url(//avatars-fast.yandex.net/get-direct/K0wPtlaiM1Np0QzQCHZ6Xw/y150) !important;margin-left: -99.5px !important;margin-top: -71.5px !important;width: 199px !important;height: 150px; !important"></yatag><yatag class="yap-layout__slider" style="min-height: 164px;"><yatag class="yap-layout__slider-inner"><yatag class="yap-layout__body yap-text"><a class="yap-body-text yap-text-color"><wbr>Отличные игрушки для&nbsp;ребенка! Доступная цена, гарантия качества.</a></yatag><yatag class="yap-layout__sitelinks"><yatag class="yap-sitelinks"><a class="yap-sitelinks__link yap-sitelink-text" target="_blank" href="https://an.yandex.ru/count/7S3yPPmMpHu40000ZhDqMsi5XP9p99K2cm5kGxS2Am68kp2QyGI9ioEeLmEO__________yFdPou4hhup5jD6FasZ0McJeguIG_U0RszAz8c0ge6fQ33U0Iygvru196teUtU0e-vCzIz29-rz0nx3PEF29bYGeoNcXAsa0iJjPZU3w2UJYIlbveIivtu7hIOtW_PdZGbsf2z7vIQLncdYuUei41PSmUi2AxvwLtedKCMAmMmiXBHZmMn0RAWqW02kPou4hl-llcxG25FRW71__________yFnOyFpRT93zu1phN3_BK2qm5z6m00?test-tag=332420241">Акции</a><a class="yap-sitelinks__link yap-sitelink-text" target="_blank" href="https://an.yandex.ru/count/7S3yPSqOcPa40000ZhDqMsi5XP9p99K2cm5kGxS2Am68kp2QyGI9ioEeLmEO__________yFdPou4hhup5jD6FasZ0McJeguIG_U0RszAz8c0ge8fQ33U0Iygvru196teUtU0e-vCzIz29-rz0nx3PEF29bYGeoNcXAsa0iJjPZU3w2UJYIlbveIivtu7hIOtW_PdZGbsf2z7vIQLncdYuUei41PSmUi2AxvwLtedKCMAmMmiXBHZmMn0RAWqW02kPou4hl-llcxG25FRW71__________yFnOyFpRT93zu1phN3_BK2qm5z6m00?test-tag=332420241">Гарантия</a><a class="yap-sitelinks__link yap-sitelink-text" target="_blank" href="https://an.yandex.ru/count/7S3yPT31w1W40000ZhDqMsi5XP9p99K2cm5kGxS2Am68kp2QyGI9ioEeLmEO__________yFdPou4hhup5jD6FasZ0McJeguIG_U0RszAz8c0geAfQ33U0Iygvru196teUtU0e-vCzIz29-rz0nx3PEF29bYGeoNcXAsa0iJjPZU3w2UJYIlbveIivtu7hIOtW_PdZGbsf2z7vIQLncdYuUei41PSmUi2AxvwLtedKCMAmMmiXBHZmMn0RAWqW02kPou4hl-llcxG25FRW71__________yFnOyFpRT93zu1phN3_BK2qm5z6m00?test-tag=332420241">Доставка и оплата</a></yatag></yatag></yatag></yatag></yatag><yatag class="yap-layout__adtune"><yatag class="yap-adtune yap-adtune_touch_false yap-adtune_oldie_false"><yatag class="yap-adtune__button yap-adtune-button"><yatag class="yap-adtune__image"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="8px" height="8px" viewBox="0 0 14 14"><polygon points="14,0.7 13.3,0 7,6.299 0.7,0 0,0.7 6.3,7 0,13.299 0.7,14 7,7.7 13.3,14 14,13.299 7.7,7"></polygon></svg></yatag><yatag class="yap-adtune__tooltip"><yatag class="yap-adtune__tooltip-text">Скрыть&nbsp;объявление</yatag></yatag></yatag></yatag></yatag></yatag><yatag class="yap-layout__adtune-message"><yatag class="yap-adtune-message"><table class="yap-adtune-message__table"><tbody><tr><td class="yap-adtune-message__text">Спасибо. Объявление скрыто.</td></tr></tbody></table></yatag></yatag></yatag></td></tr><tr><td data-id="1124046131" class="yap-layout__item yap-item yap-border-color yap-layout__item_nth_2 yap-layout__item_picture_true yap-layout__item_sticky-arrow_"><yatag class="yap-layout__outer"><yatag class="yap-layout__bg "><yatag class="yap-layout__bg-img" style="background-image: url(//avatars-fast.yandex.net/get-direct/gkZJxCP37X1pwaXI-xTYtg/y150)"></yatag></yatag><yatag class="yap-layout__inner yap-item-inner"><yatag class="yap-layout__title"><yatag class="yap-title-block yap-title"><a href="https://an.yandex.ru/count/7S3yPQj2UdW40000ZhDqMsi5XP9p99K2cm5kGxS2Am4oYB9LoOO6YPoj9fZ__________m-TfiDH5Rhup5jD6FasZ0McSegpK_al1Bsv-Saw1Ae1fQxB6GUyhXHT1P6teUtU0e-rUg1S0P-y6zVy2fEF29bYGeohYyyAjgX3FWEre9s_0g2eQoKDhwkBpmgpg9rN0xIWdRy2sQjkmHBQeBJ41ASDgAOdCCYi2AxvwLtedKCMAmMmiXBHZmMn0RAWKW02kQR3KHMx_hxvkq0XJsu1mV__________3yMF3ysqK_al1CwyGn_M1TC1UHm0?test-tag=332420241" target="_blank" class="yap-title-block__text yap-title-text yap-title-font-size yap-title-color yap-title-hover-color">Событие года в программировании!</a></yatag><yatag class="yap-layout__title-domain"><a class="yap-domain yap-domain-text" target="_blank" href="https://an.yandex.ru/count/7S3yPQj2UdW40000ZhDqMsi5XP9p99K2cm5kGxS2Am4oYB9LoOO6YPoj9fZ__________m-TfiDH5Rhup5jD6FasZ0McSegpK_al1Bsv-Saw1Ae1fQxB6GUyhXHT1P6teUtU0e-rUg1S0P-y6zVy2fEF29bYGeohYyyAjgX3FWEre9s_0g2eQoKDhwkBpmgpg9rN0xIWdRy2sQjkmHBQeBJ41ASDgAOdCCYi2AxvwLtedKCMAmMmiXBHZmMn0RAWKW02kQR3KHMx_hxvkq0XJsu1mV__________3yMF3ysqK_al1CwyGn_M1TC1UHm0?test-tag=332420241"><img class="yap-favicon" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/xn--2016-43dr0b5aaqkmcsp.xn--p1ai" alt="">программист2016.<wbr>рф</a></yatag><yatag class="yap-layout__arrow"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="11px" height="7px" viewBox="0 0 12 7"><path d="M11,1.4L5.5,7L0,1.4L0.5,0.875L5.5,6L10.5,0.875L11,1.4z"></path></svg></yatag><yatag class="yap-layout__arrow yap-layout__arrow_roll-up"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="11px" height="7px" viewBox="0 0 12 7"><path d="M11,1.4L5.5,7L0,1.4L0.5,0.875L5.5,6L10.5,0.875L11,1.4z"></path></svg></yatag></yatag><yatag class="yap-layout__content"><yatag class="yap-layout__picture " style="background-image: url(//avatars-fast.yandex.net/get-direct/gkZJxCP37X1pwaXI-xTYtg/y150) !important;margin-left: -75.5px !important;margin-top: -71.5px !important;width: 151px !important;height: 150px; !important"></yatag><yatag class="yap-layout__slider" style="min-height: 164px;"><yatag class="yap-layout__slider-inner"><yatag class="yap-layout__body yap-text"><a class="yap-body-text yap-text-color"><wbr>Марафон бесплатных уроков по программированию! 16 часов занятий! Сертификат</a></yatag></yatag></yatag></yatag><yatag class="yap-layout__adtune"><yatag class="yap-adtune yap-adtune_touch_false yap-adtune_oldie_false"><yatag class="yap-adtune__button yap-adtune-button"><yatag class="yap-adtune__image"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="8px" height="8px" viewBox="0 0 14 14"><polygon points="14,0.7 13.3,0 7,6.299 0.7,0 0,0.7 6.3,7 0,13.299 0.7,14 7,7.7 13.3,14 14,13.299 7.7,7"></polygon></svg></yatag><yatag class="yap-adtune__tooltip"><yatag class="yap-adtune__tooltip-text">Скрыть&nbsp;объявление</yatag></yatag></yatag></yatag></yatag></yatag><yatag class="yap-layout__adtune-message"><yatag class="yap-adtune-message"><table class="yap-adtune-message__table"><tbody><tr><td class="yap-adtune-message__text">Спасибо. Объявление скрыто.</td></tr></tbody></table></yatag></yatag></yatag></td></tr></tbody></table></yatag></yatag></yatag></div>
  <script type="text/javascript">

    $('.js-sidebar_right').ready(function(){
      var contentAreaHeight = $('.js-content_left').outerHeight(true);
      var sidebarAreaHeight = $('.js-sidebar_right').outerHeight(true) + 125;
      var sidebarAreaHeight2 = sidebarAreaHeight + 250;

      if ( contentAreaHeight > sidebarAreaHeight2 ) {
        (function(w, d, n, s, t) {
          w[n] = w[n] || [];
          w[n].push(function() {
            Ya.Direct.insertInto(149298, "yandex_ad", {
              ad_format: "direct",
              font_family: "verdana",
              type: "posterVertical",
              border_type: "block",
              limit: 2,
              title_font_size: 3,
              border_radius: true,
              links_underline: false,
              site_bg_color: "FFFFFF",
              border_color: "FBE5C0",
              title_color: "0066CC",
              url_color: "006600",
              text_color: "000000",
              hover_color: "0066FF",
              sitelinks_color: "0066CC",
              favicon: true,
              no_sitelinks: false
            });
          });
          t = d.getElementsByTagName("script")[0];
          s = d.createElement("script");
          s.src = "//an.yandex.ru/system/context.js";
          s.type = "text/javascript";
          s.async = true;
          t.parentNode.insertBefore(s, t);
        })(window, document, "yandex_context_callbacks");
      }else if (contentAreaHeight > sidebarAreaHeight){
        (function(w, d, n, s, t) {
          w[n] = w[n] || [];
          w[n].push(function() {
            Ya.Direct.insertInto(149298, "yandex_ad", {
              ad_format: "direct",
              font_family: "verdana",
              type: "posterVertical",
              border_type: "block",
              limit: 1,
              title_font_size: 3,
              border_radius: true,
              links_underline: false,
              site_bg_color: "FFFFFF",
              border_color: "FBE5C0",
              title_color: "0066CC",
              url_color: "006600",
              text_color: "000000",
              hover_color: "0066FF",
              sitelinks_color: "0066CC",
              favicon: true,
              no_sitelinks: false
            });
          });
          t = d.getElementsByTagName("script")[0];
          s = d.createElement("script");
          s.src = "//an.yandex.ru/system/context.js";
          s.type = "text/javascript";
          s.async = true;
          t.parentNode.insertBefore(s, t);
        })(window, document, "yandex_context_callbacks");
      }
    });
  </script>
</div>


        
        
        
    </div>
  </div>

  <div class="column-wrapper column-wrapper_comments">
    <div class="content_left">
            <div class="comments_list " id="comments">

        <h2 class="title ">Комментарии (<span id="comments_count">101</span>)
            

        </h2>

        

              <div class="comment_item" id="comment_8709831">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709831">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/BOOTor/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_lilac"></span>
          </a>
          <a href="https://habrahabr.ru/users/BOOTor/" class="comment-item__username">BOOTor</a>
          <time class="comment-item__time_published"> 3 января 2014 в 01:57</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709831" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709831" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 3: ↑3 и ↓0">+3</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Наконец-то! Спасибо большое!!!
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709831">
        <div class="comment_item" id="comment_8709833">
  
    <span class="parent_id" data-parent_id="8709831"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709833">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 02:04</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709833" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709833" data-parent_id="8709831" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709831" class="icon_comment-parent js-comment_parent" data-id="8709833" data-parent_id="8709831" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709833" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Да все никак времени не было. На статью ушло больше 4 часов плюс сам проект подготовить к публикации.<br>
Надеюсь будет полезна.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709833">
      
    </div>
  </div>

    </div>
  </div>

              <div class="comment_item" id="comment_8709835">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709835">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/mitko/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/5d63ac0e6dea74ff72fca696ad2de10f_small.jpg" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/mitko/" class="comment-item__username">mitko</a>
          <time class="comment-item__time_published"> 3 января 2014 в 02:16</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709835" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709835" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 2: ↑1 и ↓1">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Лучше уж тогда в TCP сразу
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709835">
        <div class="comment_item" id="comment_8709837">
  
    <span class="parent_id" data-parent_id="8709835"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709837">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 02:20</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709837" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709837" data-parent_id="8709835" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709835" class="icon_comment-parent js-comment_parent" data-id="8709837" data-parent_id="8709835" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709837" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Если вы об Ethernet функционале, то его в STM32F103 нет.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709837">
        <div class="comment_item" id="comment_8709839">
  
    <span class="parent_id" data-parent_id="8709837"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709839">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/mitko/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/5d63ac0e6dea74ff72fca696ad2de10f_small.jpg" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/mitko/" class="comment-item__username">mitko</a>
          <time class="comment-item__time_published"> 3 января 2014 в 02:23</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709839" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709839" data-parent_id="8709837" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709837" class="icon_comment-parent js-comment_parent" data-id="8709839" data-parent_id="8709837" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709839" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Ну понятное дело, просто мы в свое время долго с разными такими конвертерами возились и в итоге отошли в пользу Serial-IP конвертеров, как наиболее стабильных и предсказуемых. 
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709839">
        <div class="comment_item" id="comment_8709841">
  
    <span class="parent_id" data-parent_id="8709839"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709841">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 02:31</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709841" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709841" data-parent_id="8709839" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709839" class="icon_comment-parent js-comment_parent" data-id="8709841" data-parent_id="8709839" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709841" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 3: ↑3 и ↓0">+3</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          есть у меня такой. Еще не возился с ним. Но я говорю в статье об элегантном способе взаимодействия с ПК. Без дополнительных микросхем, конвертеров и лишних задержек. Максимально нативный интерфейс для современного компьютера. К тому же МК с поддержкой USB экстремально дешевы. <br>
TCP/IP нельзя назвать ни простым ни дешевым ни быстрым протоколом. Особенно в вариации со всякими промежуточными конвертерами.<br>
Для специфических случаев, когда нужно передавать данные удаленно — это то, что нужно. А при локальном подключении — удобнее USB. Никакой возни с сетевыми адресами, все прозрачно и автоматически. Для пользователя — жутко удобно. А для промышленного применения вообще лучше CAN. Но там без CAN трансивера не обойтись.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709841">
        <div class="comment_item" id="comment_8709849">
  
    <span class="parent_id" data-parent_id="8709841"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709849">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/buratino/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/e4dbe084e741f0d59a8040c000065c0b_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/buratino/" class="comment-item__username">buratino</a>
          <time class="comment-item__time_published"> 3 января 2014 в 14:10</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709849" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709849" data-parent_id="8709841" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709841" class="icon_comment-parent js-comment_parent" data-id="8709849" data-parent_id="8709841" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709849" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          &gt;TCP/IP нельзя назвать ни простым ни дешевым ни быстрым протоколом.<br>
<br>
На фоне изначального посыла о том, как хорош COM-порт это несколько слишком сильное заявление.<br>
<br>
Как и утверждение о том, что " для промышленного применения вообще лучше CAN". <br>
<br>
Ну и с локальным подключением не все так розово и пушисто. 3 метра или 5 метров — это локально или уже удалённо?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709849">
        <div class="comment_item" id="comment_8709851">
  
    <span class="parent_id" data-parent_id="8709849"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709851">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 14:21</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709851" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709851" data-parent_id="8709849" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709849" class="icon_comment-parent js-comment_parent" data-id="8709851" data-parent_id="8709849" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709851" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Я не говорил, что COM порт хорош. я говорю о том, что у него много приверженцев. Ну нравится он людям, что тут поделать. Я не очень любли потоки. Предпочитаю пакеты. Но у меня для этого свои причны.<br>
&gt;3 метра или 5 метров — это локально или уже удалённо?<br>
Тут все определяется стандартами. 5 метров для USB — допустимо, но кабель нужно очень качественный. Да и питание по нему подавать уже нежелательно. Вообще же граничные случаи на то и граничные, чтобы рассматривать их более внимательно и с учетом остальных факторов.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709851">
        <div class="comment_item" id="comment_8709853">
  
    <span class="parent_id" data-parent_id="8709851"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709853">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/buratino/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/e4dbe084e741f0d59a8040c000065c0b_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/buratino/" class="comment-item__username">buratino</a>
          <time class="comment-item__time_published"> 3 января 2014 в 14:59</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709853" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709853" data-parent_id="8709851" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709851" class="icon_comment-parent js-comment_parent" data-id="8709853" data-parent_id="8709851" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709853" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Ну, у вас пост начинается с COM-порта и кабеля USB-to-COM… кстати, неработающего (это который блестючий), так что дальше невольно про COM помнишь…<br>
<br>
&gt;Ну нравится он людям, что тут поделать. Я не очень любли потоки. Предпочитаю пакеты.<br>
а какие проблемы обмениваться пакетами по COM/UART? Я, честно говоря, тезиса «потоки vs пакеты» не понимаю.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709853">
        <div class="comment_item" id="comment_8709859">
  
    <span class="parent_id" data-parent_id="8709853"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709859">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/dzhe/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_blue"></span>
          </a>
          <a href="https://habrahabr.ru/users/dzhe/" class="comment-item__username">dzhe</a>
          <time class="comment-item__time_published"> 3 января 2014 в 15:22</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709859" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709859" data-parent_id="8709853" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709853" class="icon_comment-parent js-comment_parent" data-id="8709859" data-parent_id="8709853" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709859" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Если я правильно понял автора, то он имеет в виду под «потоком» тот (довольно неприятный) факт, что из последовательного порта данные считываются в режиме «байт за байтом» в, условно говоря, бесконечном цикле. И проверка «пришел ли уже весь пакет данных или дальше ждать?» осуществляется в момент приема каждой порции. И порция может содержать данные и для двух (или более) пакетов, и надо реально байт за байтом в ней рыться…<br>
<br>
А в случае пакетной передачи по USB ресивер просто получает сообщение «пакет пришел целиком».
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709859">
        <div class="comment_item" id="comment_8709865">
  
    <span class="parent_id" data-parent_id="8709859"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709865">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 15:25<span class="comment-item__time_changed"> (комментарий был изменён)</span></time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709865" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709865" data-parent_id="8709859" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709859" class="icon_comment-parent js-comment_parent" data-id="8709865" data-parent_id="8709859" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709865" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 2: ↑2 и ↓0">+2</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Именно так. Это очень существенный недостаток потоков. Бесконечный цикл не обязателен — есть прерывания. Но это никак не упрощает задачу.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709865">
      
    </div>
  </div>
  <div class="comment_item" id="comment_8709867">
  
    <span class="parent_id" data-parent_id="8709859"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709867">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/buratino/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/e4dbe084e741f0d59a8040c000065c0b_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/buratino/" class="comment-item__username">buratino</a>
          <time class="comment-item__time_published"> 3 января 2014 в 15:45</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709867" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709867" data-parent_id="8709859" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709859" class="icon_comment-parent js-comment_parent" data-id="8709867" data-parent_id="8709859" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709867" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          &gt; И порция может содержать данные и для двух (или более) пакетов<br>
<br>
позвольте, такая фигня происходит только в том экзотическом случае, когда наши люди вешают на один COM-порт несколько устройств, или в еще более экзотическом случае, когда «с другой стороны» вешают многозадачный PC с необсемафоренным обменом.<br>
А во всех остальных случаях — создать пакет с заголовком, длиной, данными и контрольной суммой — плевое дело. А если участь аппаратные буферы на 16 байт и в PC и в МК и буфер драйвера в PC, да смешные по нынешним временам скорости обмена…
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709867">
      
    </div>
  </div>

    </div>
  </div>
  <div class="comment_item" id="comment_8709861">
  
    <span class="parent_id" data-parent_id="8709853"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709861">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 15:22<span class="comment-item__time_changed"> (комментарий был изменён)</span></time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709861" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709861" data-parent_id="8709853" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709853" class="icon_comment-parent js-comment_parent" data-id="8709861" data-parent_id="8709853" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709861" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Выявление в потоке пакета — это дополнительная задача, требующая буферизации, выявления начала и конца пакета, проверки на целостность, введения доп. символов в поток для надежного определения заголовка. Все это надо программировать, это ест ОЗУ, ресурсы МК и время программиста. Если вы всего этого не делаете — обмен нельзя считать надежным. Пакетный обмен в USB все это делает прозрачно для программиста. Все данные уже разложены по нужны полям пакета, просто рассматриваешь полученный пакет как struct. Это ОЧЕНЬ удобно. При отправке то же самое — достаточно записать данные в поля структуры простым присваиванием и отправить буфер одной командой. Об остальном позаботится модуль USB. Причем буферы у него аппаратные.<br>
Если вам это непонятно, то либо вы не делаете всего этого, что вообще-то странно, либо вам нравится каждый раз изобретать велосипед.<br>
При работе с пакетами переменной длины в потоке нужно вводить какие-то идентификаторы длины пакета, выяснять считан ли весь пакет, не пропали ли байты и т.п.<br>
При работе же с пакетами в USB достаточно определить какие поля нужны и какого размера. Это вся подготовка к работе.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709861">
        <div class="comment_item" id="comment_8709871">
  
    <span class="parent_id" data-parent_id="8709861"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709871">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/buratino/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/e4dbe084e741f0d59a8040c000065c0b_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/buratino/" class="comment-item__username">buratino</a>
          <time class="comment-item__time_published"> 3 января 2014 в 16:05</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709871" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709871" data-parent_id="8709861" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709861" class="icon_comment-parent js-comment_parent" data-id="8709871" data-parent_id="8709861" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709871" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          &gt;Выявление в потоке пакета — это дополнительная задача, требующая буферизации, выявления начала и конца пакета,<br>
очень сложная задача, ага.<br>
<br>
Сколько лет функции gets(), напомнить? <br>
 — Нет, я конечно понимаю, что вы имеете ввиду случай, когда много устройств сидят на одной шине, но это не случай COM/UART в стандартном виде. <br>
<br>
&gt; Все это надо программировать, это ест ОЗУ, ресурсы МК и время программиста. <br>
насчет ресурсов и ОЗУ в МК — ровно наоборот, достаточно собрать пример «хеллоу ворлд» для UART и для USB.<br>
<br>
&gt;USB. Причем буферы у него аппаратные.<br>
вы не поверите, у UARTов тоже
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709871">
        <div class="comment_item" id="comment_8709877">
  
    <span class="parent_id" data-parent_id="8709871"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709877">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 16:14<span class="comment-item__time_changed"> (комментарий был изменён)</span></time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709877" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709877" data-parent_id="8709871" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709871" class="icon_comment-parent js-comment_parent" data-id="8709877" data-parent_id="8709871" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709877" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Нет, вы не понимаете. Речь вовсе не о том, что несколько устройств на одной шине.<br>
Кроме того — текстовый протокол в обмене между устройствами я считаю глупостью. Я его все равно читать не буду, а для девайса экономнее и быстрее использовать двоичный протокол.<br>
Большинство проектов для МК вообще не включают реализацию обработки строк. Если от устройства не требуется выводить текст для человека, то это лишний расход ОЗУ, flash памяти и процессорного времени.<br>
К тому же алгоритм обработки текста всегда более неуклюж чем для бинарных данных. <br>
Я никого не призываю поступать именно так. Нравится вам заниматься половину времени над проектом всякой посторонней работой, не влияющей на результат — на здоровье, пишите протоколы и обработку потоков.<br>
Я их уже написал для себя, но все равно использовать не люблю — родная поддержка пакетного обмена куда как элегантнее. Точно так же как не люблю дрыганье ножками для реализации протоколов типа SPI, I2C, и программный UART. У них всегда есть неудобства и программные ограничения, которые рано или поздно вылезают боком.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709877">
        <div class="comment_item" id="comment_8709881">
  
    <span class="parent_id" data-parent_id="8709877"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709881">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/dzhe/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_blue"></span>
          </a>
          <a href="https://habrahabr.ru/users/dzhe/" class="comment-item__username">dzhe</a>
          <time class="comment-item__time_published"> 3 января 2014 в 16:21</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709881" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709881" data-parent_id="8709877" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709877" class="icon_comment-parent js-comment_parent" data-id="8709881" data-parent_id="8709877" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709881" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Правильно ли я понимаю, что в случае пакетного подхода в USB HID размер пакета строго фиксирован?<br>
<br>
Но ведь тогда, справедливости ради, и через последовательный порт при использовании фиксированного размера пакетов данные читать не сильно сложнее. Зато вот сделать пакет произвольного размера в случае USB HID не получится, в отличие от…
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709881">
        <div class="comment_item" id="comment_8709885">
  
    <span class="parent_id" data-parent_id="8709881"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709885">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 17:07</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709885" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709885" data-parent_id="8709881" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709881" class="icon_comment-parent js-comment_parent" data-id="8709885" data-parent_id="8709881" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709885" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Пакета с конкретным ID да, но идентификаторов может быть сотни, на каждый тип используемого пакета. А можете задать пакет максимального используемого размера сделать поле с идентификатором своего типа пакета, который позволит рассматривать его как нужного формата структуру.<br>
При использовании последовательного порта — сильно сложнее. Вообще говоря программа нелинейная, поэтому по приходу каждого байта нужно анализировать не только его, но и байты до него, уже находящиеся в буфере, а также вводить машину состояний — принимаем пакет, ждем пакет, ждем поле длины пакета, ждем контрольную сумму, ой, пропустили из-за того, что кабель выдрали и снова вставили или питание девайса моргнуло и теперь мы принимаем с середины пакета. Я в свое время занимался разработкой системы телеметрии и телеуправления Ташметрополитена и у меня было 13 географически распределенных стоек с оборудованием, связанных модемами USRCourier. Кабельные линиии были не лучшего качества, помехи, возможные потери байт, а тайминг на весь цикл опроса станций и ответа — не более 4с. Вместе с повторами.<br>
Сейчас такое легко встречается при наличии помех по питанию, наводок от моторов рядом (управление станком ЧПУ, например) и т.п. <br>
В академическом случае на столе все работает хорошо. Но протокол должен быть надежным и если часть этой работы можно выполнить аппаратно, лучше делать ее аппаратно. К тому же это проще и удобнее.<br>
Кстати, комментарии для того и нужны, чтобы учиться друг у друга и обсуждать.<br>
Если можете посоветовать набор библитек для пакетной связи через COM порт для Delphi + C/C++ на ПК + С/С++ на МК, чтобы обмен был бинарным, с задаваемым размером пакета и передать было достаточно указатель на буфер и размера буфера, остальное библиотека должна сделать сама. По приему пакета она должна вызвать мою функцию для обработки принятого пакета. Если будут функции, сигнализирующие об ошибках на линии — отлично.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709885">
        <div class="comment_item" id="comment_8709889">
  
    <span class="parent_id" data-parent_id="8709885"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709889">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/dzhe/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_blue"></span>
          </a>
          <a href="https://habrahabr.ru/users/dzhe/" class="comment-item__username">dzhe</a>
          <time class="comment-item__time_published"> 3 января 2014 в 17:27</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709889" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709889" data-parent_id="8709885" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709885" class="icon_comment-parent js-comment_parent" data-id="8709889" data-parent_id="8709885" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709889" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Увы, готовую библиотеку порекомендовать не могу. В тех проектах, где я данные через последовательный порт читал, логику на стороне хоста сам реализовывал (обычно — в отдельном треде, в последнее время — с помощью Qt и механизма сигналов/слотов). А на стороне MK другие люди данные готовили, уж и не знаю, как именно…
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709889">
        <div class="comment_item" id="comment_8709891">
  
    <span class="parent_id" data-parent_id="8709889"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709891">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 17:57<span class="comment-item__time_changed"> (комментарий был изменён)</span></time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709891" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709891" data-parent_id="8709889" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709889" class="icon_comment-parent js-comment_parent" data-id="8709891" data-parent_id="8709889" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709891" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Вот именно, так обычно и бывает :) Библиотек много, а один фиг — вручную велосипедить.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709891">
      
    </div>
  </div>

    </div>
  </div>
  <div class="comment_item" id="comment_8709895">
  
    <span class="parent_id" data-parent_id="8709885"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709895">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/dtestyk/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_lilac"></span>
          </a>
          <a href="https://habrahabr.ru/users/dtestyk/" class="comment-item__username">dtestyk</a>
          <time class="comment-item__time_published"> 3 января 2014 в 22:10</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709895" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709895" data-parent_id="8709885" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709885" class="icon_comment-parent js-comment_parent" data-id="8709895" data-parent_id="8709885" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709895" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Возможно, вам будет интересен протокол <a href="http://ru.wikipedia.org/wiki/Modbus">Modbus</a> RTU.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709895">
        <div class="comment_item" id="comment_8709897">
  
    <span class="parent_id" data-parent_id="8709895"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709897">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 22:22</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709897" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709897" data-parent_id="8709895" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709895" class="icon_comment-parent js-comment_parent" data-id="8709897" data-parent_id="8709895" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709897" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Да, смотрел его. На мой взгляд его реализация немного геморройная — нужно мерять таймауты между символами, значит нужно кроме UART задействовать еще и таймер. А со стороны ПК вообще нет поддержки ни ModBus ни RS485. Поэтому применение — только в сети МК.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709897">
      
    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>
  <div class="comment_item" id="comment_8709883">
  
    <span class="parent_id" data-parent_id="8709877"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709883">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/buratino/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/e4dbe084e741f0d59a8040c000065c0b_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/buratino/" class="comment-item__username">buratino</a>
          <time class="comment-item__time_published"> 3 января 2014 в 16:36<span class="comment-item__time_changed"> (комментарий был изменён)</span></time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709883" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709883" data-parent_id="8709877" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709877" class="icon_comment-parent js-comment_parent" data-id="8709883" data-parent_id="8709877" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709883" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          ???<br>
<br>
&gt;Кроме того — текстовый протокол в обмене между устройствами я считаю глупостью. <br>
<br>
Еще со времен модемов 1200 бод ээээ… дай бог памяти без MNP никаких проблем с нетекстовым обеном не было.<br>
<br>
&gt;Большинство проектов для МК вообще не включают реализацию обработки строк. Если от устройства не требуется выводить текст для человека, то это лишний расход ОЗУ, flash памяти и процессорного времени<br>
<br>
еще раз повторю — вопрос расхда памятей решается сборкой проекта с использованием и неиспользованием и USB<br>
<br>
&gt;Точно так же как не люблю дрыганье ножками для реализации протоколов типа SPI, I2C, и программный UART. У них всегда есть неудобства и программные ограничения, которые рано или поздно вылезают боком. <br>
<br>
оно давно уже аппаратное, в том же вашем STM32F103C8
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709883">
        <div class="comment_item" id="comment_8709887">
  
    <span class="parent_id" data-parent_id="8709883"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709887">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 17:09<span class="comment-item__time_changed"> (комментарий был изменён)</span></time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709887" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709887" data-parent_id="8709883" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709883" class="icon_comment-parent js-comment_parent" data-id="8709887" data-parent_id="8709883" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709887" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Именно, поэтому и работа в пакетном режиме должна быть аппаратной, раз такая возможность есть. Если бы был модуль, который реализует всю грязную работу по пакетному обмену — я бы им пользовался. Для CAN и USB это делается средствами периферии аппаратно.<br>
Вообще я предвидел, что основной спор будет на тему — UART vs HID :) типа «чем вам не угодил простой UART».<br>
Так вот — каждый пользуется тем, что ему больше нравится. Я люблю комфорт и функциональность. Всем, кому это интересно, я предложил попробовать с минимальными усилиями. Если вам не нужно — пользуйтесь UART
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709887">
        <div class="comment_item" id="comment_8709893">
  
    <span class="parent_id" data-parent_id="8709887"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709893">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/buratino/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/e4dbe084e741f0d59a8040c000065c0b_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/buratino/" class="comment-item__username">buratino</a>
          <time class="comment-item__time_published"> 3 января 2014 в 18:24</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709893" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709893" data-parent_id="8709887" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709887" class="icon_comment-parent js-comment_parent" data-id="8709893" data-parent_id="8709887" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709893" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          &gt;Вообще я предвидел, что основной спор будет на тему — UART vs HID :) типа «чем вам не угодил простой UART».<br>
<br>
А чего тут спорить? Ваши возражения против UART, (как и Ethernet) несколько не соответствуют реальности. Только и всего. Совершенно не в плане религиозных войн. <br>
Всякий интерфейс имеет свою область применимости. Вот у меня, например, в одном из проектов после дрыгания одной ногой через 6 мкс я с другой ноги считываю 10 байт, причем обе ноги — оптоизолированные. Могу ли я сделать что-то аналогичное с USB? Очевидно, что не могу, хотя бы потому что для USB задействовано больше ног ;-)
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709893">
        <div class="comment_item" id="comment_8709899">
  
    <span class="parent_id" data-parent_id="8709893"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709899">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 22:24</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709899" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709899" data-parent_id="8709893" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709893" class="icon_comment-parent js-comment_parent" data-id="8709899" data-parent_id="8709893" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709899" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          А причем тут USB? Ну получили вы свои 10 байт, а данные ПК как отдать? вот тут придет очередь USB. Пакуем их в пакет и отправляем. Если надо, предварительно обрабатываем. Для того МК и нужен.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709899">
        <div class="comment_item" id="comment_8709901">
  
    <span class="parent_id" data-parent_id="8709899"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709901">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/buratino/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/e4dbe084e741f0d59a8040c000065c0b_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/buratino/" class="comment-item__username">buratino</a>
          <time class="comment-item__time_published"> 3 января 2014 в 22:41</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709901" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709901" data-parent_id="8709899" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709899" class="icon_comment-parent js-comment_parent" data-id="8709901" data-parent_id="8709899" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709901" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Не, USB не наш выбор ;-)<br>
Или тот же ЦОМ-Порт, ибо так исторически сложилось, или эзернеты. <br>
По крайней мере для околопромышленного применения, где видео не надо передавать, а вот думателем думать надо достаточно серьёзно и поэтому полученные за 6 мкс 10 байт никуда передавать не нужно, а вот всякие опторазвязки от напряжений и наводок очень сильно желательно.<br>
<br>
Опять-таки — не в порядке религиозных войн, а только обмена опытом<br>
<br>

        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709901">
      
    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>
  <div class="comment_item" id="comment_8709857">
  
    <span class="parent_id" data-parent_id="8709841"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709857">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Gorthauer87/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/4833cc24b09e586af2d23ecebc59b7cd_small.jpg" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/Gorthauer87/" class="comment-item__username">Gorthauer87</a>
          <time class="comment-item__time_published"> 3 января 2014 в 15:21</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709857" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709857" data-parent_id="8709841" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709841" class="icon_comment-parent js-comment_parent" data-id="8709857" data-parent_id="8709841" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709857" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Завязались в свое время на ethernet и в процессе отладки я попробовал через wifi цепляться к контроллеру, оказалось в целом жутко удобно и главное, что пропускной способности хватает и расстояние до девайса может быть значительным.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709857">
      
    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

              <div class="comment_item" id="comment_8709843">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709843">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Fen1xL/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_pink"></span>
          </a>
          <a href="https://habrahabr.ru/users/Fen1xL/" class="comment-item__username">Fen1xL</a>
          <time class="comment-item__time_published"> 3 января 2014 в 12:34</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709843" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709843" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Я вот почитываю всякие статьи, обычно дело заканчивается классом HID. Вот задумался над классом CDC, в частности виртуальным COM-портом. Причем главным требованием является работа без использования сторонних драйверов, сейчас на винде писать свой драйвер геморрой (требуется подпись). Может кто-нибудь даст ссылочку на реализацию CDC класса виртуального COM-порта с использованием стандартного драйвера usbser.sys? Или объяснит, что с HID классом работать проще и удобней?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709843">
        <div class="comment_item" id="comment_8709845">
  
    <span class="parent_id" data-parent_id="8709843"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709845">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 13:11<span class="comment-item__time_changed"> (комментарий был изменён)</span></time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709845" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709845" data-parent_id="8709843" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709843" class="icon_comment-parent js-comment_parent" data-id="8709845" data-parent_id="8709843" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709845" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 2: ↑2 и ↓0">+2</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Виртуальный комп порт имеет недостаток — он работает в таком же пакетном режиме, а не в потоковом, как реальный COM порт, соответсвенно те же скорости и задержки. Но ко всему прочему потребует драйвер скорее всего. Под стандартный драйвер не видел реализаций. <br>
На мой взгляд с HID работать гораздо приятнее и удобнее — никаких номеров портов, каждый девайс можно автоматически подцеплять при подключении к компу. Не нужно сканить порты на появление и исчезновение, не нужно пытаться аккуратно закрыть порт при отключении девайса. Можно подключать столько прог к одному девайсу, сколько нужно. Девайс сам поставляет данные по мере их наличия (прерываниями заниматся USB шина) а не приходится опрашивать по таймеру, в итоге получается, что софтина на ПК занята только обработкой полезных данных и ровно тогда, когда они появляются, а не по таймеру, пытаясь угадать как же часто нужно опрашивать устройство, чтобы скорость реакции была приличная и нагрузка не слишком возросла.<br>
На мой взгляд для связи ПК-МК последовательный порт крайне редко бывает оправдан.<br>
Поэтому я никак не могу понять этой инерции мышления — любой интерфейс превращать в убогую трубу с байтами, даже когда возможностей куда больше.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709845">
        <div class="comment_item" id="comment_8709847">
  
    <span class="parent_id" data-parent_id="8709845"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709847">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Fen1xL/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_pink"></span>
          </a>
          <a href="https://habrahabr.ru/users/Fen1xL/" class="comment-item__username">Fen1xL</a>
          <time class="comment-item__time_published"> 3 января 2014 в 13:42</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709847" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709847" data-parent_id="8709845" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709845" class="icon_comment-parent js-comment_parent" data-id="8709847" data-parent_id="8709845" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709847" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Здесь вопрос стоит так: как получить максимальную пропускную способность, при использовании стандартных USB драйверов Windows.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709847">
        <div class="comment_item" id="comment_8709935">
  
    <span class="parent_id" data-parent_id="8709847"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709935">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/WebConn/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/33b76c51f4690af500b58f52b6c38eba_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/WebConn/" class="comment-item__username">WebConn</a>
          <time class="comment-item__time_published">17 января 2014 в 00:20</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709935" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709935" data-parent_id="8709847" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709847" class="icon_comment-parent js-comment_parent" data-id="8709935" data-parent_id="8709847" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709935" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          К слову, (реальная) максимальная пропускная способность USB куда выше, чем у UART (тот же STM32F103, если не ошибаюсь, максимально разгоняет USART до 8 мегабит, и то, вряд ли терминал ПК протащит такую скорость, и провод нужно очень короткий и экранированный). Для USB гораздо меньше проблем в этом плане (хотя и STM32 не будет работать в High-speed, Full-speed с потолком в 12 Мб/с он протащит без особых проблем). Только это уже не HID-устройство будет, как автор сказал, а несколько другое.<br>
<br>
Как мне кажется, UART очень хорошо использовать внутрисхемно (для соединения нескольких чипов) и для соединения с ПК какого-нибудь простого контроллера (типа AVR; хотя туда есть программный V-USB, не всегда разумно его использовать). Где можно использовать USB — почему бы и нет? Вопрос только в том, насколько часто ваше устройство должно связываться с ПК (мне очень часто приходится делать устройства, которые после однократной настройки по тому же UART уходят в «свободное плавание», там городить USB-стек смысла не вижу).
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709935">
        <div class="comment_item" id="comment_8709937">
  
    <span class="parent_id" data-parent_id="8709935"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709937">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Alexeyslav/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/1800b87521990674dc8611d2e50e4735_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/Alexeyslav/" class="comment-item__username">Alexeyslav</a>
          <time class="comment-item__time_published">17 января 2014 в 17:55</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709937" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709937" data-parent_id="8709935" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709935" class="icon_comment-parent js-comment_parent" data-id="8709937" data-parent_id="8709935" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709937" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          A USB это все тот же UART только с одним финтом — применено специальное кодирование чтобы снизить частоту на шине в двое по сравнению с тем же UART при аналогичной битовой скорости. Проблема классического UART лишь в том что источник тактовых импульсов для него должен быть в 8-16 раз больше скорости передачи, естественно эта частота берется с тактовых импульсов контроллера.<br>
Ну и узкое место — это линия передачи если приделать к UART драйвер симметричной линии, то расстояние передачи будет таким же как у USB на аналогичной скорости. Просто USB это дальнейшее развитие UART на которое навешали столько наворотов, что он уже сам на себя не похож и это только в аппаратной части.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709937">
      
    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

              <div class="comment_item" id="comment_8709855">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709855">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Gorthauer87/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/4833cc24b09e586af2d23ecebc59b7cd_small.jpg" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/Gorthauer87/" class="comment-item__username">Gorthauer87</a>
          <time class="comment-item__time_published"> 3 января 2014 в 15:18</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709855" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709855" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          А еще COM порт не дает нужных показателей скорости. Кстати, а как там дела у usb-hid? Или в случае необходимости большой пропускной способности только ethernet остается?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709855">
        <div class="comment_item" id="comment_8709863">
  
    <span class="parent_id" data-parent_id="8709855"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709863">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 15:25</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709863" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709863" data-parent_id="8709855" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709855" class="icon_comment-parent js-comment_parent" data-id="8709863" data-parent_id="8709855" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709863" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          В случае необходимости в большой скорости можно использовать другие профили USB. Скоростные параметры шины давно известны.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709863">
        <div class="comment_item" id="comment_8709869">
  
    <span class="parent_id" data-parent_id="8709863"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709869">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Gorthauer87/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/4833cc24b09e586af2d23ecebc59b7cd_small.jpg" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/Gorthauer87/" class="comment-item__username">Gorthauer87</a>
          <time class="comment-item__time_published"> 3 января 2014 в 15:53</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709869" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709869" data-parent_id="8709863" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709863" class="icon_comment-parent js-comment_parent" data-id="8709869" data-parent_id="8709863" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709869" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Но, если мне память не изменяет, то для других профилей нужен vendor id, который не так то просто получить.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709869">
        <div class="comment_item" id="comment_8709875">
  
    <span class="parent_id" data-parent_id="8709869"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709875">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 16:08</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709875" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709875" data-parent_id="8709869" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709869" class="icon_comment-parent js-comment_parent" data-id="8709875" data-parent_id="8709869" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709875" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          VendorID нужен в любом случае, особенно если вы делаете коммерческое устройство. Но есть приличное количество VID и PID которые безопасно можно использовать. Главное, чтобы устройство с такими идентификаторами не было.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709875">
      
    </div>
  </div>

    </div>
  </div>
  <div class="comment_item" id="comment_8709911">
  
    <span class="parent_id" data-parent_id="8709863"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709911">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/imwode/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_lilac"></span>
          </a>
          <a href="https://habrahabr.ru/users/imwode/" class="comment-item__username">imwode</a>
          <time class="comment-item__time_published"> 4 января 2014 в 03:09</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709911" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709911" data-parent_id="8709863" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709863" class="icon_comment-parent js-comment_parent" data-id="8709911" data-parent_id="8709863" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709911" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Вроде мегабит ограничение протокола, да?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709911">
        <div class="comment_item" id="comment_8709913">
  
    <span class="parent_id" data-parent_id="8709911"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709913">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 4 января 2014 в 12:35</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709913" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709913" data-parent_id="8709911" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709911" class="icon_comment-parent js-comment_parent" data-id="8709913" data-parent_id="8709911" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709913" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          У самой USB шины как минимум 12 мБит.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709913">
        <div class="comment_item" id="comment_8709917">
  
    <span class="parent_id" data-parent_id="8709913"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709917">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/imwode/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_lilac"></span>
          </a>
          <a href="https://habrahabr.ru/users/imwode/" class="comment-item__username">imwode</a>
          <time class="comment-item__time_published"> 4 января 2014 в 12:47</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709917" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709917" data-parent_id="8709913" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709913" class="icon_comment-parent js-comment_parent" data-id="8709917" data-parent_id="8709913" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709917" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          А у масс-трансфера HID — 1Мбит
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709917">
        <div class="comment_item" id="comment_8709923">
  
    <span class="parent_id" data-parent_id="8709917"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709923">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 4 января 2014 в 12:51</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709923" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709923" data-parent_id="8709917" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709917" class="icon_comment-parent js-comment_parent" data-id="8709923" data-parent_id="8709917" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709923" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Да. Но никто не заставляет использовать именно HID, если нужная действительно высокая скорость. Реально это нужно крайне редко, там можно и над драйвером поработать
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709923">
      
    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

              <div class="comment_item" id="comment_8709873">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709873">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/serbod/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/2188285fad40308a1bbdf25006fa7731_small.jpg" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/serbod/" class="comment-item__username">serbod</a>
          <time class="comment-item__time_published"> 3 января 2014 в 16:05</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709873" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709873" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 2: ↑1 и ↓1">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Забавно читать такие статьи в стиле «Все просто! 1. рисуем два кружочка, 2. рисуем остаток совы»<br>
<br>
Под потоковый обмен уже столько готового софта (причем, кроссплатформенного) написано, что это не проблема совершенно. А вот как ваши пример под линукс адаптировать — придется голову поломать. Жаль, что создатели USB не предусмотрели профиля «дуплексный асинхронный сокет», хотя архитектура именно под него заточена.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709873">
        <div class="comment_item" id="comment_8709879">
  
    <span class="parent_id" data-parent_id="8709873"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709879">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 3 января 2014 в 16:17</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709879" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709879" data-parent_id="8709873" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709873" class="icon_comment-parent js-comment_parent" data-id="8709879" data-parent_id="8709873" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709879" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Остаток совы за вас уже нарисован :) Так что осталось именно два кружочка нарисовать. Хотите разобраться во всем самостоятельно — вам не в статью для начинающих, но проект тоже может быть полезен для изучения.<br>
Под потоковый обмен написано всего много, но почему то как доходит до дела, выясняется, что либо слишком тяжелая библиотека, либо не компилируется совместно с другим софтом, либо не умеет чего-то, либо работает без DMA, а надо с ним, либо неудобна в работе, либо лицензия не та. Проходили. В итоге все равно приходится изобретать велосипед. Каждый раз.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709879">
      
    </div>
  </div>

    </div>
  </div>

              <div class="comment_item" id="comment_8709903">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709903">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/imwode/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_lilac"></span>
          </a>
          <a href="https://habrahabr.ru/users/imwode/" class="comment-item__username">imwode</a>
          <time class="comment-item__time_published"> 4 января 2014 в 01:05</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709903" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709903" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Я вот собирал проект для F3-Discovery: <a href="https://github.com/dccharacter/AHRS">github.com/dccharacter/AHRS</a><br>
Там можно дефайнами переключить проброску данных либо через HID-Joystick, либо через CDC.<br>
Там же питоновский визуалайзер лежит: <a href="https://github.com/dccharacter/AHRS/blob/master/myVisualisation.py">github.com/dccharacter/AHRS/blob/master/myVisualisation.py</a><br>
За код ногами не бейте…
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709903">
        <div class="comment_item" id="comment_8709905">
  
    <span class="parent_id" data-parent_id="8709903"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709905">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/imwode/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_lilac"></span>
          </a>
          <a href="https://habrahabr.ru/users/imwode/" class="comment-item__username">imwode</a>
          <time class="comment-item__time_published"> 4 января 2014 в 01:10</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709905" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709905" data-parent_id="8709903" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709903" class="icon_comment-parent js-comment_parent" data-id="8709905" data-parent_id="8709903" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709905" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Ок, понял, что немного не в тему.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709905">
        <div class="comment_item" id="comment_8709907">
  
    <span class="parent_id" data-parent_id="8709905"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709907">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 4 января 2014 в 01:18</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709907" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709907" data-parent_id="8709905" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709905" class="icon_comment-parent js-comment_parent" data-id="8709907" data-parent_id="8709905" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709907" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Ну почему же. Может кому пригодится.<br>
Кстати, с алгоритмами Мэджвика и Махони есть взаимопонимание?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709907">
        <div class="comment_item" id="comment_8709909">
  
    <span class="parent_id" data-parent_id="8709907"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709909">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/imwode/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_lilac"></span>
          </a>
          <a href="https://habrahabr.ru/users/imwode/" class="comment-item__username">imwode</a>
          <time class="comment-item__time_published"> 4 января 2014 в 03:08</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709909" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709909" data-parent_id="8709907" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709907" class="icon_comment-parent js-comment_parent" data-id="8709909" data-parent_id="8709907" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709909" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          В смысле? Есть ли понимание, как они работают? Неа :-) Но знаю где почитать общую теорию АХРС-а. Суть понятна, чтобы вникнуть в детали нужно неплохое знание математики и тригонометрии. У меня, к сожалению, с математикой как у первокурсника после первого семестра — так себе…<br>
С кватернионами вроде чуть-чуть разобрался — вон написал визуалайзер, но потом опять все позабыл… Тоже знаю где почитать.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709909">
        <div class="comment_item" id="comment_8709915">
  
    <span class="parent_id" data-parent_id="8709909"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709915">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 4 января 2014 в 12:35<span class="comment-item__time_changed"> (комментарий был изменён)</span></time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709915" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709915" data-parent_id="8709909" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709909" class="icon_comment-parent js-comment_parent" data-id="8709915" data-parent_id="8709909" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709915" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Суть я и так знаю, не хватает именно понимания деталей. Где почитать про кватернионы?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709915">
        <div class="comment_item" id="comment_8709919">
  
    <span class="parent_id" data-parent_id="8709915"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709919">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/imwode/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_lilac"></span>
          </a>
          <a href="https://habrahabr.ru/users/imwode/" class="comment-item__username">imwode</a>
          <time class="comment-item__time_published"> 4 января 2014 в 12:48</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709919" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709919" data-parent_id="8709915" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709915" class="icon_comment-parent js-comment_parent" data-id="8709919" data-parent_id="8709915" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709919" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          <a href="http://www.gamedev.ru/code/articles/faq_matrix_quat?page=5">www.gamedev.ru/code/articles/faq_matrix_quat?page=5</a><br>
<a href="http://wat.gamedev.ru/articles/quaternions">wat.gamedev.ru/articles/quaternions</a><br>
<a href="http://www.gamedev.ru/articles/?id=30129">www.gamedev.ru/articles/?id=30129</a><br>

        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709919">
        <div class="comment_item" id="comment_8709921">
  
    <span class="parent_id" data-parent_id="8709919"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709921">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 4 января 2014 в 12:50</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709921" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709921" data-parent_id="8709919" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709919" class="icon_comment-parent js-comment_parent" data-id="8709921" data-parent_id="8709919" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709921" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Спасибо. С примерами кода гораздо лучше чем голая теория, которой обычно все и кончается.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709921">
      
    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

              <div class="comment_item" id="comment_8709925">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709925">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/skyksandr/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_pink"></span>
          </a>
          <a href="https://habrahabr.ru/users/skyksandr/" class="comment-item__username">skyksandr</a>
          <time class="comment-item__time_published"> 5 января 2014 в 20:31</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709925" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709925" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Вопрос, наверное, глупый, но можно ли используя класс USB-HID реализовать отправку данный о паре десятков энкодеров и паре десятков кнопок и переключателей?<br>
 <br>
Интересуюсь с целью самостоятельной сборки:<br>
<img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/dd8a8ac20f6078dfaa8e11fadc1032e7.jpg" alt="image"><br>
Только без дисплеев.<br>
Возможно и:<br>
<img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/bee5a95cea1151335d9dce7f43733eb6.jpg" alt="image"><br>
Так же без приборов и дисплеев
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709925">
        <div class="comment_item" id="comment_8709927">
  
    <span class="parent_id" data-parent_id="8709925"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709927">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 5 января 2014 в 21:48</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709927" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709927" data-parent_id="8709925" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709925" class="icon_comment-parent js-comment_parent" data-id="8709927" data-parent_id="8709925" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709927" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Без проблем. А что именно пытаетесь сделать, виртуальную кабину самолета?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709927">
        <div class="comment_item" id="comment_8709931">
  
    <span class="parent_id" data-parent_id="8709927"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709931">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/skyksandr/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_pink"></span>
          </a>
          <a href="https://habrahabr.ru/users/skyksandr/" class="comment-item__username">skyksandr</a>
          <time class="comment-item__time_published"> 6 января 2014 в 19:02</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709931" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709931" data-parent_id="8709927" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709927" class="icon_comment-parent js-comment_parent" data-id="8709931" data-parent_id="8709927" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709931" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Идей две — <br>
1. Стенд для ВУЗа и ПО имитирующее работу определенной системы самолета, например для демонстрации запуска и опробования двигателей. Элементы управления снаружи, приборы через проектор.<br>
2. Настольный вариант панели, чтобы связать с симулятором (XPlane, MS FSX)
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709931">
        <div class="comment_item" id="comment_8709933">
  
    <span class="parent_id" data-parent_id="8709931"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709933">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 6 января 2014 в 22:06</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709933" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709933" data-parent_id="8709931" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709931" class="icon_comment-parent js-comment_parent" data-id="8709933" data-parent_id="8709931" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709933" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Для этой задачи подходит идеально.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709933">
      
    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

              <div class="comment_item" id="comment_8709929">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709929">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/SamSol/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/58f0f77eb3a895c869fabf330b562f28_small.jpg" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/SamSol/" class="comment-item__username">SamSol</a>
          <time class="comment-item__time_published"> 6 января 2014 в 11:49</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709929" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709929" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Кто-нибудь встречал в продаже готовые дополнительные кнопки? Интересуют:<br>
<ol>
<li>Отдельные большие кнопки (размером со спичечный коробок).</li>
<li>Переключатель (2-х, 3-х позиционный) чтобы на ощупь определялась позиция, желательно с программным переключением положения. (под переключатель раскладки клавиатуры)</li>
<li>Блоки по 4-5 кнопок в ряд небольшого размера (чтобы пальцами одной руки можно было нажимать)</li>
</ol>
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709929">
        <div class="comment_item" id="comment_8709939">
  
    <span class="parent_id" data-parent_id="8709929"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709939">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/WebConn/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/33b76c51f4690af500b58f52b6c38eba_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/WebConn/" class="comment-item__username">WebConn</a>
          <time class="comment-item__time_published">20 января 2014 в 22:49</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709939" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709939" data-parent_id="8709929" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709929" class="icon_comment-parent js-comment_parent" data-id="8709939" data-parent_id="8709929" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709939" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Отдельные большие кнопки — точно бывают, обычно квадратные (такие ставят на всякие игровые автоматы).<br>
Что имеется в виду под «программным переключением положения»? Переключатели бывают, движковые, например (на игрушках разных обычно ставят). У него позиция чётко видна, можно сверху более аккуратную ручку установить.<br>
Вот про блоки кнопок — надо искать. Сейчас на ЧиДе посмотрю, там всё слишком дорого, конечно, но зато есть очень грамотный каталог, можно хотя бы представить, что бывает.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709939">
        <div class="comment_item" id="comment_8709941">
  
    <span class="parent_id" data-parent_id="8709939"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709941">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/SamSol/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/58f0f77eb3a895c869fabf330b562f28_small.jpg" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/SamSol/" class="comment-item__username">SamSol</a>
          <time class="comment-item__time_published">20 января 2014 в 23:06</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709941" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709941" data-parent_id="8709939" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709939" class="icon_comment-parent js-comment_parent" data-id="8709941" data-parent_id="8709939" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709941" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Под программным переключением я подразумеваю возможность задать положение кнопки из программы. Т. е. в кнопке должен быть какой-нибудь минимальный привод.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709941">
        <div class="comment_item" id="comment_8709943">
  
    <span class="parent_id" data-parent_id="8709941"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709943">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/WebConn/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/33b76c51f4690af500b58f52b6c38eba_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/WebConn/" class="comment-item__username">WebConn</a>
          <time class="comment-item__time_published">20 января 2014 в 23:25</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709943" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709943" data-parent_id="8709941" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709941" class="icon_comment-parent js-comment_parent" data-id="8709943" data-parent_id="8709941" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709943" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Ой, вот это точно в дефиците. Впрочем, кнопок я пока тоже не нашёл соответствующих, но есть прямая отсылка на китайских поставщиков типа dealextreme или satistronics. <br>
<br>
Насчёт «программно переключаемого свитча» я бы предложил какое-нибудь touch-решение с led-индикацией, но для этого нужно либо самому разбираться, либо призывать радиолюбителей, кто с этим работал. Тут не помешает навык работы с МК, и всё зависит от того, куда всё это добро нужно подключать.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709943">
      
    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

              <div class="comment_item" id="comment_8709945">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709945">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Amomum/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_blue"></span>
          </a>
          <a href="https://habrahabr.ru/users/Amomum/" class="comment-item__username">Amomum</a>
          <time class="comment-item__time_published"> 7 февраля 2014 в 14:51</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709945" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709945" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Возможно, кто-нибудь сможет подсказать, в каком документе можно узреть значения всех полей HID-дескриптора? В официальной документации я утонул, но ничего вразумительного не нашел.<br>
<br>
Я пытаюсь сгенерировать самый тупой дескриптор для передачи 64 байт, но я никак не могу понять, какие поля нужно указывать? Нужно ли указывать и REPORT_SIZE и REPORT_COUNT? LOCAL_MAXIMUM — это максимум для одного байта или для всех?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709945">
        <div class="comment_item" id="comment_8709947">
  
    <span class="parent_id" data-parent_id="8709945"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709947">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 7 февраля 2014 в 15:21</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709947" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709947" data-parent_id="8709945" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709945" class="icon_comment-parent js-comment_parent" data-id="8709947" data-parent_id="8709945" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709947" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Разумеется, все нужно указывать. Возьми за основу мой проект — там есть переменные<br>
#define RPT3_COUNT 0x01 //PC-&gt;STM32<br>
#define RPT4_COUNT 0x04 //STM32-&gt;PC<br>
<br>
Они прописаны в дескрипторе.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709947">
        <div class="comment_item" id="comment_8709949">
  
    <span class="parent_id" data-parent_id="8709947"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709949">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Amomum/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_blue"></span>
          </a>
          <a href="https://habrahabr.ru/users/Amomum/" class="comment-item__username">Amomum</a>
          <time class="comment-item__time_published"> 7 февраля 2014 в 18:10</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709949" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709949" data-parent_id="8709947" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709947" class="icon_comment-parent js-comment_parent" data-id="8709949" data-parent_id="8709947" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709949" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Я, к сожалению, не могу прямо взять ваш проект, у меня плата с STMF407. Но вы же дескриптор не из пальца высосали? Поделитесь, чем вы пользовались, чтобы его составить, пожалуйста.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709949">
        <div class="comment_item" id="comment_8709951">
  
    <span class="parent_id" data-parent_id="8709949"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709951">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 7 февраля 2014 в 18:15</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709951" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709951" data-parent_id="8709949" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709949" class="icon_comment-parent js-comment_parent" data-id="8709951" data-parent_id="8709949" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709951" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Дескриптор для любой платы одинаковый.<br>
Читайте внимательно, я выложил все инструменты.<br>
Вам нужен DT — HID Descriptor tool 
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709951">
        <div class="comment_item" id="comment_8709953">
  
    <span class="parent_id" data-parent_id="8709951"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709953">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Amomum/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_blue"></span>
          </a>
          <a href="https://habrahabr.ru/users/Amomum/" class="comment-item__username">Amomum</a>
          <time class="comment-item__time_published"> 7 февраля 2014 в 18:19</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709953" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709953" data-parent_id="8709951" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709951" class="icon_comment-parent js-comment_parent" data-id="8709953" data-parent_id="8709951" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709953" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Да, как-то не подумал, что можно только дескриптор взять. Спасибо.<br>
HID Descriptor tool облегчает дело, спору нет, но из нее совершенно непонятно, какое поле что означает.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709953">
        <div class="comment_item" id="comment_8709955">
  
    <span class="parent_id" data-parent_id="8709953"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709955">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 7 февраля 2014 в 19:01</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709955" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709955" data-parent_id="8709953" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709953" class="icon_comment-parent js-comment_parent" data-id="8709955" data-parent_id="8709953" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709955" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Это основная проблема usb вообще. Информации в доступном виде нет, сама шина очень сложна. Те описания, что есть- фрагментарны или очень запутаны. Поэтому я и предложил проект-шаблон.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709955">
        <div class="comment_item" id="comment_8709959">
  
    <span class="parent_id" data-parent_id="8709955"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709959">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Amomum/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_blue"></span>
          </a>
          <a href="https://habrahabr.ru/users/Amomum/" class="comment-item__username">Amomum</a>
          <time class="comment-item__time_published"> 7 февраля 2014 в 19:03</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709959" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709959" data-parent_id="8709955" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709955" class="icon_comment-parent js-comment_parent" data-id="8709959" data-parent_id="8709955" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709959" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          То есть вы его по кусочкам собирали? Жаль, жаль.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709959">
        <div class="comment_item" id="comment_8709961">
  
    <span class="parent_id" data-parent_id="8709959"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709961">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published"> 7 февраля 2014 в 19:05</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709961" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709961" data-parent_id="8709959" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709959" class="icon_comment-parent js-comment_parent" data-id="8709961" data-parent_id="8709959" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709961" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Да, собирал по частям. Единого документа не встречал.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709961">
        <div class="comment_item" id="comment_8709963">
  
    <span class="parent_id" data-parent_id="8709961"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709963">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Amomum/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_blue"></span>
          </a>
          <a href="https://habrahabr.ru/users/Amomum/" class="comment-item__username">Amomum</a>
          <time class="comment-item__time_published"> 7 февраля 2014 в 19:07</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709963" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709963" data-parent_id="8709961" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709961" class="icon_comment-parent js-comment_parent" data-id="8709963" data-parent_id="8709961" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709963" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Интересно, как интерфейс с такой отвратительной спецификацией стал таким популярным. Жуть.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709963">
        <div class="comment_item" id="comment_8709965">
  
    <span class="parent_id" data-parent_id="8709963"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709965">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Alexeyslav/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/1800b87521990674dc8611d2e50e4735_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/Alexeyslav/" class="comment-item__username">Alexeyslav</a>
          <time class="comment-item__time_published">10 февраля 2014 в 14:29</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709965" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709965" data-parent_id="8709963" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709963" class="icon_comment-parent js-comment_parent" data-id="8709965" data-parent_id="8709963" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709965" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Классика же, сначала садим на иглу а потом все оказываются должны и отказаться нет возможности. 
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709965">
        <div class="comment_item" id="comment_8709967">
  
    <span class="parent_id" data-parent_id="8709965"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709967">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published">10 февраля 2014 в 14:43</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709967" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709967" data-parent_id="8709965" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709965" class="icon_comment-parent js-comment_parent" data-id="8709967" data-parent_id="8709965" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709967" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Спецификация отвратительная, зато возможности очень обширные, стандарт живет уже много лет и сохраняет обратную совместимость, аналогов у него с таким функционалом просто нет. 
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709967">
        <div class="comment_item" id="comment_8709969">
  
    <span class="parent_id" data-parent_id="8709967"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709969">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Alexeyslav/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/1800b87521990674dc8611d2e50e4735_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/Alexeyslav/" class="comment-item__username">Alexeyslav</a>
          <time class="comment-item__time_published">10 февраля 2014 в 16:53</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709969" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709969" data-parent_id="8709967" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709967" class="icon_comment-parent js-comment_parent" data-id="8709969" data-parent_id="8709967" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709969" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          к эзернету только питание прикрутить на разъеме и новый стек при необходимости — получилось бы не хуже(при необходимости обеспечивать расстояние передачи больше 10м и можно было бы легко поднять скорость).
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709969">
        <div class="comment_item" id="comment_8709971">
  
    <span class="parent_id" data-parent_id="8709969"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709971">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published">10 февраля 2014 в 21:07</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709971" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709971" data-parent_id="8709969" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709969" class="icon_comment-parent js-comment_parent" data-id="8709971" data-parent_id="8709969" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709971" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Если навесить на Ethernet функционал usb, автоопределение, автоконфигурацию, то usb и получится, только с неудобным разъемом.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709971">
      
    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>
  <div class="comment_item" id="comment_8709957">
  
    <span class="parent_id" data-parent_id="8709951"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709957">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Amomum/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_blue"></span>
          </a>
          <a href="https://habrahabr.ru/users/Amomum/" class="comment-item__username">Amomum</a>
          <time class="comment-item__time_published"> 7 февраля 2014 в 19:02<span class="comment-item__time_changed"> (комментарий был изменён)</span></time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709957" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709957" data-parent_id="8709951" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709951" class="icon_comment-parent js-comment_parent" data-id="8709957" data-parent_id="8709951" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709957" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          (deleted)
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709957">
      
    </div>
  </div>

    </div>
  </div>
  <div class="comment_item" id="comment_8709985">
  
    <span class="parent_id" data-parent_id="8709949"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709985">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/wrewolf/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/ca1e2dd7c364bbfcc75826292da0b013_small.jpg" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/wrewolf/" class="comment-item__username">wrewolf</a>
          <time class="comment-item__time_published">25 августа 2014 в 23:59</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709985" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709985" data-parent_id="8709949" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709949" class="icon_comment-parent js-comment_parent" data-id="8709985" data-parent_id="8709949" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709985" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          А вы не поделитесь примером для stmf407?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709985">
        <div class="comment_item" id="comment_8709987">
  
    <span class="parent_id" data-parent_id="8709985"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709987">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Amomum/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_blue"></span>
          </a>
          <a href="https://habrahabr.ru/users/Amomum/" class="comment-item__username">Amomum</a>
          <time class="comment-item__time_published">26 августа 2014 в 13:43</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709987" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709987" data-parent_id="8709985" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709985" class="icon_comment-parent js-comment_parent" data-id="8709987" data-parent_id="8709985" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709987" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          <a href="http://www.filedropper.com/stm32f407usbhid">Вот</a>. Только пример custom hid я тут уже разворошил, а где оригинал брал — не помню.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709987">
        <div class="comment_item" id="comment_8709989">
  
    <span class="parent_id" data-parent_id="8709987"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709989">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/wrewolf/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/ca1e2dd7c364bbfcc75826292da0b013_small.jpg" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/wrewolf/" class="comment-item__username">wrewolf</a>
          <time class="comment-item__time_published">26 августа 2014 в 14:41</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709989" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709989" data-parent_id="8709987" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709987" class="icon_comment-parent js-comment_parent" data-id="8709989" data-parent_id="8709987" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709989" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Спасибо. Попробуем выковырять
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709989">
      
    </div>
  </div>

    </div>
  </div>
  <div class="comment_item" id="comment_8709991">
  
    <span class="parent_id" data-parent_id="8709985"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709991">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published">26 августа 2014 в 14:54</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709991" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709991" data-parent_id="8709985" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709985" class="icon_comment-parent js-comment_parent" data-id="8709991" data-parent_id="8709985" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709991" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Не поделюсь :) Потому что не писал для F407 этого примера. А писать с нуля вам столько же сколько и мне. Принцип тот же.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709991">
        <div class="comment_item" id="comment_8709993">
  
    <span class="parent_id" data-parent_id="8709991"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709993">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/wrewolf/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/ca1e2dd7c364bbfcc75826292da0b013_small.jpg" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/wrewolf/" class="comment-item__username">wrewolf</a>
          <time class="comment-item__time_published">26 августа 2014 в 15:00</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709993" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709993" data-parent_id="8709991" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709991" class="icon_comment-parent js-comment_parent" data-id="8709993" data-parent_id="8709991" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709993" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Уже выложили для discovery<br>
А так у меня сейчас даже родные примеры от st не заводятся. <br>
В системе не появляться новое usb устройство
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709993">
        <div class="comment_item" id="comment_8709995">
  
    <span class="parent_id" data-parent_id="8709993"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709995">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published">26 августа 2014 в 15:19</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709995" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709995" data-parent_id="8709993" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709993" class="icon_comment-parent js-comment_parent" data-id="8709995" data-parent_id="8709993" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709995" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          У меня заводятся, но там есть косяк, который пока руки не доходят исправить — надо отлаживать.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709995">
        <div class="comment_item" id="comment_8709997">
  
    <span class="parent_id" data-parent_id="8709995"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709997">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/wrewolf/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/ca1e2dd7c364bbfcc75826292da0b013_small.jpg" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/wrewolf/" class="comment-item__username">wrewolf</a>
          <time class="comment-item__time_published">26 августа 2014 в 17:15</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709997" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709997" data-parent_id="8709995" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709995" class="icon_comment-parent js-comment_parent" data-id="8709997" data-parent_id="8709995" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709997" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          У меня вот эти <a href="http://www.st.com/st-web-ui/static/active/en/st_prod_software_internet/resource/technical/software/firmware/stm32_f105-07_f2_f4_usb-host-device_lib.zip">stm32_f105-07_f2_f4_usb-host-device_lib.zip</a><br>
<br>
Выбираю свою версию, собираю, зашиваю и понимаю что устройства в системе нет.<br>
Нужно править все, т.к. эта версия не под discovery, LED я нашел, но сходу смог включить только 2 из 4. И уперся для начала в это. Хотя выставил все параметры для LED одинаковые, кроме номера ножки GPIO (PD12-PD15)<br>
<div class="spoiler"><b class="spoiler_title">код</b><div class="spoiler_text" style="display: none;"><blockquote><font color="#339900">#define&nbsp;LEDn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4</font><br>
&nbsp;<br>
<font color="#339900">#define&nbsp;LED1_PIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIO_Pin_12</font><br>
<font color="#339900">#define&nbsp;LED1_GPIO_PORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIOD</font><br>
<font color="#339900">#define&nbsp;LED1_GPIO_CLK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RCC_AHB1Periph_GPIOD&nbsp;&nbsp;</font><br>
&nbsp;<br>
<font color="#339900">#define&nbsp;LED2_PIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIO_Pin_13</font><br>
<font color="#339900">#define&nbsp;LED2_GPIO_PORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIOD</font><br>
<font color="#339900">#define&nbsp;LED2_GPIO_CLK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RCC_AHB1Periph_GPIOD&nbsp;&nbsp;</font><br>
&nbsp;<br>
<font color="#339900">#define&nbsp;LED3_PIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIO_Pin_14</font><br>
<font color="#339900">#define&nbsp;LED3_GPIO_PORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIOD</font><br>
<font color="#339900">#define&nbsp;LED3_GPIO_CLK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RCC_AHB1Periph_GPIOD&nbsp;&nbsp;</font><br>
&nbsp;<br>
<font color="#339900">#define&nbsp;LED4_PIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIO_Pin_15</font><br>
<font color="#339900">#define&nbsp;LED4_GPIO_PORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIOD</font><br>
<font color="#339900">#define&nbsp;LED4_GPIO_CLK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RCC_AHB1Periph_GPIOD</font></blockquote><br>
</div></div>
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709997">
      
    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

              <div class="comment_item" id="comment_8709973">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709973">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/alecv/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/4671a5ef90701a0d3e5eafd3e96f4591_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/alecv/" class="comment-item__username">alecv</a>
          <time class="comment-item__time_published">20 февраля 2014 в 14:03</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709973" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709973" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Кстати, платка исходно фирмы LC-Tech<br>
<a href="http://www.lctech-inc.com/Hardware/">www.lctech-inc.com/Hardware/</a><br>
У них много всего вкусного, но к сожалению китайские (пере-)продавцы<br>
торгуют в основном только их самой дешовой платкой STM32F103C8T6.<br>

        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709973">
        <div class="comment_item" id="comment_8709975">
  
    <span class="parent_id" data-parent_id="8709973"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709975">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published">20 февраля 2014 в 14:10</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709975" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709975" data-parent_id="8709973" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709973" class="icon_comment-parent js-comment_parent" data-id="8709975" data-parent_id="8709973" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709975" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Да, к сожалению, есть сложившиеся популярные платы и камни, не всегда самые правильные, но они сильно дешевле всех остальных из-за массовости.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709975">
        <div class="comment_item" id="comment_8709977">
  
    <span class="parent_id" data-parent_id="8709975"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709977">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/alecv/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/4671a5ef90701a0d3e5eafd3e96f4591_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/alecv/" class="comment-item__username">alecv</a>
          <time class="comment-item__time_published">20 февраля 2014 в 17:58</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709977" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709977" data-parent_id="8709975" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709975" class="icon_comment-parent js-comment_parent" data-id="8709977" data-parent_id="8709975" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709977" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Можно перепаять чип F1xx на более мощный, они совместимы по ножкам :)<br>
<br>
Еще мне кажется полезно указать источник софта STSW-STM32121<br>
STM32F10x, STM32L1xx and STM32F3xx USB full speed device library (UM0424)<br>
<a href="http://www.st.com/web/en/catalog/tools/PF258157">www.st.com/web/en/catalog/tools/PF258157</a><br>
Там кстати внутри самая новейшая либа StdPeriph аж версии V3.6.1
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709977">
        <div class="comment_item" id="comment_8709979">
  
    <span class="parent_id" data-parent_id="8709977"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709979">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published">11 марта 2014 в 20:40</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709979" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709979" data-parent_id="8709977" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709977" class="icon_comment-parent js-comment_parent" data-id="8709979" data-parent_id="8709977" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709979" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Кстати — новое не значит лучше. У меня например с новой версией SPL отказался работать LCD на ILI9xxx серии — FSMC некорректно инициализируется и все тут. Пока не оставил этот модуль от старой библиотеки, экран оставался пустой.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709979">
        <div class="comment_item" id="comment_8709981">
  
    <span class="parent_id" data-parent_id="8709979"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709981">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/alecv/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/4671a5ef90701a0d3e5eafd3e96f4591_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/alecv/" class="comment-item__username">alecv</a>
          <time class="comment-item__time_published">13 марта 2014 в 12:17</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709981" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709981" data-parent_id="8709979" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709979" class="icon_comment-parent js-comment_parent" data-id="8709981" data-parent_id="8709979" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709981" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Забавно. Может поменяли формат вызова (добавли/сменили параметры) или может быть ошибка. В любом случае, лучше сделать багрепорт в STM.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709981">
        <div class="comment_item" id="comment_8709983">
  
    <span class="parent_id" data-parent_id="8709981"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8709983">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published">13 марта 2014 в 13:35</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709983" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8709983" data-parent_id="8709981" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709981" class="icon_comment-parent js-comment_parent" data-id="8709983" data-parent_id="8709981" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709983" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Честно говоря понятия не имею куда его направлять. К тому же не факт, что проблема не в LCD контроллере.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709983">
      
    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

              <div class="comment_item" id="comment_8709999">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8709999">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/madprogrammer/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_pink"></span>
          </a>
          <a href="https://habrahabr.ru/users/madprogrammer/" class="comment-item__username">madprogrammer</a>
          <time class="comment-item__time_published"> 8 октября 2014 в 17:44<span class="comment-item__time_changed"> (комментарий был изменён)</span></time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8709999" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8709999" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          У кого-нибудь получалось запустить на STM32F103 USB от внутреннего генератора (HSI)? Интрересует, возможно ли это в принципе, или можно не пытаться, даже на low speed? В datasheet сказано, что для использования USB должен быть включен PLL и HSE, но судя по схеме системы тактирования, PLL может тактироваться также и от HSI, хоть частота и не будет строго 48 МГц. У меня в тестовом проекте PLL судя по коду запускается на частоте ± 48 МГц, но при подключении к компу даже нет виндового звука подключения нового устройства к USB, который, как я понимаю, должен быть сразу после подключения, еще до начала опроса дескрипторов и выбора конфигурации устройства. Вот думаю, проблема ли у меня в прошивке или в самой плате где-то закралась… У кого есть заведомо рабочая плата с STM32F103, отпишитесь, если вдруг получится запустить USB от HSI, или хотя бы получить звук подключения устройства :)
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8709999">
        <div class="comment_item" id="comment_8710001">
  
    <span class="parent_id" data-parent_id="8709999"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8710001">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Alexeyslav/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/1800b87521990674dc8611d2e50e4735_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/Alexeyslav/" class="comment-item__username">Alexeyslav</a>
          <time class="comment-item__time_published"> 9 октября 2014 в 10:28</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710001" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8710001" data-parent_id="8709999" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8709999" class="icon_comment-parent js-comment_parent" data-id="8710001" data-parent_id="8709999" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710001" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          USB — только с кварцем. внутренний генератор не обладает достаточной точностью чтобы поддержать работу по USB — где-то сразу происходит сбой из-за несоответствия скорости и устройство игнорируется.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710001">
        <div class="comment_item" id="comment_8710003">
  
    <span class="parent_id" data-parent_id="8710001"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8710003">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/madprogrammer/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_pink"></span>
          </a>
          <a href="https://habrahabr.ru/users/madprogrammer/" class="comment-item__username">madprogrammer</a>
          <time class="comment-item__time_published"> 9 октября 2014 в 12:10</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710003" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8710003" data-parent_id="8710001" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8710001" class="icon_comment-parent js-comment_parent" data-id="8710003" data-parent_id="8710001" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710003" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Я тоже так думал, но в русскоязычном интернете нашел одно упоминание, что якобы у кого-то получилось запустить от внутреннего генератора — <a href="http://forum.easyelectronics.ru/viewtopic.php?p=106727&sid=71e60c5de3637f7af72ddf83c2413fa8#p106727">тут</a>, поэтому решил уточнить, а то мало ли, может в datasheet-е пишут, что оно не работает, а реально работает, хотя бы на Low Speed, которого мне было бы достаточно. С отсутствием реакции на подключение устройства разобрался — у меня не было подтягивающего резистора, т.к. когда я проектировал плату, то смотрел, к своему сожалению, в основном <a href="http://dangerousprototypes.com/docs/STM32_ARM_quick_start#USB">сюда</a>, а там нету ни резистора, ни упоминания о том, что для USB требуется внешний кварц, поэтому я подумал что в контроллере есть внутренний подтягивающий резистор. Как выяснилось, в некоторых контроллерах STM32 он действительно есть, но не в моем STM32F103.<br>
<br>
Теперь при подключении винда пишет, что подключенное устройство не опознано (сбой запроса дескриптора устройства). Подозреваю, что это из-за несоответствия частоты — попозже попробую воткнуть кварцевый генератор.<br>
<br>
Интересно, что, например, софтверная библиотека V-USB для AVR может работать от 12.8 МГц встроенного RC-генератора, видимо стандарт USB 1.1 не так прихотлив к точности может работать на более низкой частоте…<br>

        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710003">
        <div class="comment_item" id="comment_8710005">
  
    <span class="parent_id" data-parent_id="8710003"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8710005">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Alexeyslav/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/1800b87521990674dc8611d2e50e4735_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/Alexeyslav/" class="comment-item__username">Alexeyslav</a>
          <time class="comment-item__time_published"> 9 октября 2014 в 14:30</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710005" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8710005" data-parent_id="8710003" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8710003" class="icon_comment-parent js-comment_parent" data-id="8710005" data-parent_id="8710003" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710005" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          это называется просто везёт. На некоторых экземплярах будет работать на других нет. Чуть нагрелся и отвалился от ухода частоты… это никуда не годится!<br>
<br>
Можно конечно калибровать генератор(есть ли такая функция?) но опять же нужна опорная частота для калибровки, хотябы часовой кварц. Или слушать USB-шину и по импульсам опроса калибровать генератор, а дальше поехали…<br>
Но эти усилия по преодолению проблем которые создаём сами себе не стоят отказа от кварцевого резонатора.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710005">
        <div class="comment_item" id="comment_8710007">
  
    <span class="parent_id" data-parent_id="8710005"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8710007">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/madprogrammer/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_pink"></span>
          </a>
          <a href="https://habrahabr.ru/users/madprogrammer/" class="comment-item__username">madprogrammer</a>
          <time class="comment-item__time_published"> 9 октября 2014 в 14:43</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710007" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8710007" data-parent_id="8710005" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8710005" class="icon_comment-parent js-comment_parent" data-id="8710007" data-parent_id="8710005" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710007" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Согласен, что никуда не годится. Таил надежду, что оно может относительно стабильно работать без кварца, т.к. изначально по причине невнимательного чтения документации не предусмотрел его в схеме, и воткнуть кварц в уже разведенную плату, конечно, сложнее :) Теперь, видимо, все-таки придется производить хирургическое вмешательство.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710007">
        <div class="comment_item" id="comment_8710009">
  
    <span class="parent_id" data-parent_id="8710007"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8710009">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Alexeyslav/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/1800b87521990674dc8611d2e50e4735_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/Alexeyslav/" class="comment-item__username">Alexeyslav</a>
          <time class="comment-item__time_published"> 9 октября 2014 в 15:07</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710009" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8710009" data-parent_id="8710007" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8710007" class="icon_comment-parent js-comment_parent" data-id="8710009" data-parent_id="8710007" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710009" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          есть плоские кварцы в SMD-исполнении.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710009">
      
    </div>
  </div>

    </div>
  </div>

    </div>
  </div>
  <div class="comment_item" id="comment_8710011">
  
    <span class="parent_id" data-parent_id="8710003"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8710011">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/vitmeat/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/4a634b2cbe2352c8f4609e671d334879_small.jpg" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/vitmeat/" class="comment-item__username">vitmeat</a>
          <time class="comment-item__time_published"> 9 октября 2014 в 15:44</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710011" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8710011" data-parent_id="8710003" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8710003" class="icon_comment-parent js-comment_parent" data-id="8710011" data-parent_id="8710003" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710011" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          По поводу V-USB, там есть спец функция которая калибрует встроенный RC-генератор как раз по USB посылкам от компа.<br>
<div class="spoiler"><b class="spoiler_title">osccal.c</b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-comment">/* Функция калибрует RC-генератор. Наш опорный источник точного времени -
 *  сигнал SOF, Start Of Frame (один бит SE0), повторяющийся каждую милисекунду
 *  сразу после состояния USB RESET. Мы сначала делаем двоичный поиск величины
 *  OSCCAL, и затем оптимизируем эту величину поиском соседних значений.
 *  Этот алгоритм может также использоваться для калибровки RC-генератора напрямую
 *  до 12 MHz (не вовлекается ФАПЧ, таким образом эту технику можно использовать
 *  почти на ВСЕХ AVR), но это слишком вне спецификации величины OSCCAL и необходимой
 *  точности для тактов на 12 МГц! Используйте RC-генератор, калиброванный на 12 МГц
 *  только для экспериментов!
 */</span>
</code></pre><br>
<br>
<a href="http://pastebin.com/7geg5rXU">pastebin.com/7geg5rXU</a><br>
</div></div><br>
А потом калибровочные данные сохраняет в еепром, и при загрузки извлекает их из еепрома.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710011">
        <div class="comment_item" id="comment_8710013">
  
    <span class="parent_id" data-parent_id="8710011"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8710013">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/Alexeyslav/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/1800b87521990674dc8611d2e50e4735_small.gif" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/Alexeyslav/" class="comment-item__username">Alexeyslav</a>
          <time class="comment-item__time_published"> 9 октября 2014 в 17:04</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710013" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8710013" data-parent_id="8710011" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8710011" class="icon_comment-parent js-comment_parent" data-id="8710013" data-parent_id="8710011" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710013" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          не покатит. рекалибровку надо делать постоянно. Частота плывёт от температуры и напряжения питания(стабилизатор нагревается и напряжение изменяется в процессе работы).
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710013">
        <div class="comment_item" id="comment_8710015">
  
    <span class="parent_id" data-parent_id="8710013"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8710015">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/vitmeat/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/4a634b2cbe2352c8f4609e671d334879_small.jpg" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/vitmeat/" class="comment-item__username">vitmeat</a>
          <time class="comment-item__time_published"> 9 октября 2014 в 19:10</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710015" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8710015" data-parent_id="8710013" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8710013" class="icon_comment-parent js-comment_parent" data-id="8710015" data-parent_id="8710013" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710015" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Так она делается по reset'у usb<br>
У нормального стабилизатора параметры не текут =)<br>
Только если вы в -40 подключаете USB девайс, то да за время работы он прогреется =)<br>
А так на моей практике (100+ V-USB устройств на AtTinyX5 без кварца) ни одного проблемного не было.<br>
Были разные девайсы, и которые годами данные снимают к роутеру подключенные, и постоянно перетыкаемые. Все работает в лучшем виде.<br>
<br>
<div class="spoiler"><b class="spoiler_title">osccal.h</b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-comment">/* Имя: osccal.h
 * Автор: Christian Starkjohann
 * Перевод: microsin.ru 
 * Дата создания: 2008-04-10
 * Табуляция: 4
 * Copyright: (c) 2008 by OBJECTIVE DEVELOPMENT Software GmbH
 * Лицензия: GNU GPL v2 (см. License.txt) или проприетарная (CommercialLicense.txt)
 * Ревизия: $Id: osccal.h 553 2008-04-17 19:00:20Z cs $
 */</span>

<span class="hljs-comment">/*
Основное описание:
Этот модуль содержит функцию, которая калибрует внутренний RC-генератор AVR,
чтобы CPU работал на частоте F_CPU (F_CPU является макропределением, которое 
должно быть задано при компиляции модуля. Лучший выбор - передача этого макро
через командную строку компилятора). Эталон времени - частота фрейма USB 
1 кГц, доступная немедленно после состояния USB RESET. Отсчет времени производится
путем подсчета циклов CPU, при этом все прерывания должны быть запрещены, пока работает
калибровочная функция. Для измерений времени низкого уровня вызывается функция 
usbMeasureFrameLength(). Эта функция должна быть разрешена в usbconfig.h 
путем задания USB_CFG_HAVE_MEASURE_FRAME_LENGTH в 1.

Используемый алгоритм:
calibrateOscillator() сначала делает двоичный поиск в регистре OSCCAL для 
наилучшего совпадения с частотой тактового генератора. Затем она делает поиск
следующей соседней (частоты?) для нахождения наименьшей девиации тактовой 
частоты. Это гарантирует наилучшее соответствие между соседними величинами,
но для генераторов версии 5 (у которых прерывающаяся взаимосвязь между
OSCCAL и частотой) лучшее соответствие может быть доступно в другом диапазоне
OSCCAL.

Ограничения:
Этот алгоритм калибровки может пробовать величины OSCCAL до 192, даже если
оптимальная величина далеко меньше 192. Таким образом, может быть превышена 
допустимая тактовая частота CPU в разработках с низковольтным питанием!
Точность зависит от OSCCAL простив частотной зависимости генератора.
Типичная точность для ATMega168 (вычисленная от OSCCAL против F_RC диаграмма
в даташите) должна быть в диапазоне 0.4%. Только версия 16.5 МГц AVR-USB 
(которая использует ФАПЧ в приемнике данных) может допускать такую девиацию!
Все другие частотные модули требуют точности 0.3%.
*/</span>

<span class="hljs-preprocessor">#<span class="hljs-keyword">ifndef</span> __OSCCAL_H_INCLUDED__</span>
<span class="hljs-preprocessor">#<span class="hljs-keyword">define</span> __OSCCAL_H_INCLUDED__</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">calibrateOscillator</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;
<span class="hljs-comment">/* Эта функция калибрует генератор RC, чтобы CPU работал на частоте F_CPU.
 * Она ДОЛЖНА быть вызвана немедленно после окончания состояния USB RESET!
 * Запретите все прерывания во время вызова! Рекомендуется сохранить 
 * результирующую величину в EEPROM так, чтобы хорошее предполагаемое 
 * значение было доступно после следующего сброса.
 */</span>

<span class="hljs-function"><span class="hljs-keyword">void</span>    <span class="hljs-title">usbEventResetReady</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;

<span class="hljs-preprocessor">#<span class="hljs-keyword">endif</span> <span class="hljs-comment">/* __OSCCAL_H_INCLUDED__ */</span></span>
</code></pre><br>
<br>
Вот конкретно <a href="http://we.easyelectronics.ru/AVR/another-tiny-usbasp.html">мой девайс</a> который как только через *опу не собирали, а он прекрасно работает. =)<br>
</div></div>
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710015">
      
    </div>
  </div>

    </div>
  </div>
  <div class="comment_item" id="comment_8710017">
  
    <span class="parent_id" data-parent_id="8710011"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8710017">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/madprogrammer/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_pink"></span>
          </a>
          <a href="https://habrahabr.ru/users/madprogrammer/" class="comment-item__username">madprogrammer</a>
          <time class="comment-item__time_published">13 октября 2014 в 14:46</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710017" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8710017" data-parent_id="8710011" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8710011" class="icon_comment-parent js-comment_parent" data-id="8710017" data-parent_id="8710011" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710017" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Все оказалось проще — у меня подтягивающий резистор был припаян к D-, как предписывает спецификация для Low-Speed устройств. Перепаял резистор на D+, и теперь всё работает, как с внешним кристаллом, так и без него — от внутреннего генератора :)
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710017">
      
    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

              <div class="comment_item" id="comment_8710019">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8710019">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/ru_master/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_blue"></span>
          </a>
          <a href="https://habrahabr.ru/users/ru_master/" class="comment-item__username">ru_master</a>
          <time class="comment-item__time_published">11 февраля 2015 в 13:33</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710019" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710019" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  voting-wjt__counter_negative">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑0 и ↓1">–1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format bad bad1">
          интересно почему устройство не подключается в линаксе (по виндой работает)<br>
<br>
$ dmesg<br>
[ 433.425184] hub 4-1:1.0: connect-debounce failed, port 6 disabled<br>
[ 435.731027] hub 4-1:1.0: connect-debounce failed, port 6 disabled<br>
[ 438.037839] hub 4-1:1.0: connect-debounce failed, port 6 disabled<br>
[ 440.344716] hub 4-1:1.0: connect-debounce failed, port 6 disabled<br>
[ 454.185890] hub 4-1:1.0: connect-debounce failed, port 6 disabled<br>
[ 456.492745] hub 4-1:1.0: connect-debounce failed, port 6 disabled<br>
[ 458.799587] hub 4-1:1.0: connect-debounce failed, port 6 disabled<br>

        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710019">
      
    </div>
  </div>

              <div class="comment_item" id="comment_8710021">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8710021">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/FishDude/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/c9f26d5dd64eda83dbcfb2c5fe9f352c_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/FishDude/" class="comment-item__username">FishDude</a>
          <time class="comment-item__time_published">25 марта 2015 в 03:58</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710021" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710021" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          У меня есть вопрос к автору, и боюсь, это совсем глупый вопрос.<br>
<br>
Купил именно такую плату. Подключаю к компьютеру, и получаю сообщение Windows, что устройство опознать не удалось, и вероятно, оно работает неправильно. Дискавери тот честно говорит, «я — st-link», а как должен рапортовать этот девайс?<br>
<br>
И что, собственно мне, как совсем зелёному новичку в микроконтроллерах, теперь со всем этим делать?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710021">
        <div class="comment_item" id="comment_8710023">
  
    <span class="parent_id" data-parent_id="8710021"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8710023">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published">26 марта 2015 в 13:14</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710023" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8710023" data-parent_id="8710021" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8710021" class="icon_comment-parent js-comment_parent" data-id="8710023" data-parent_id="8710021" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710023" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Разумеется. Этот USB не для программирования платы, а штатный вывод USB модуля периферии микроконтроллера.<br>
Вы можете сконфигурировать устройство как вам захочется — эмулировать клавиатуру, мышь, флешку, Custom HID устройство или любое другое. но для этого нужно писать программу.<br>
Пустой МК не будет никак опознаваться, потому что он вообще не отвечает компьютеру на запросы по шине USB, а модуль USB в нем просто выключен.<br>
Уровень зелени новичков бывает сильно разный. Если работали с Arduino и имеете понятие о программировании МК — будет проще. Можно посоветовать CooCox, например, для старта. (В CooCox просто некоторые вещи новичку сделать будет проще, а не потому, что среда хорошая.) А потом выберете себе среду получше на свой вкус. Я использую EmBlocks.<br>
Немного статей по STM32 можно найти у меня на сайте по <a href="http://ravenium.ru/tag/stm32/">тегу STM32</a>.<br>
Там есть моргание светодиодом, небольшое описание работы с IDE Emblocks (разных версий), устройство, работающее с USB, прошивка через USART.<br>
Порог входа в STM32 немного выше, чем в AtmegaXX8, но просто потому, что МК намного более нафаршированный, можно настроить практически все на свете, куча полезных фич и режимов, которые я, к примеру, даже наполовину не знаю досконально. Но все их знать и не обязательно. Вполне можно разрабатывать качественные и надежные устройства и обучаться постепенно.<br>

        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710023">
      
    </div>
  </div>

    </div>
  </div>

              <div class="comment_item" id="comment_8710025">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8710025">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/mrsom/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_blue"></span>
          </a>
          <a href="https://habrahabr.ru/users/mrsom/" class="comment-item__username">mrsom</a>
          <time class="comment-item__time_published">12 июля 2015 в 16:13<span class="comment-item__time_changed"> (комментарий был изменён)</span></time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710025" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710025" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Спасибо за статью!<br>
Скажите, а нет ли ссылки на документацию по библиотеке USB входящей в состав STM32CubeF1?<br>
Дело в том, что там по пути STM32Cube_FW_F1\Middlewares\ST\STM32_USB_Device_Library расположена библиотека, которая судя по сообщению на сайте, заменяет USB-FS. ST нас призывает использовать куб для новых проектов. Для куба есть примеры(мышь я успешно запустил даже), но дело в том, что для USB-FS есть подробное описание <a href="http://www.st.com/st-web-ui/static/active/en/resource/technical/document/user_manual/CD00158241.pdf">UM0424</a>, а для библиотеки входящей в состав куба я ничего подобного не нашел.<br>
Это очень странно конечно, но факт. Может быть кто поможет? 
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710025">
        <div class="comment_item" id="comment_8710027">
  
    <span class="parent_id" data-parent_id="8710025"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  is_topic_starter  " rel="8710027">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__avatar">
              <img src="./STM32 и USB-HID — это просто _ Хабрахабр_files/18b44549b6ce9126e5e53e338f7997cb_small.png" alt="" class="comment-item__avatar-img">
          </a>
          <a href="https://habrahabr.ru/users/RaJa/" class="comment-item__username">RaJa</a>
          <time class="comment-item__time_published">13 июля 2015 в 00:44</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710027" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8710027" data-parent_id="8710025" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8710025" class="icon_comment-parent js-comment_parent" data-id="8710027" data-parent_id="8710025" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710027" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Призывать то призывает и куб вроде неплох, но интегрировать его в простые проекты очень сложно. Он рассчитан на RAD разработку, без оптимизации по размеру кода, нет генератора для Emblocks например, импортировать проект, созданный для keil не получается — очень много ошибок. Документации и опыта по Cube тоже кот наплакал пока. Вот они и пытаются создать сообщество, подталкивая к использованию инструмента. <br>
Но SPL как работала так и работает и вполне подходит.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710027">
        <div class="comment_item" id="comment_8710029">
  
    <span class="parent_id" data-parent_id="8710027"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8710029">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/mrsom/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_blue"></span>
          </a>
          <a href="https://habrahabr.ru/users/mrsom/" class="comment-item__username">mrsom</a>
          <time class="comment-item__time_published">13 июля 2015 в 01:16</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710029" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="8710029" data-parent_id="8710027" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/208026/#comment_8710027" class="icon_comment-parent js-comment_parent" data-id="8710029" data-parent_id="8710027" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710029" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Немножечко там с оптимизацией проблемы есть, я согласен. Но вполне себе годится. У меня сейчас проектик на stm32f103c8t. usb custom hid, таймеры, ADC, DMA, прерывания, GPIO естественно и конфигурирование тактирования — все с использованием куба. Кода самого куба получилось где-то килобайт 15. Из них около 10 приходится на ЮСБ стек. Так что можно себя нормально чувствовать и на 64кб камнях. Документация есть на все кроме USB почему-то. <br>
<br>
Генератора на емблокс может и нет, но есть cube mx, который может сгенерить проект потыкав мышкой.<br>
<br>
Я использую gcc, slickedit как редактор и makefile. Немного хардкорно, но все работает:)
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710029">
      
    </div>
  </div>

    </div>
  </div>

    </div>
  </div>

              <div class="comment_item" id="comment_8710031">
  
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8710031">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <a href="https://habrahabr.ru/users/smartly/" class="comment-item__avatar">
              <span class="comment-item__avatar-img_default user-pic_blue"></span>
          </a>
          <a href="https://habrahabr.ru/users/smartly/" class="comment-item__username">smartly</a>
          <time class="comment-item__time_published"> 7 октября 2015 в 11:21</time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/208026/#comment_8710031" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8710031" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          А можете показать исходники HIDSTM32.exe?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <div class="reply_comments" id="reply_comments_8710031">
      
    </div>
  </div>

    </div>


        			<p class="for_users_only_msg">Только зарегистрированные пользователи могут оставлять комментарии. <a href="https://habrahabr.ru/auth/login/">Войдите</a>, пожалуйста.</p>



      
<form action="https://habrahabr.ru/json/favorites/" method="post" id="edit_tags_form" class="hidden">
  <input type="hidden" name="action" value="add">
  <input type="hidden" name="ti" value="0">
  <input type="hidden" name="tt" value="0">
  <label>Пометьте топик понятными вам метками, если хотите</label>
  <input type="text" name="tags_string" class="tags_string" autocomplete="off">
  <div class="description">Метки лучше разделять запятой. Например: <i>общение, социальные сети, myspace.com, подростки, мердок</i></div>
  <input type="submit" value="Сохранить" class="submit"> или <a href="https://habrahabr.ru/post/208026/#" class="close" onclick="return close_edit_tags()">закрыть</a>
</form>

    </div>
    <div class="sidebar_right">
          

  <div class="live-broadcast live-broadcast_habrahabr">
    <h2 class="live-broadcast__title">Что обсуждают</h2>
    <div class="live-broadcast__tabs tabs" id="broadcast_tabs_comments">
      <ul class="tabs__menu tabs__menu_comments menu menu_inline">
        <li class="menu__item active"><a href="https://habrahabr.ru/post/208026/#broadcast_comments_now" class="menu__item-tab">Сейчас</a></li>
        <li class="menu__item"><a href="https://habrahabr.ru/post/208026/#broadcast_comments_yesterday" class="menu__item-tab">Вчера</a></li>
        <li class="menu__item"><a href="https://habrahabr.ru/post/208026/#broadcast_comments_week" class="menu__item-tab">Неделя</a></li>
      </ul>

        <div class="tabs__content" id="broadcast_comments_now" style="display: block;">
            <ul class="content-list content-list_comments">
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276383/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Хабра-граф, -сообщества и куда же делась вся карма</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276383/#comments" class="content-list__item-counter icon_comments">166</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/mailru/blog/276523/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Самая базовая потребность: как мы реализовали DNS-хостинг в «Mail.Ru для бизнеса»</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/mailru/blog/276523/#comments" class="content-list__item-counter icon_comments">76</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/yandex/blog/276035/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">БЭМ-методология: с чего всё начиналось и зачем это всё нужно</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/yandex/blog/276035/#comments" class="content-list__item-counter icon_comments">34</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276539/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Это будущее</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276539/#comments" class="content-list__item-counter icon_comments">32</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/234067/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Теперь любой сайт может узнать адрес вашей страницы в VK?</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/234067/#comments" class="content-list__item-counter icon_comments">93</a>
                </li>
            </ul>
        </div>
        <div class="tabs__content" id="broadcast_comments_yesterday" style="display: none;">
            <ul class="content-list content-list_comments">
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276383/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Хабра-граф, -сообщества и куда же делась вся карма</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276383/#comments" class="content-list__item-counter icon_comments">164</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/tm/blog/276493/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">#Маленькая приятная новость</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/tm/blog/276493/#comments" class="content-list__item-counter icon_comments">89</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/mailru/blog/276523/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Самая базовая потребность: как мы реализовали DNS-хостинг в «Mail.Ru для бизнеса»</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/mailru/blog/276523/#comments" class="content-list__item-counter icon_comments">76</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276467/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Дозиметр в интернете вещей: составляем карту радиоактивных зон для себя и всего мира</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276467/#comments" class="content-list__item-counter icon_comments">52</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/yandex/blog/276035/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">БЭМ-методология: с чего всё начиналось и зачем это всё нужно</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/yandex/blog/276035/#comments" class="content-list__item-counter icon_comments">34</a>
                </li>
            </ul>
        </div>
        <div class="tabs__content" id="broadcast_comments_week" style="display: none;">
            <ul class="content-list content-list_comments">
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276383/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Хабра-граф, -сообщества и куда же делась вся карма</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276383/#comments" class="content-list__item-counter icon_comments">164</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276173/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Практические методы самомотивации программиста</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276173/#comments" class="content-list__item-counter icon_comments">97</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/tm/blog/276493/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">#Маленькая приятная новость</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/tm/blog/276493/#comments" class="content-list__item-counter icon_comments">89</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/mailru/blog/276523/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Самая базовая потребность: как мы реализовали DNS-хостинг в «Mail.Ru для бизнеса»</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/mailru/blog/276523/#comments" class="content-list__item-counter icon_comments">76</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/276135/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Parse.com закрывается</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276135/#comments" class="content-list__item-counter icon_comments">72</a>
                </li>
            </ul>
        </div>
        <div class="tabs__content" id="broadcast_comments_month" style="display: none;">
            <ul class="content-list content-list_comments">
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/272937/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Почему ваш любимый мессенджер должен умереть</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/272937/#comments" class="content-list__item-counter icon_comments">339</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/275409/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Как не стать программистом или… тебе здесь не место</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/275409/#comments" class="content-list__item-counter icon_comments">285</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/275135/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Почему я пишу игры на C (да, на C)</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/275135/#comments" class="content-list__item-counter icon_comments">251</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/274523/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Angular 2 против React: И будет кровь</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/274523/#comments" class="content-list__item-counter icon_comments">184</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/hpe/blog/275033/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Вы уверены, что все системы хранения All-Flash готовы к&nbsp;использованию в корпоративном секторе?</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/hpe/blog/275033/#comments" class="content-list__item-counter icon_comments">181</a>
                </li>
            </ul>
        </div>
    </div>
  </div>

    </div>
  </div>

  <script>
    window._yaparams = {'hubs':[]};
    // hubs to GA
      _yaparams['hubs'].push('controllers (Программирование микроконтроллеров)');
  </script>



          
  <div class="column-wrapper column-wrapper_bottom column-wrapper_bordered">
    <div class="content_left">
      

  <div class="live-broadcast live-broadcast_feed">
    <h2 class="live-broadcast__title live-broadcast__title_feed">Интересные публикации</h2>

    <div class="dropdown dropdown_broadcast">
      <button type="button" class="btn btn_outline_grey btn_large icon_cog dropdown-toggle" data-toggle="dropdown">
      </button>
      <div class="dropdown-container">
        <ul class="n-dropdown-menu n-dropdown-menu_feed" id="filter">
          <li class="n-dropdown-menu__item">
            <label class="checkbox checkbox_custom">
              <input type="checkbox" class="checkbox__input" name="habrahabr" checked="">
              <span class="checkbox__label">Хабрахабр</span>
            </label>
          </li>
          <li class="n-dropdown-menu__item">
            <label class="checkbox checkbox_custom">
              <input type="checkbox" class="checkbox__input" name="geektimes" checked="">
              <span class="checkbox__label">Гиктаймс</span>
            </label>
          </li>
          <li class="n-dropdown-menu__item">
            <label class="checkbox checkbox_custom">
              <input type="checkbox" class="checkbox__input" name="megamozg" checked="">
              <span class="checkbox__label">Мегамозг</span>
            </label>
          </li>
        </ul>
      </div>
    </div>

    <div class="live-broadcast__content">
      <ul class="content-list content-list_feed" id="list">
          <li class="content-list__item content-list__item_geektimes" data-type="geektimes">
            <a href="https://geektimes.ru/post/270440/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Роскомнадзор: аудитория Rutracker после блокировки сократилась на 30%</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/270440/#comments" class="content-list__item-counter icon_comments">17</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/275421/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Новые подкасты о профессиональной разработке под Android</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/275421/#comments" class="content-list__item-counter icon_comments">1</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/276593/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Создание архитектуры программы или как проектировать табуретку</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276593/#comments" class="content-list__item-counter icon_comments">3</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/276523/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Самая базовая потребность: как мы реализовали DNS-хостинг в «Mail.Ru для бизнеса»</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276523/#comments" class="content-list__item-counter icon_comments">75</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/276551/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Процедурно генерируемые карты мира на Unity C#, часть 4 (трафик)</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276551/#comments" class="content-list__item-counter icon_comments">5</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/276581/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Multi-source репликация в MySQL5.7</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276581/#comments" class="content-list__item-counter icon_comments">4</a>
          </li>
          <li class="content-list__item content-list__item_megamozg" data-type="megamozg">
            <a href="https://megamozg.ru/post/23844/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Снижаем цены на вакансии в регионах на 20-25%, делаем цены справедливыми</a>&nbsp;&nbsp;<a href="https://megamozg.ru/post/23844/#comments" class="content-list__item-counter icon_comments">5</a>
          </li>
          <li class="content-list__item content-list__item_geektimes" data-type="geektimes">
            <a href="https://geektimes.ru/post/270426/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Космический аппарат наблюдения ч.2</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/270426/#comments" class="content-list__item-counter icon_comments">16</a>
          </li>
          <li class="content-list__item content-list__item_geektimes" data-type="geektimes">
            <a href="https://geektimes.ru/post/270424/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Роскомнадзор готовится блокировать зеркала пиратских сайтов</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/270424/#comments" class="content-list__item-counter icon_comments">64</a>
          </li>
          <li class="content-list__item content-list__item_megamozg" data-type="megamozg">
            <a href="https://megamozg.ru/post/23842/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">«Музыкальный фастфуд»: Как может звучать массовый продукт</a>&nbsp;&nbsp;<a href="https://megamozg.ru/post/23842/#comments" class="content-list__item-counter icon_comments">1</a>
          </li>
          <li class="content-list__item content-list__item_megamozg hidden" data-type="megamozg">
            <a href="https://megamozg.ru/post/23840/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">LG: крем для лица, пластиковые окна, лифты и умные часы</a>&nbsp;&nbsp;<a href="https://megamozg.ru/post/23840/#comments" class="content-list__item-counter icon_comments">4</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr hidden" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/276553/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Регистрация на вебинар «Использование публичного облака Oracle: сервисы IaaS и PaaS»</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276553/#comments" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr hidden" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/276541/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Отчёт по итогам посещения ISC-2015</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276541/#comments" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr hidden" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/276547/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Установка Azure Stack TP1</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276547/#comments" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_megamozg hidden" data-type="megamozg">
            <a href="https://megamozg.ru/post/23832/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">4 стратегии для презентации новых идей на работе</a>&nbsp;&nbsp;<a href="https://megamozg.ru/post/23832/#comments" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_geektimes hidden" data-type="geektimes">
            <a href="https://geektimes.ru/post/270370/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">[Анонс] Kingston увеличивает максимальную емкость для USB накопителя DataTraveler Micro 3.1 и карты памяти SDXC</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/270370/#comments" class="content-list__item-counter icon_comments">5</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr hidden" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/276497/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Зимняя школа «Интернет вещей на платформе Intel Edison». Нижний Новгород, 8-13 февраля</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276497/#comments" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_geektimes hidden" data-type="geektimes">
            <a href="https://geektimes.ru/post/270406/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">В России заработал реестр отечественного ПО</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/270406/#comments" class="content-list__item-counter icon_comments">38</a>
          </li>
          <li class="content-list__item content-list__item_geektimes hidden" data-type="geektimes">
            <a href="https://geektimes.ru/post/270404/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Мыши живут на 25% — 35% дольше, если избавить их от «изношенных» клеток</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/270404/#comments" class="content-list__item-counter icon_comments">98</a>
          </li>
          <li class="content-list__item content-list__item_geektimes hidden" data-type="geektimes">
            <a href="https://geektimes.ru/post/270402/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">В стеллараторе Wendelstein 7-X получили водородную плазму</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/270402/#comments" class="content-list__item-counter icon_comments">51</a>
          </li>
          <li class="content-list__item content-list__item_megamozg hidden" data-type="megamozg">
            <a href="https://megamozg.ru/post/23836/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Регистрация компании в Гонконге для IT бизнеса (Часть 3). Поговорим о работе с контрагентами (заказчиками) из США</a>&nbsp;&nbsp;<a href="https://megamozg.ru/post/23836/#comments" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_megamozg hidden" data-type="megamozg">
            <a href="https://megamozg.ru/post/23834/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">ZAGG приобрела Mophie за $100 млн</a>&nbsp;&nbsp;<a href="https://megamozg.ru/post/23834/#comments" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_megamozg hidden" data-type="megamozg">
            <a href="https://megamozg.ru/post/23830/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Как разрулить 8 сценариев в обслуживании</a>&nbsp;&nbsp;<a href="https://megamozg.ru/post/23830/#comments" class="content-list__item-counter icon_comments">5</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr hidden" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/276531/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Unified test runner и анализ тестовых данных</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/276531/#comments" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_geektimes hidden" data-type="geektimes">
            <a href="https://geektimes.ru/post/270394/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Минкомсвязи: для работы в России Netflix нужна лицензия СМИ и вещателя</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/270394/#comments" class="content-list__item-counter icon_comments">51</a>
          </li>
          <li class="content-list__item content-list__item_megamozg hidden" data-type="megamozg">
            <a href="https://megamozg.ru/post/23828/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Microsoft поглотила SwiftKey за $250 млн</a>&nbsp;&nbsp;<a href="https://megamozg.ru/post/23828/#comments" class="content-list__item-counter icon_comments">8</a>
          </li>
          <li class="content-list__item content-list__item_geektimes hidden" data-type="geektimes">
            <a href="https://geektimes.ru/post/270372/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Xiaomi Redmi Note 3 — для сильных духом</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/270372/#comments" class="content-list__item-counter icon_comments">88</a>
          </li>
          <li class="content-list__item content-list__item_megamozg hidden" data-type="megamozg">
            <a href="https://megamozg.ru/post/23822/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Сказ о том, как стартапер может погубить свою компанию, став её директором</a>&nbsp;&nbsp;<a href="https://megamozg.ru/post/23822/#comments" class="content-list__item-counter icon_comments">5</a>
          </li>
          <li class="content-list__item content-list__item_megamozg hidden" data-type="megamozg">
            <a href="https://megamozg.ru/post/23806/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Как маркетологу разогнать продажи, если сознание и поведение покупателей в 2015-м изменилось</a>&nbsp;&nbsp;<a href="https://megamozg.ru/post/23806/#comments" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_geektimes hidden" data-type="geektimes">
            <a href="https://geektimes.ru/post/270358/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Подольский старьевщик. Рассказ от первого лица</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/270358/#comments" class="content-list__item-counter icon_comments">17</a>
          </li>
      </ul>
    </div>
  </div>


        <div class="columns-group columns-group_promo">
            

  <div class="columns-group__column promo-block promo-block_vacancies">
  <h2 class="promo-block__title">
    <a href="https://moikrug.ru/" target="_blank" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_A" class="icon_logo_mk"></a>
    <a href="https://moikrug.ru/vacancies" target="_blank" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_A" class="promo-block__title-link">Вакансии</a>
  </h2>

  <div class="promo-block__content">
    <ul class="content-list content-list_promo">
        <li class="content-list__item vacancy ">
          <a href="https://moikrug.ru/vacancies/1000023739" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_A" class="content-list__item-link vacancy__title" style="background-image:none;">WordPress-разработчик (PHP / Full stack)</a>
          <div class="vacancy__attrs attrs">
            
            <span class="attrs__item">Полный рабочий день</span>
            
          </div>
        </li>
        <li class="content-list__item vacancy ">
          <a href="https://moikrug.ru/vacancies/1000023738" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_A" class="content-list__item-link vacancy__title" style="background-image:none;">Front-end разработчик (Разработчик интерфейсов)</a>
          <div class="vacancy__attrs attrs">
            <span class="attrs__item">Москва</span>
            <span class="attrs__item">Полный рабочий день</span>
            
          </div>
        </li>
        <li class="content-list__item vacancy ">
          <a href="https://moikrug.ru/vacancies/1000023737" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_A" class="content-list__item-link vacancy__title" style="background-image:none;">JavaScript Developer (AngularJS &amp; NodeJS) в стартап</a>
          <div class="vacancy__attrs attrs">
            <span class="attrs__item">Москва</span>
            <span class="attrs__item">Полный рабочий день</span>
            <strong class="attrs__item">от 70 000 до 90 000 руб.</strong>
          </div>
        </li>
        <li class="content-list__item vacancy ">
          <a href="https://moikrug.ru/vacancies/1000023732" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_A" class="content-list__item-link vacancy__title" style="background-image:none;">Программист С++</a>
          <div class="vacancy__attrs attrs">
            <span class="attrs__item">Москва</span>
            <span class="attrs__item">Полный рабочий день</span>
            <strong class="attrs__item">от 90 000 руб.</strong>
          </div>
        </li>
        <li class="content-list__item vacancy ">
          <a href="https://moikrug.ru/vacancies/1000014232" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_A" class="content-list__item-link vacancy__title" style="background-image:none;">Full Stack разработчик PHP</a>
          <div class="vacancy__attrs attrs">
            <span class="attrs__item">Москва</span>
            <span class="attrs__item">Полный рабочий день</span>
            
          </div>
        </li>
    </ul>
  </div>

  <div class="promo-block__footer">
    <a style="background-image:none;" href="https://moikrug.ru/" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_A" class="promo-block__footer-link">Создать резюме</a>

    <a style="background-image:none;" href="https://moikrug.ru/info/service" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_A" class="promo-block__footer-link">Разместить вакансию</a>
  </div>
</div>




          
  <div class="columns-group__column promo-block promo-block_freelansim-tasks">
    <h2 class="promo-block__title">
      <a href="http://freelansim.ru/" target="_blank" data-utm="?utm_source=habrahabr&amp;utm_medium=referral&amp;utm_campaign=mainpage&amp;utm_content=block_freelansim" class="icon_logo_freelansim"></a>
      <a href="http://freelansim.ru/" target="_blank" data-utm="?utm_source=habrahabr&amp;utm_medium=referral&amp;utm_campaign=mainpage&amp;utm_content=block_freelansim" class="promo-block__title-link">Заказы</a>
    </h2>

    <div class="promo-block__content">
      <ul class="content-list content-list_promo">
          <li class="content-list__item task ">
            <a href="http://freelansim.ru/tasks/135857" data-utm="?utm_source=habrahabr&amp;utm_medium=referral&amp;utm_campaign=mainpage&amp;utm_content=block_freelansim" class="content-list__item-link task__title">Верстка интернет-магазина по готовому дизайну на PrestaShop</a>
            <div class="task__attrs attrs">
              <span class="attrs__item">04.02.2016</span>
              <span class="attrs__item">0 откликов</span>
              <strong class="attrs__item">15000 руб./за проект</strong>

            </div>
          </li>
          <li class="content-list__item task ">
            <a href="http://freelansim.ru/tasks/135855" data-utm="?utm_source=habrahabr&amp;utm_medium=referral&amp;utm_campaign=mainpage&amp;utm_content=block_freelansim" class="content-list__item-link task__title">Восстановление работы раздела "Случайный проект"</a>
            <div class="task__attrs attrs">
              <span class="attrs__item">04.02.2016</span>
              <span class="attrs__item">0 откликов</span>
              <strong class="attrs__item">690 руб./в час</strong>

            </div>
          </li>
          <li class="content-list__item task ">
            <a href="http://freelansim.ru/tasks/135853" data-utm="?utm_source=habrahabr&amp;utm_medium=referral&amp;utm_campaign=mainpage&amp;utm_content=block_freelansim" class="content-list__item-link task__title">Разработка браслета-слиптрекера</a>
            <div class="task__attrs attrs">
              <span class="attrs__item">04.02.2016</span>
              <span class="attrs__item">0 откликов</span>
              <strong class="attrs__item">Цена договорная</strong>

            </div>
          </li>
          <li class="content-list__item task ">
            <a href="http://freelansim.ru/tasks/135851" data-utm="?utm_source=habrahabr&amp;utm_medium=referral&amp;utm_campaign=mainpage&amp;utm_content=block_freelansim" class="content-list__item-link task__title">Дизайн браслета-слиптрекера</a>
            <div class="task__attrs attrs">
              <span class="attrs__item">04.02.2016</span>
              <span class="attrs__item">0 откликов</span>
              <strong class="attrs__item">Цена договорная</strong>

            </div>
          </li>
          <li class="content-list__item task ">
            <a href="http://freelansim.ru/tasks/135849" data-utm="?utm_source=habrahabr&amp;utm_medium=referral&amp;utm_campaign=mainpage&amp;utm_content=block_freelansim" class="content-list__item-link task__title">Отредактировать swf</a>
            <div class="task__attrs attrs">
              <span class="attrs__item">04.02.2016</span>
              <span class="attrs__item">0 откликов</span>
              <strong class="attrs__item">200 руб./за проект</strong>

            </div>
          </li>
      </ul>
    </div>

    <div class="promo-block__footer">
      <a href="http://freelansim.ru/" data-utm="?utm_source=habrahabr&amp;utm_medium=referral&amp;utm_campaign=mainpage&amp;utm_content=block_freelansim" class="promo-block__footer-link">Зарегистрироваться</a>

      <a href="http://freelansim.ru/?utm_source=habrahabr&utm_medium=referral&utm_campaign=mainpage&utm_content=block_freelansim" class="promo-block__footer-link">Разместить заказ</a>
    </div>
  </div>

        </div>
    </div>

    <div class="sidebar_right">
      <div class="float_yandex_ad">
        <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- Banner 1 -->
        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4098002249090227" data-ad-slot="3085458198" data-ad-format="auto"></ins>
        <a href="https://special.habrahabr.ru/advertising/" class="firskill__label">Реклама</a>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>
    </div>
  </div>



          <div class="clear"></div>

          <div class="footer_panel">
            <div id="footer">
  <dl>
    <dd><a href="https://habrahabr.ru/auth/login/">Войти</a></dd>
    <dd><a href="https://habrahabr.ru/auth/register/">Регистрация</a></dd>
  </dl>
  <dl>
    <dt>Разделы</dt>
    <dd><a href="https://habrahabr.ru/posts/top/">Публикации</a></dd>
    <dd><a href="https://habrahabr.ru/hubs/">Хабы</a></dd>
    <dd><a href="https://habrahabr.ru/companies/">Компании</a></dd>
    <dd><a href="https://habrahabr.ru/users/">Пользователи</a></dd>
    <dd><a href="https://toster.ru/?_aa=press_anykey">Q&amp;A</a></dd>
    <dd><a href="https://habrahabr.ru/sandbox/">Песочница</a></dd>

  </dl>
  <dl>
    <dt>Инфо</dt>
    <dd><a href="https://habrahabr.ru/info/about/">О сайте</a></dd>
    <dd><a href="https://habrahabr.ru/info/help/rules/">Правила</a></dd>
    <dd><a href="https://habrahabr.ru/info/help/">Помощь</a></dd>
    <dd><a href="https://habrahabr.ru/info/agreement/">Соглашение</a></dd>
  </dl>
  <dl>
    <dt>Услуги</dt>
    <dd><a href="https://special.habrahabr.ru/advertising/">Реклама</a></dd>
      <dd><a href="https://special.habrahabr.ru/">Спецпроекты</a></dd>
      <dd><a href="https://special.habrahabr.ru/corporate/">Тарифы</a></dd>
      <dd><a href="https://special.habrahabr.ru/content/">Контент</a></dd>
      <dd><a href="https://special.habrahabr.ru/workshops/">Вебинары</a></dd>
  </dl>

  <dl>
    <dt>Разное</dt>
    <dd><a href="https://habrahabr.ru/apps/">Приложения</a></dd>
    <dd><a href="https://special.habrahabr.ru/microsoft/mobile/" target="_blank">Тест-драйв</a></dd>
    <dd><a href="https://special.habrahabr.ru/hello_startup/bizspark/" target="_blank">Помощь стартапам</a></dd>
      <dd><a href="https://special.habrahabr.ru/#hr">Работа в IT</a></dd>
  </dl>
  <div class="copyright">

    <div class="about">
      <a href="https://tmtm.ru/">© TM</a>

      <br><br>
      <a href="https://habrahabr.ru/feedback/">Служба поддержки</a><br><br>
          <a href="https://m.habrahabr.ru/post/208026/?mobile=yes">Мобильная версия</a><br><br>


      <div class="social_accounts">
        <a href="https://twitter.com/habrahabr" class="tw"></a>
        <a href="https://www.facebook.com/habrahabr.ru" class="fb"></a>
        <a href="https://vk.com/habr" class="vk"></a>
        <!-- <a href="" class="gp"></a> //-->
      </div>

    </div>
  </div>
</div>
          </div>
        </div>
      </div>
    </div>


      <script type="text/javascript" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/jquery.cookie.js"></script>
      <script type="text/javascript">
        $(document).ready( function(){
          window.tmidLogin = function(){ return false; };
          if( $.cookie('tmid_no_check') == undefined ) {
            var expire = new Date();
            expire.setMinutes(expire.getMinutes() + 10 );
            $.cookie('tmid_no_check', 1, { expires: expire } );
            $.getScript("https://id.tmtm.ru/checklogin/", function(){
              if( window.tmidLogin() ) {

                  var href = $('#login').attr('href');

                  if( href !== undefined ) {
                      window.location.href = href;
                  }
              }
            });
          }
        });
      </script>

    <script type="text/javascript">
  // global vars
  var g_base_url = 'habrahabr.ru';
  var g_show_xpanel = false;
  var g_base_fullurl = 'https://habrahabr.ru/';
  var g_is_guest = false;
</script> 

      <script type="text/javascript" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/shortcuts.js"></script>

    <script type="text/javascript" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/global_footer_main.js"></script>

    	<script type="text/javascript" src="./STM32 и USB-HID — это просто _ Хабрахабр_files/saved_resource"></script>

    
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            if (typeof (_yaparams) != 'undefined') {
                w.yaCounter24049213 = new Ya.Metrika({id:24049213,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true,
                    params:_yaparams});
            } else {
                w.yaCounter24049213 = new Ya.Metrika({id:24049213,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true});
            }

        } catch(e) { }
    });

    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript>&lt;div&gt;&lt;img src="//mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" /&gt;&lt;/div&gt;</noscript>
<!-- /Yandex.Metrika counter -->

    

    

    <!-- Хабр не резиновый! -->
  

<div id="AutocompleteContainter_5f631" style="position: absolute; z-index: 9999; top: 0px; left: 0px;"><div class="autocomplete-w1"><div class="autocomplete" id="Autocomplete_5f631" style="display: none; width: 300px; max-height: 400px;"></div></div></div><div id="AutocompleteContainter_34c52" style="position: absolute; z-index: 9999; top: 2px; left: 0px;"><div class="autocomplete-w1"><div class="autocomplete" id="Autocomplete_34c52" style="display: none; width: 300px; max-height: 400px;"></div></div></div><script id="hiddenlpsubmitdiv" style="display: none;"></script><script>try{(function() { for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; if (typeof(lastpass_f.lpsubmitorig2)=='object'){ continue;}lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); if (d) {for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ if (typeof(d.innerText) != 'undefined') { d.innerText=i.toString(); } else { d.textContent=i.toString(); } } } d.dispatchEvent(customEvent); }form.lpsubmitorig2(); } } }})()}catch(e){}</script></body></html>